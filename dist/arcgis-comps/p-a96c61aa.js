import{az as n,bD as t}from"./p-5420851c.js";const r={ar:[".",","],bg:[","," "],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function e(t){t||(t=n());let e=t in r;if(!e){const n=t.split("-");n.length>1&&n[0]in r&&(t=n[0],e=!0),e||(t="en")}const[o,i,c="#,##0.###"]=r[t];return{decimal:o,group:i,pattern:c}}function o(n,t){const r=e((t={...t}).locale);t.customs=r;const o=t.pattern||r.pattern;return isNaN(n)||Math.abs(n)===1/0?null:function(n,t,r){const e=(r=r||{}).customs.group,o=r.customs.decimal,c=t.split(";"),s=c[0];if(-1!==(t=c[n<0?1:0]||"-"+s).indexOf("%"))n*=100;else if(-1!==t.indexOf("‰"))n*=1e3;else{if(-1!==t.indexOf("¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}const u=i,f=s.match(u);if(!f)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(u,function(n,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);const e=t.split("."),o="string"==typeof r.places&&r.places.indexOf(",");let i=r.places;o?i=r.places.substring(o+1):i>=0||(i=(e[1]||[]).length),r.round<0||(n=Number(n.toFixed(Number(i))));const c=String(Math.abs(n)).split("."),s=c[1]||"";if(e[1]||r.places){o&&(r.places=r.places.substring(0,o));const n=void 0!==r.places?r.places:e[1]&&e[1].lastIndexOf("0")+1;n>s.length&&(c[1]=s.padEnd(Number(n),"0")),i<s.length&&(c[1]=s.substr(0,Number(i)))}else c[1]&&c.pop();const u=e[0].replace(",","");let f=u.indexOf("0");-1!==f&&(f=u.length-f,f>c[0].length&&(c[0]=c[0].padStart(f,"0")),-1===u.indexOf("#")&&(c[0]=c[0].substr(c[0].length-f)));let a,l,p=e[0].lastIndexOf(",");if(-1!==p){a=e[0].length-p-1;const n=e[0].substr(0,p);p=n.lastIndexOf(","),-1!==p&&(l=n.length-p-1)}const d=[];for(let n=c[0];n;){const t=n.length-a;d.push(t>0?n.substr(t):n),n=t>0?n.slice(0,t):"",l&&(a=l,l=void 0)}return c[0]=d.reverse().join(r.group||","),c.join(r.decimal||".")}(n,f[0],{decimal:o,group:e,places:r.places,round:r.round}))}(n,o,t)}const i=/[#0,]*[#0](?:\.0*#*)?/;function c(n){const r=e((n=n||{}).locale),o=n.pattern||r.pattern,c=r.group,s=r.decimal;let a=1;if(-1!==o.indexOf("%"))a/=100;else if(-1!==o.indexOf("‰"))a/=1e3;else if(-1!==o.indexOf("¤"))throw new Error("currency notation not supported");const l=o.split(";");return 1===l.length&&l.push("-"+l[0]),{regexp:f(l,(function(r){return(r="(?:"+t(r,".")+")").replace(i,(function(t){const r={signed:!1,separator:n.strict?c:[c,""],fractional:n.fractional,decimal:s,exponent:!1},e=t.split(".");let o=n.places;1===e.length&&1!==a&&(e[1]="###"),1===e.length||0===o?r.fractional=!1:(void 0===o&&(o=n.pattern?e[1].lastIndexOf("0")+1:1/0),o&&null==n.fractional&&(r.fractional=!0),!n.places&&o<e[1].length&&(o+=","+e[1].length),r.places=o);const i=e[0].split(",");return i.length>1&&(r.groupSize=i.pop().length,i.length>1&&(r.groupSize2=i.pop().length)),"("+function(n){"places"in(n=n||{})||(n.places=1/0),"string"!=typeof n.decimal&&(n.decimal="."),"fractional"in n&&!/^0/.test(String(n.places))||(n.fractional=[!0,!1]),"exponent"in n||(n.exponent=[!0,!1]),"eSigned"in n||(n.eSigned=[!0,!1]);const t=u(n),r=f(n.fractional,(function(t){let r="";return t&&0!==n.places&&(r="\\"+n.decimal,n.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+n.places+"}"),r}),!0);let e=t+r;return r&&(e="(?:(?:"+e+")|(?:"+r+"))"),e+f(n.exponent,(function(t){return t?"([eE]"+u({signed:n.eSigned})+")":""}))}(r)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:c,decimal:s,factor:a}}function s(n,t){const r=c(t),e=new RegExp("^"+r.regexp+"$").exec(n);if(!e)return NaN;let o=e[1];if(!e[1]){if(!e[2])return NaN;o=e[2],r.factor*=-1}return o=o.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(o)*r.factor}function u(n){return"signed"in(n=n||{})||(n.signed=[!0,!1]),"separator"in n?"groupSize"in n||(n.groupSize=3):n.separator="",f(n.signed,(function(n){return n?"[-+]":""}),!0)+f(n.separator,(function(r){if(!r)return"(?:\\d+)";" "===(r=t(r))?r="\\s":" "===r&&(r="\\s\\xa0");const e=n.groupSize,o=n.groupSize2;if(o){const n="(?:0|[1-9]\\d{0,"+(o-1)+"}(?:["+r+"]\\d{"+o+"})*["+r+"]\\d{"+e+"})";return e-o>0?"(?:"+n+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":n}return"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+r+"]\\d{"+e+"})*)"}),!0)}const f=function(n,t,r){if(!(n instanceof Array))return t(n);const e=[];for(let r=0;r<n.length;r++)e.push(t(n[r]));return a(e.join("|"),r)},a=function(n,t){return"("+(t?"?:":"")+n+")"};export{c as a,o,s as p}