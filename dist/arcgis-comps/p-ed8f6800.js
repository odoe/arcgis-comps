import{s as p,br as i,a as s,e as t,d as r,i as o}from"./p-e58503d5.js";import{t as e}from"./p-1620a26c.js";import{p as m}from"./p-cbbdb7db.js";import{u as a}from"./p-a63f7978.js";import"./p-53bb6ab4.js";import"./p-2f398ed1.js";import"./p-d3105731.js";import"./p-5d962998.js";import"./p-728dcbb0.js";import"./p-ccdb8e80.js";import"./p-2c84c65f.js";import"./p-4d38e149.js";import"./p-ea0c022e.js";import"./p-3c70d22f.js";import"./p-8f986f60.js";import"./p-746a9d8f.js";import"./p-1c99992b.js";import"./p-dcdb33cf.js";import"./p-95909347.js";import"./p-6ded4c02.js";import"./p-0d1e969a.js";import"./p-7f47b970.js";import"./p-e6fe5d89.js";import"./p-5763113b.js";import"./p-8bc9b36a.js";import"./p-a9a30646.js";import"./p-765e6c28.js";import"./p-b79fcce3.js";import"./p-7a658388.js";import"./p-e273719b.js";import"./p-74de0937.js";import"./p-fb38a9d0.js";import"./p-f94762ac.js";import"./p-ea916a39.js";import"./p-8a919d07.js";import"./p-efbca0ca.js";import"./p-340cd100.js";import"./p-eb48bb01.js";import"./p-b9aa4901.js";import"./p-a3955219.js";import"./p-c2152437.js";import"./p-0bb84768.js";import"./p-19bc1e3d.js";import"./p-a24f7752.js";import"./p-37f005a2.js";import"./p-f06611ed.js";import"./p-bdf9e611.js";import"./p-a72732f2.js";import"./p-a8d1cf30.js";import"./p-a6c8fb32.js";import"./p-6b2eb7a7.js";import"./p-01e5a461.js";import"./p-c93d2280.js";import"./p-fea9512d.js";import"./p-3bcc4805.js";import"./p-3721667d.js";import"./p-4019eec3.js";import"./p-c048b814.js";import"./p-a131049b.js";import"./p-a2324023.js";import"./p-025c0c8e.js";import"./p-e72a43d7.js";import"./p-97ec6ae5.js";import"./p-382f7028.js";import"./p-54330161.js";import"./p-93765525.js";import"./p-8747982c.js";import"./p-56ed1c7a.js";import"./p-04a0cfca.js";import"./p-b0565d49.js";import"./p-ca295674.js";import"./p-41f2b2dd.js";import"./p-e654504b.js";import"./p-5032dfbd.js";import"./p-182bb5be.js";import"./p-db87794e.js";import"./p-2f5c7e83.js";import"./p-9f1c2d50.js";import"./p-dfc6337f.js";import"./p-d87e82bf.js";import"./p-b05e75b2.js";import"./p-58c16730.js";import"./p-b5b00e38.js";import"./p-a4587ab0.js";import"./p-2ae44317.js";import"./p-9f58a277.js";import"./p-9e860e7b.js";import"./p-0923eebd.js";import"./p-568eb6e8.js";import"./p-de5b11d6.js";import"./p-c7a58085.js";import"./p-76f37e40.js";import"./p-afac6fb2.js";import"./p-da33e926.js";import"./p-7731c620.js";let j=class extends(m(a)){constructor(){super(...arguments),this.type="voxel-3d",this._wasmLayerId=-1}initialize(){if("local"!==this.view.viewingMode)throw new p("voxel:unsupported-viewingMode","Voxel layers support local viewingMode only.",{});if("webgl2"!==this.view._stage.renderView.renderingContext.webglVersion)throw new p("voxel:unsupported-context","Voxel layers are supported in WebGL2 rendering contexts only.",{});if(!i(this.layer.spatialReference,this.view.spatialReference))throw new p("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});const t=e.getInstance(),r=t.addLayer(this.view,this).then((p=>{this._wasmLayerId=p,this._suspendedHandle=s(this,"suspended",(p=>{e.getInstance().setLayerEnabled(this.view,this,!p)}))})).catch((i=>{if(t.removeLayer(this.view,this),this._wasmLayerId=-1,-1===i)throw new p("voxel:addLayer-failure","The voxel layer description was invalid.",{});if(-2===i)throw new p("voxel:addLayer-failure","The voxel layer web assembly module failed to download.",{})}));this.addResolvingPromise(r)}destroy(){e.getInstance().removeLayer(this.view,this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){return!(this._wasmLayerId<0)&&e.getInstance().isUpdating(this.view,this._wasmLayerId)}updatingFlagChanged(){this.notifyChange("updating")}};t([r()],j.prototype,"layer",void 0),t([r({readOnly:!0,aliasOf:"layer.parsedUrl.path"})],j.prototype,"baseUrl",void 0),j=t([o("esri.views.3d.layers.VoxelLayerView3D")],j);const d=j;export default d;