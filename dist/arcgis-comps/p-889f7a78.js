import{af as t,S as n,p as o,b6 as e,A as r}from"./p-e58503d5.js";const f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function c(t){return t instanceof o}function u(t){return t instanceof n?Object.keys(t.items):c(t)?e(t).keys():t?Object.keys(t):[]}function i(t,o){return t instanceof n?t.items[o]:t[o]}function s(t){return t?t.declaredClass:null}function l(t,n){const o=t.diff;if(o&&"function"==typeof o)return o(t,n);const e=u(t),p=u(n);if(0===e.length&&0===p.length)return;if(!e.length||!p.length||function(t,n){return!(!Array.isArray(t)||!Array.isArray(n))&&t.length!==n.length}(t,n))return{type:"complete",oldValue:t,newValue:n};const a=p.filter((t=>-1===e.indexOf(t))),y=e.filter((t=>-1===p.indexOf(t))),m=e.filter((o=>p.indexOf(o)>-1&&i(t,o)!==i(n,o))).concat(a,y).sort(),b=s(t);if(b&&f.indexOf(b)>-1&&m.length)return{type:"complete",oldValue:t,newValue:n};let V;const j=c(t)&&c(n);for(const e of m){const f=i(t,e),c=i(n,e);let u;(j||"function"!=typeof f&&"function"!=typeof c)&&f!==c&&(null==f&&null==c||(u=o&&o[e]&&"function"==typeof o[e]?o[e](f,c):"object"==typeof f&&"object"==typeof c&&s(f)===s(c)?l(f,c):{type:"complete",oldValue:f,newValue:c},r(u)&&(r(V)?V.diff[e]=u:V={type:"partial",diff:{[e]:u}})))}return V}function p(n,o){if(t(n))return!1;const e=o.split(".");let r=n;for(const t of e){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const n=r.diff[t];if(!n)return!1;r=n}}return!0}function a(t,n){for(const o of n)if(p(t,o))return!0;return!1}function y(n,o){if(!("function"==typeof n||"function"==typeof o||t(n)&&t(o)))return t(n)||t(o)||"object"==typeof n&&"object"==typeof o&&s(n)!==s(o)?{type:"complete",oldValue:n,newValue:o}:l(n,o)}function m(n){if(t(n))return!0;switch(n.type){case"complete":return!1;case"collection":{const t=n;for(const n of t.added)if(!m(n))return!1;for(const n of t.removed)if(!m(n))return!1;for(const n of t.changed)if(!m(n))return!1;return!0}case"partial":for(const t in n.diff)if(!m(n.diff[t]))return!1;return!0}}export{p as a,m as d,y as m,a as y}