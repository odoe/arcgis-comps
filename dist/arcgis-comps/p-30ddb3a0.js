import{t,E as o,p as n,bh as e,r}from"./p-9ae46e68.js";const f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function u(t){return t instanceof n}function c(t){return t instanceof o?Object.keys(t.items):u(t)?e(t).keys():t?Object.keys(t):[]}function i(t,n){return t instanceof o?t.items[n]:t[n]}function l(t){return t?t.declaredClass:null}function p(t,o){const n=t.diff;if(n&&"function"==typeof n)return n(t,o);const e=c(t),s=c(o);if(0===e.length&&0===s.length)return;if(!e.length||!s.length||function(t,o){return!(!Array.isArray(t)||!Array.isArray(o))&&t.length!==o.length}(t,o))return{type:"complete",oldValue:t,newValue:o};const a=s.filter((t=>-1===e.indexOf(t))),y=e.filter((t=>-1===s.indexOf(t))),b=e.filter((n=>s.indexOf(n)>-1&&i(t,n)!==i(o,n))).concat(a,y).sort(),m=l(t);if(m&&f.indexOf(m)>-1&&b.length)return{type:"complete",oldValue:t,newValue:o};let V;const j=u(t)&&u(o);for(const e of b){const f=i(t,e),u=i(o,e);let c;(j||"function"!=typeof f&&"function"!=typeof u)&&f!==u&&(null==f&&null==u||(c=n&&n[e]&&"function"==typeof n[e]?n[e](f,u):"object"==typeof f&&"object"==typeof u&&l(f)===l(u)?p(f,u):{type:"complete",oldValue:f,newValue:u},r(c)&&(r(V)?V.diff[e]=c:V={type:"partial",diff:{[e]:c}})))}return V}function s(o,n){if(t(o))return!1;const e=n.split(".");let r=o;for(const t of e){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const o=r.diff[t];if(!o)return!1;r=o}}return!0}function a(t,o){for(const n of o)if(s(t,n))return!0;return!1}function y(o,n){if(!("function"==typeof o||"function"==typeof n||t(o)&&t(n)))return t(o)||t(n)||"object"==typeof o&&"object"==typeof n&&l(o)!==l(n)?{type:"complete",oldValue:o,newValue:n}:p(o,n)}export{s as a,y as m,a as y}