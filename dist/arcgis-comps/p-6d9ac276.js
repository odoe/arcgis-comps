import{an as r,a7 as e,ao as n}from"./p-c8bc3433.js";import{a as t,n as o}from"./p-f90324d0.js";import"./p-84bf99cb.js";async function i(t=null,o){var i,a;if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!t)throw new e("internal:geometry-service-url-not-configured");let c;c="portal"in t?t.portal||n.getDefault():t,await c.load({signal:o});const l=null==(i=c.helperServices)||null==(a=i.geometry)?void 0:a.url;if(!l)throw new e("internal:geometry-service-url-not-configured");return l}async function a(r,n,a=null,c){const l=await i(a,c),s=new t;s.geometries=[r],s.outSpatialReference=n;const f=await o(l,s,{signal:c});if(f&&Array.isArray(f)&&1===f.length)return f[0];throw new e("internal:geometry-service-projection-failed")}export{i as getGeometryServiceURL,a as projectGeometry}