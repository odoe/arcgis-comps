import{A as n,af as t}from"./p-e58503d5.js";import{l as r,y as u,c as e,f as o,s as c}from"./p-c048b814.js";const f=(n,t,r)=>[t,r],l=(n,t,r)=>[t,r,n[2]],s=(n,t,r)=>[t,r,n[2],n[3]];function i(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:n(t.extent)?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function a({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function p({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function m(n,t,r){const u=[];let e,o,c,f;for(let l=0;l<r.length;l++){const s=r[l];l>0?(c=a(n,s[0]),f=p(n,s[1]),c===e&&f===o||(u.push(t(s,c-e,f-o)),e=c,o=f)):(e=a(n,s[0]),o=p(n,s[1]),u.push(t(s,e,o)))}return u.length>0?u:null}function w({scale:n,translate:t},r){return r*n[0]+t[0]}function y({scale:n,translate:t},r){return t[1]-r*n[1]}function A(n,t,r){const u=new Array(r.length);if(!r.length)return u;const[e,o]=n.scale;let c=w(n,r[0][0]),f=y(n,r[0][1]);u[0]=t(r[0],c,f);for(let n=1;n<r.length;n++){const l=r[n];c+=l[0]*e,f-=l[1]*o,u[n]=t(l,c,f)}return u}function h(n,t,r){const u=new Array(r.length);for(let e=0;e<r.length;e++)u[e]=A(n,t,r[e]);return u}function j(n,t,r,u,e){return t.x=a(n,r.x),t.y=p(n,r.y),t!==r&&(u&&(t.z=r.z),e&&(t.m=r.m)),t}function L(n,t){return n&&t?r(t)?j(n,{},t,!1,!1):u(t)?function(n,t,r,u,e){const o=function(n,t,r,u){const e=[],o=r?u?s:l:u?l:f;for(let r=0;r<t.length;r++){const u=m(n,o,t[r]);u&&u.length>=2&&e.push(u)}return e.length?e:null}(n,r.paths,u,e);return o?(t.paths=o,t):null}(n,{},t,!1,!1):e(t)?function(n,t,r,u,e){const o=function(n,t,r,u){const e=[],o=r?u?s:l:u?l:f;for(let r=0;r<t.length;r++){const u=m(n,o,t[r]);u&&u.length>=3&&e.push(u)}return e.length?e:null}(n,r.rings,u,e);return o?(t.rings=o,t):null}(n,{},t,!1,!1):o(t)?function(n,t,r,u,e){return t.points=function(n,t,r,u){return m(n,r?u?s:l:u?l:f,t)}(n,r.points,u,e),t}(n,{},t,!1,!1):c(t)?function(n,t,r){return t.xmin=a(n,r.xmin),t.ymin=p(n,r.ymin),t.xmax=a(n,r.xmax),t.ymax=p(n,r.ymax),t}(n,{},t):null:null}function M(t,r,u,e,o){return n(u)&&(r.points=function(n,t,r,u){return A(n,r?u?s:l:u?l:f,t)}(t,u.points,e,o)),r}function b(n,r,u,e,o){return t(u)||(r.x=w(n,u.x),r.y=y(n,u.y),r!==u&&(e&&(r.z=u.z),o&&(r.m=u.m))),r}function d(t,r,u,e,o){return n(u)&&(r.rings=function(n,t,r,u){return h(n,r?u?s:l:u?l:f,t)}(t,u.rings,e,o)),r}function g(t,r,u,e,o){return n(u)&&(r.paths=function(n,t,r,u){return h(n,r?u?s:l:u?l:f,t)}(t,u.paths,e,o)),r}export{d as B,g as C,j as O,L as U,M as q,i as s,b as v}