import{B as t,aQ as i}from"./p-566b0715.js";function s(t){return"oid"===t.type||"esriFieldTypeOID"===t.type}function e(t){return"global-id"===t.type||"esriFieldTypeGlobalID"===t.type}class r{constructor(i){if(this.fields=i,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!i)return;const r=[];for(const o of i){const i=o&&o.name;if(i){const l=n(i);this._fieldsMap.set(i,o),this._fieldsMap.set(l,o),r.push(l),"date"===(h=o).type||"esriFieldTypeDate"===h.type?(this.dateFields.push(o),this._dateFieldsSet.add(o)):t(o)&&(this._numericFieldsSet.add(o),this.numericFields.push(o)),s(o)||e(o)||(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable)}}var h;r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)s(t)||e(t)||t.nullable||void 0!==i(t)||this._requiredFields.push(t)}return this._requiredFields}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(n(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const i=this.get(t);if(i)return i.name}}function n(t){return t.toLowerCase().trim()}export{r as d}