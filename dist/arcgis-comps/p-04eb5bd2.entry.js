import{r as e,c as s,g as t}from"./p-53bb6ab4.js";import{e as i,d as a,f as l,i as r,r as o,a as n,o as m,j as d,z as g,l as p}from"./p-e58503d5.js";import{o as h}from"./p-b5b00e38.js";import{s as c}from"./p-400ca3dc.js";import{y as u,f as b,m as v}from"./p-1189fa83.js";import{t as _}from"./p-b8beb0d3.js";import{t as w}from"./p-2a99994a.js";import"./p-efbca0ca.js";import"./p-9b7a2176.js";import"./p-e654504b.js";import"./p-0eb619a6.js";import"./p-4d17d2cd.js";let B=class extends o.EventedAccessor{constructor(e){super(e),this._basemapCache={},this.nextBasemap=u("hybrid",this._basemapCache),this.view=null,this.toggle=this.toggle.bind(this)}initialize(){n(this,"nextBasemap",(e=>{e&&!e.loaded&&e.load().catch((()=>{}))}))}destroy(){this.view=null,b(this._basemapCache),this._basemapCache=null}get activeBasemap(){return u(this.get("view.map.basemap")||"topo",this._basemapCache)}castNextBasemap(e){return u(e,this._basemapCache)}get state(){return this.get("view.ready")?"ready":"disabled"}toggle(){if("disabled"===this.state)return;const e=this.activeBasemap,s=this.nextBasemap;this.view.map.basemap=s,this.nextBasemap=e,this.emit("toggle",{previous:e,current:s})}static getThumbnailUrl(e){if(!e)return null;const{thumbnailUrl:s}=e;if(s)return s;const t=v(e);if(t)return c[t].thumbnailUrl;const i=e.baseLayers.find((e=>!!h(e)().get("portalItem.thumbnailUrl")));return i?h(i)().get("portalItem.thumbnailUrl"):null}};i([a({readOnly:!0})],B.prototype,"activeBasemap",null),i([a()],B.prototype,"nextBasemap",void 0),i([l("nextBasemap")],B.prototype,"castNextBasemap",null),i([a({readOnly:!0})],B.prototype,"state",null),i([a()],B.prototype,"view",void 0),i([a()],B.prototype,"toggle",null),B=i([r("esri.widgets.BasemapToggle.BasemapToggleViewModel")],B);const f=B,x="esri-basemap-thumbnail esri-basemap-toggle__container",y="esri-basemap-thumbnail__image esri-basemap-toggle__image";function j(e){const s=f.getThumbnailUrl(e);return s?{backgroundImage:"url("+s+")"}:{backgroundImage:""}}const M={title:!1};let T=class extends g{constructor(e,s){super(e,s),this.activeBasemap=null,this.label=void 0,this.messages=null,this.nextBasemap=null,this.view=null,this.viewModel=new f,this.visibleElements={...M}}castVisibleElements(e){return{...M,...e}}toggle(){}render(){const e=this.viewModel,s="disabled"===e.state?null:e.activeBasemap,t="disabled"===e.state?null:e.nextBasemap,i=t?t.title:"",a=t&&"loaded"!==t.loadStatus;let l;return this.visibleElements.title&&i&&(l=p("div",{class:"esri-basemap-thumbnail__overlay esri-basemap-toggle__image-overlay",key:"esri-basemap-toggle__overlay"},p("span",{class:"esri-basemap-thumbnail__title esri-basemap-toggle__title",title:i},i))),p("div",{class:"esri-basemap-toggle esri-widget",role:"button","data-basemap-id":t?t.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:0,title:this.label},p("div",{class:this.classes(x,"esri-basemap-toggle__image--secondary")},p("div",{class:y,styles:j(s)})),p("div",{class:x},p("div",{class:this.classes(y,a?"esri-basemap-toggle__image--loading":null),styles:j(t)},a?p("span",{"aria-hidden":"true",role:"presentation",class:"esri-widget__loader-animation"}):null),l))}_toggle(){this.toggle()}};i([m("viewModel.activeBasemap")],T.prototype,"activeBasemap",void 0),i([a({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],T.prototype,"label",void 0),i([a(),d("esri/widgets/BasemapToggle/t9n/BasemapToggle")],T.prototype,"messages",void 0),i([m("viewModel.nextBasemap")],T.prototype,"nextBasemap",void 0),i([m("viewModel.view")],T.prototype,"view",void 0),i([w("toggle"),a({type:f})],T.prototype,"viewModel",void 0),i([a()],T.prototype,"visibleElements",void 0),i([l("visibleElements")],T.prototype,"castVisibleElements",null),i([m("viewModel.toggle")],T.prototype,"toggle",null),i([_()],T.prototype,"_toggle",null),T=i([r("esri.widgets.BasemapToggle")],T);const k=T;let I=class{constructor(t){e(this,t),this.loaded=s(this,"loaded",7),this.position="bottom-left"}validateView(e){e&&(this.widget.view=e,"arcgis-expand"!==this.el.parentElement.tagName.toLowerCase()&&this.widget.view.ui.add(this.widget,this.position))}validateNextBasemap(e){e&&this.widget&&(this.widget.nextBasemap=e)}componentWillLoad(){const e={container:this.el};this.nextBasemap&&(e.nextBasemap=this.nextBasemap),this.view&&(e.view=this.view);const s=new k(e);this.widget=s,this.loaded.emit(!0)}get el(){return t(this)}static get watchers(){return{view:["validateView"],nextBasemap:["validateNextBasemap"]}}};I.style="@import url('https://js.arcgis.com/next/esri/themes/light/main.css');";export{I as arcgis_basemap_toggle}