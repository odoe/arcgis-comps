import{q as p,A as t,a as i,g as s,e as r,d as e,i as o}from"./p-e58503d5.js";import{p as m}from"./p-cbbdb7db.js";import{c as a}from"./p-0b395493.js";import{E as j}from"./p-99d89b71.js";import{aX as d}from"./p-340cd100.js";import{l as c}from"./p-6f439939.js";import{u as h}from"./p-a63f7978.js";import"./p-53bb6ab4.js";import"./p-8bc9b36a.js";import"./p-a9a30646.js";import"./p-765e6c28.js";import"./p-b79fcce3.js";import"./p-7a658388.js";import"./p-e273719b.js";import"./p-74de0937.js";import"./p-2f398ed1.js";import"./p-d3105731.js";import"./p-fb38a9d0.js";import"./p-f94762ac.js";import"./p-ea916a39.js";import"./p-8a919d07.js";import"./p-efbca0ca.js";import"./p-eb48bb01.js";import"./p-b9aa4901.js";import"./p-8f986f60.js";import"./p-ccdb8e80.js";import"./p-2c84c65f.js";import"./p-a3955219.js";import"./p-c2152437.js";import"./p-4d38e149.js";import"./p-95909347.js";import"./p-3c70d22f.js";import"./p-746a9d8f.js";import"./p-0bb84768.js";import"./p-19bc1e3d.js";import"./p-a24f7752.js";import"./p-7f47b970.js";import"./p-e6fe5d89.js";import"./p-0d1e969a.js";import"./p-5763113b.js";import"./p-37f005a2.js";import"./p-1c99992b.js";import"./p-f06611ed.js";import"./p-bdf9e611.js";import"./p-56ed1c7a.js";import"./p-a72732f2.js";import"./p-a8d1cf30.js";import"./p-e654504b.js";import"./p-3721667d.js";import"./p-c93d2280.js";import"./p-01e5a461.js";import"./p-fea9512d.js";import"./p-3bcc4805.js";import"./p-4019eec3.js";import"./p-c048b814.js";import"./p-a131049b.js";import"./p-a2324023.js";import"./p-5032dfbd.js";import"./p-182bb5be.js";import"./p-db87794e.js";import"./p-97ec6ae5.js";import"./p-2f5c7e83.js";import"./p-9f1c2d50.js";import"./p-54330161.js";import"./p-93765525.js";import"./p-8747982c.js";import"./p-6b2eb7a7.js";import"./p-dfc6337f.js";import"./p-e72a43d7.js";import"./p-382f7028.js";import"./p-728dcbb0.js";import"./p-ea0c022e.js";import"./p-dcdb33cf.js";import"./p-6ded4c02.js";import"./p-d87e82bf.js";import"./p-b05e75b2.js";import"./p-58c16730.js";import"./p-b5b00e38.js";import"./p-a4587ab0.js";import"./p-2ae44317.js";import"./p-9f58a277.js";import"./p-b0565d49.js";import"./p-9e860e7b.js";import"./p-0923eebd.js";import"./p-568eb6e8.js";import"./p-de5b11d6.js";import"./p-c7a58085.js";import"./p-04a0cfca.js";import"./p-ca295674.js";import"./p-5d962998.js";import"./p-41f2b2dd.js";import"./p-76f37e40.js";import"./p-afac6fb2.js";import"./p-da33e926.js";import"./p-889f7a78.js";import"./p-3e39c093.js";import"./p-5e833dfc.js";import"./p-7a5bfd29.js";import"./p-e31c89bd.js";import"./p-0e784e4d.js";import"./p-dbdf15fc.js";import"./p-e0d9ff4c.js";import"./p-08e5f531.js";import"./p-1f81b35d.js";import"./p-81b9df84.js";import"./p-5ce39624.js";import"./p-e9bae5e9.js";import"./p-51a17e75.js";import"./p-cc2794db.js";import"./p-0edb3309.js";import"./p-e8160b60.js";import"./p-2e8ad983.js";import"./p-f8414adc.js";import"./p-8925cd73.js";import"./p-58386239.js";import"./p-285c6a34.js";import"./p-a6c8fb32.js";import"./p-ca657fcf.js";import"./p-7392987e.js";import"./p-7731c620.js";import"./p-025c0c8e.js";import"./p-42bb6c1e.js";import"./p-2e37d910.js";import"./p-7ca40eac.js";let n=class extends(m(h)){constructor(){super(...arguments),this.type="graphics-3d",this.frustumVisibility=new a,this.slicePlaneEnabled=!1,this.drapeSourceType=1,this.suspendResumeExtent=null,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set("graphics3d",new j({owner:this,layer:this.layer,scaleVisibilityEnabled:!0})),this.graphics3d.setup(),this.frustumVisibility.setup(this),this.setupSuspendResumeExtent(),this.updatingHandles.add(this,"fullOpacity",(()=>this.graphics3d.graphicsCore.opacityChange())),this.handles.add(this.layer.on("graphic-update",(p=>this.graphics3d.graphicsCore.graphicUpdateHandler(p)))),this.addResolvingPromise(c(this).then((p=>this.fullExtentInLocalViewSpatialReference=p))),this.layer.internal?this.notifyChange("updating"):this.handles.add(p(this.view,"basemapTerrain.ready",(()=>this.notifyChange("updating"))))}destroy(){this.frustumVisibility&&(this.frustumVisibility.destroy(),this._set("frustumVisibility",null)),this.graphics3d&&(this.graphics3d.destroy(),this._set("graphics3d",null))}get legendEnabled(){return this.canResume()&&!this.frustumVisibility.suspended}get suspendInfo(){var p;const i={};return t(this.graphics3d.scaleVisibility)&&this.graphics3d.scaleVisibility.suspended&&(i.outsideScaleRange=!0),i.outsideOfView=!(null==(p=this.frustumVisibility)||!p.suspended),i}async fetchPopupFeatures(p,i){return t(i)?i.clientGraphics:null}notifyGraphicGeometryChanged(p){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(p)}notifyGraphicVisibilityChanged(p){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(p)}get graphics3DGraphics(){return this.graphics3d.graphicsCore.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphics3d?this.graphics3d.graphicsCore.graphics3DGraphicsByObjectID:null}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}getGraphicFromGraphicUid(p){return this.graphics3d.getGraphicFromGraphicUid(p)}whenGraphicBounds(p,t){return this.graphics3d.whenGraphicBounds(p,t)}computeAttachmentOrigin(p,t){return this.graphics3d?this.graphics3d.graphicsCore.computeAttachmentOrigin(p,t):null}getSymbolLayerSize(p,t){return this.graphics3d.getSymbolLayerSize(p,t)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(p){return this.graphics3d.maskOccludee(p)}highlight(p){return this.graphics3d.highlight(p)}get updatePolicy(){var p;return(null==(p=this.graphics3d)?void 0:p.graphicsCore.effectiveUpdatePolicy)||1}canResume(){var p;return super.canResume()&&!(null!=(p=this.graphics3d)&&p.suspended)}isUpdating(){var p,t;return!(!(this.graphics3d&&this.graphics3d.updating||this.frustumVisibility&&this.frustumVisibility.updating)&&(this.layer.internal||null!=(p=this.view)&&null!=(t=p.basemapTerrain)&&t.ready))}setupSuspendResumeExtent(){const p=()=>{this.suspendResumeExtent=d(this.graphics3d.graphicsCore.computedExtent,this.suspendResumeExtent,1.2,this.graphics3d.graphicsCore.extentPadding),this.frustumVisibility.setExtent(this.suspendResumeExtent)};i(this.graphics3d.graphicsCore,"computedExtent",(()=>p()),!0),s(this.graphics3d.graphicsCore,"extentPadding",(()=>p()),!0)}get performanceInfo(){return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:this.graphics3d.elevationAlignment.updating,visibilityFrustum:!this.frustumVisibility.suspended}}};r([e({aliasOf:"layer.graphics"})],n.prototype,"loadedGraphics",void 0),r([e({readOnly:!0})],n.prototype,"suspended",void 0),r([e({readOnly:!0})],n.prototype,"legendEnabled",null),r([e({readOnly:!0})],n.prototype,"updating",void 0),r([e()],n.prototype,"layer",void 0),r([e({readOnly:!0})],n.prototype,"frustumVisibility",void 0),r([e({readOnly:!0})],n.prototype,"graphics3d",void 0),r([e({type:Boolean})],n.prototype,"slicePlaneEnabled",void 0),r([e({readOnly:!0})],n.prototype,"suspendInfo",null),n=r([o("esri.views.3d.layers.GraphicsLayerView3D")],n);const b=n;export default b;