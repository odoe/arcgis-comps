import{o as t,r as s,l as r}from"./p-74de0937.js";import{e as i}from"./p-2f398ed1.js";import{A as n,bj as e}from"./p-e58503d5.js";function h(t){return i(e(t),0,255)}function o(t,s,r){return t=Number(t),isNaN(t)?r:t<s?s:t>r?r:t}class a{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,s,r,i=new a){return i.r=Math.round(t.r+(s.r-t.r)*r),i.g=Math.round(t.g+(s.g-t.g)*r),i.b=Math.round(t.b+(s.b-t.b)*r),i.a=t.a+(s.a-t.a)*r,i._sanitize()}static fromRgb(s,r){const i=s.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(i){const s=i[2].split(/\s*,\s*/),n=i[1];if("rgb"===n&&3===s.length||"rgba"===n&&4===s.length){const t=s[0];if("%"===t.charAt(t.length-1)){const t=s.map((t=>2.56*parseFloat(t)));return 4===s.length&&(t[3]=parseFloat(s[3])),a.fromArray(t,r)}return a.fromArray(s.map((t=>parseFloat(t))),r)}if("hsl"===n&&3===s.length||"hsla"===n&&4===s.length)return a.fromArray(t(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),r)}return null}static fromHex(t,s=new a){if(4!==t.length&&7!==t.length||"#"!==t[0])return null;const r=4===t.length?4:8,i=(1<<r)-1;let n=Number("0x"+t.substr(1));return isNaN(n)?null:(["b","g","r"].forEach((t=>{const e=n&i;n>>=r,s[t]=4===r?17*e:e})),s.a=1,s)}static fromArray(t,s=new a){return s._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(s.a)&&(s.a=1),s._sanitize()}static fromString(t,i){const n=s(t)?r(t):null;return n&&a.fromArray(n,i)||a.fromRgb(t,i)||a.fromHex(t,i)}static fromJSON(t){return t&&new a([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return n(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return n(t)?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if("string"==typeof t)a.fromString(t,this);else if(Array.isArray(t))a.fromArray(t,this);else{var s,r,i,n;this._set(null!=(s=t.r)?s:0,null!=(r=t.g)?r:0,null!=(i=t.b)?i:0,null!=(n=t.a)?n:1),t instanceof a||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),s=this.g.toString(16),r=this.b.toString(16);return`#${t.length<2?"0"+t:t}${s.length<2?"0"+s:s}${r.length<2?"0"+r:r}`}toCss(t=!1){const s=this.r+", "+this.g+", "+this.b;return t?`rgba(${s}, ${this.a})`:`rgb(${s})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=0){const s=h(this.r),r=h(this.g),i=h(this.b);return 0===t||1!==this.a?[s,r,i,h(255*this.a)]:[s,r,i]}clone(){return new a(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round(o(this.r,0,255)),this.g=Math.round(o(this.g,0,255)),this.b=Math.round(o(this.b,0,255)),this.a=o(this.a,0,1),this}_set(t,s,r,i){this.r=t,this.g=s,this.b=r,this.a=i}}a.prototype.declaredClass="esri.Color";export{a as h}