import{x as e,b as n,L as o,m as s,e as t,y as i,n as r,S as l,a,c as u,f,A as b,k as c}from"./p-8bc9b36a.js";import{s as m,A as p}from"./p-e58503d5.js";const y={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function w(b,c=y){if(!b)return{symbol:null};const{retainId:p=y.retainId,ignoreDrivers:w=y.ignoreDrivers,hasLabelingContext:d=y.hasLabelingContext,retainCIM:g=y.retainCIM}=c;let C;if(e(b)||b instanceof n)C=b.clone();else if("cim"===b.type){var I,M;const e=null==(I=b.data)||null==(M=I.symbol)?void 0:M.type;if("CIMPointSymbol"!==e)return{error:new m("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${e||"unknown"}' is unsupported in 3D`,{symbol:b})};C=g?b.clone():o.fromCIMSymbol(b)}else if(b instanceof s)C=t.fromSimpleLineSymbol(b);else if(b instanceof i)C=o.fromSimpleMarkerSymbol(b);else if(b instanceof r)C=o.fromPictureMarkerSymbol(b);else if(b instanceof l)C=a.fromSimpleFillSymbol(b);else{if(!(b instanceof u))return{error:new m("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${b.type||b.declaredClass}' is unsupported in 3D`,{symbol:b})};C=d?f.fromTextSymbol(b):o.fromTextSymbol(b)}if(p&&"cim"!==C.type&&(C.id=b.id),w&&e(C))for(let e=0;e<C.symbolLayers.length;++e)C.symbolLayers.getItemAt(e)._ignoreDrivers=!0;return{symbol:C}}function d(e,n,o,s){const t=g(e,{},s);t&&(n[o]=t)}function g(e,o,s){if(!e)return null;if(s&&"web-scene"===s.origin&&!(e instanceof b)&&!(e instanceof n)){const n=w(e,{retainCIM:!0});return p(n.symbol)?n.symbol.write(o,s):(s.messages&&s.messages.push(new m("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:s,error:n.error})),null)}return s&&"web-map"===s.origin&&"web-style"===e.type?(s.messages&&s.messages.push(new m("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:s})),null):e.write(o,s)}function C(e,n){return c(e,null,n)}export{w as a,C as l,d as m}