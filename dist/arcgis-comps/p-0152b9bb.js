import{w as e,A as t,am as n,z as r,$ as a}from"./p-b7e07897.js";import{g as i,c as s}from"./p-0a8e90e4.js";import{hN as l,h8 as o,hM as u}from"./p-7b6f6c18.js";import{w as p,A as c,x as f,O as m,p as R,g as S,h}from"./p-7a59165e.js";import"./p-ecfd5d6e.js";import"./p-3e28396b.js";import"./p-f78de11d.js";import"./p-8ec48dc4.js";import"./p-227a5838.js";function w(e){return e instanceof o}function b(r,a,h,b,j){return j(r,a,(function(r,a,j){if(j.length<2)return b(new Error("Missing Parameters"));if(null===(j=e(j))[0]&&null===j[1])return l(!1);if(t(j[0]))return j[1]instanceof o?l(new i({parentfeatureset:j[0],relation:h,relationGeom:j[1]})):null===j[1]?l(new s({parentfeatureset:j[0]})):b("Spatial Relation cannot accept this parameter type");if(w(j[0])){if(w(j[1])){let e=null;switch(h){case"esriSpatialRelEnvelopeIntersects":e=S(n(j[0]),n(j[1]));break;case"esriSpatialRelIntersects":e=S(j[0],j[1]);break;case"esriSpatialRelContains":e=R(j[0],j[1]);break;case"esriSpatialRelOverlaps":e=m(j[0],j[1]);break;case"esriSpatialRelWithin":e=f(j[0],j[1]);break;case"esriSpatialRelTouches":e=c(j[0],j[1]);break;case"esriSpatialRelCrosses":e=p(j[0],j[1])}return null!==e?e:u(new Error("Unrecognised Relationship"))}return t(j[1])?l(new i({parentfeatureset:j[1],relation:h,relationGeom:j[0]})):null===j[1]?l(!1):b("Spatial Relation cannot accept this parameter type")}return null!==j[0]?b("Spatial Relation cannot accept this parameter type"):t(j[1])?l(new s({parentfeatureset:j[1]})):j[1]instanceof o||null===j[1]?l(!1):void 0}))}function j(n){"async"===n.mode&&(n.functions.intersects=function(e,t){return b(e,t,"esriSpatialRelIntersects",n.failDefferred,n.standardFunctionAsync)},n.functions.envelopeintersects=function(e,t){return b(e,t,"esriSpatialRelEnvelopeIntersects",n.failDefferred,n.standardFunctionAsync)},n.signatures.push({name:"envelopeintersects",min:"2",max:"2"}),n.functions.contains=function(e,t){return b(e,t,"esriSpatialRelContains",n.failDefferred,n.standardFunctionAsync)},n.functions.overlaps=function(e,t){return b(e,t,"esriSpatialRelOverlaps",n.failDefferred,n.standardFunctionAsync)},n.functions.within=function(e,t){return b(e,t,"esriSpatialRelWithin",n.failDefferred,n.standardFunctionAsync)},n.functions.touches=function(e,t){return b(e,t,"esriSpatialRelTouches",n.failDefferred,n.standardFunctionAsync)},n.functions.crosses=function(e,t){return b(e,t,"esriSpatialRelCrosses",n.failDefferred,n.standardFunctionAsync)},n.functions.relate=function(i,l){return n.standardFunctionAsync(i,l,(function(n,i,l){if(l=e(l),r(l,3,3),w(l[0])&&w(l[1]))return h(l[0],l[1],a(l[2]));if(l[0]instanceof o&&null===l[1])return!1;if(l[1]instanceof o&&null===l[0])return!1;if(t(l[0])&&null===l[1])return new s({parentfeatureset:l[0]});if(t(l[1])&&null===l[0])return new s({parentfeatureset:l[1]});if(t(l[0])&&l[1]instanceof o)return l[0].relate(l[1],a(l[2]));if(t(l[1])&&l[0]instanceof o)return l[1].relate(l[0],a(l[2]));if(null===l[0]&&null===l[1])return!1;throw new Error("Illegal Argument")}))})}export{j as registerFunctions}