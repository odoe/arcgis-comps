import{an as r,a7 as e,ao as n}from"./p-7b6f6c18.js";import{a as t,n as o}from"./p-c80108ab.js";import"./p-227a5838.js";async function a(t=null,o){var a,i;if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!t)throw new e("internal:geometry-service-url-not-configured");let l;l="portal"in t?t.portal||n.getDefault():t,await l.load({signal:o});const s=null==(a=l.helperServices)||null==(i=a.geometry)?void 0:i.url;if(!s)throw new e("internal:geometry-service-url-not-configured");return s}async function i(r,n,i=null,l){const s=await a(i,l),c=new t;c.geometries=[r],c.outSpatialReference=n;const u=await o(s,c,{signal:l});if(u&&Array.isArray(u)&&1===u.length)return u[0];throw new e("internal:geometry-service-projection-failed")}export{a as getGeometryServiceURL,i as projectGeometry}