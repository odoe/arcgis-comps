import{y as e,s as t}from"./p-79553c8d.js";import{ai as r,o as n,d as i,av as s,A as o,M as a,k as u}from"./p-566b0715.js";import{r as l,e as d,d as p,i as f,aT as c,P as m}from"./p-9ae46e68.js";import{a as y}from"./p-fe01b82b.js";import{m as w}from"./p-c5b7f7c3.js";function v(r){if(!r)return r;const{start:n,end:i}=r;return new e({start:l(n)?t(n,-n.getTimezoneOffset(),"minutes"):n,end:l(i)?t(i,-i.getTimezoneOffset(),"minutes"):i})}function g(r){if(!r)return r;const{start:n,end:i}=r;return new e({start:l(n)?t(n,n.getTimezoneOffset(),"minutes"):n,end:l(i)?t(i,i.getTimezoneOffset(),"minutes"):i})}var h;let j=h=class extends y{async collectRequiredFields(e,t){return r(e,t,this.expression)}clone(){return new h({expression:this.expression,title:this.title})}};d([p({type:String,json:{write:!0}})],j.prototype,"expression",void 0),d([p({type:String,json:{write:!0}})],j.prototype,"title",void 0),j=h=d([f("esri.layers.support.FeatureExpressionInfo")],j);const b=j,x=function(){const e=Object.keys(w);return e.sort(),e}();var I;const E=c()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),S=new m({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let D=I=class extends y{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,n){t[r]=e.write({},n),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):l(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new I({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};d([p({type:b,json:{write:!0}})],D.prototype,"featureExpressionInfo",void 0),d([n("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],D.prototype,"readFeatureExpressionInfo",null),d([i("featureExpressionInfo",{featureExpressionInfo:{type:b},"featureExpression.value":{type:[0]}})],D.prototype,"writeFeatureExpressionInfo",null),d([p({type:E.apiValues,nonNullable:!0,json:{type:E.jsonValues,read:E.read,write:{writer:E.write,isRequired:!0}}})],D.prototype,"mode",null),d([p({type:Number,json:{write:!0}})],D.prototype,"offset",void 0),d([p({type:x,json:{type:String,read:S.read,write:S.write}})],D.prototype,"unit",null),D=I=d([f("esri.layers.support.ElevationInfo")],D);const N=D,F={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},O={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},T={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},B={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:s}}},R={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},k={value:null,type:N,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function q(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const P={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},z={...P,json:{...P.json,origins:{"web-document":{...P.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?o(t.layerDefinition.drawingInfo.transparency):void 0:o(t.drawingInfo.transparency)}}},G={type:e,readOnly:!0,get(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;const{datesInUnknownTimezone:r,timeOffset:n,useViewTime:i}=this.layer,s=null==(t=this.view)?void 0:t.timeExtent;let o=this.layer.timeExtent;r&&(o=g(o));let a=i?s&&o?s.intersection(o):s||o:o;if(!a||a.isEmpty||a.isAllTime)return a;n&&(a=a.offset(-n.value,n.unit)),r&&(a=v(a));const u=this._get("timeExtent");return a.equals(u)?u:a}},L={type:a,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=a.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(r.spatialReference=u.fromJSON(t.spatialReference)),r}}}},read:!1}},A={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},H={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},U={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};export{U as I,H as b,R as c,k as d,B as f,G as g,A as j,F as l,T as m,O as p,P as u,L as v,z as w,N as x,q as y}