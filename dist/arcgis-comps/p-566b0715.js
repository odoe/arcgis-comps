import{aS as t,ak as e,t as r,r as i,e as s,d as n,R as o,i as l,H as a,v as u,c as h,ah as c,G as d,aT as f,a6 as y,aU as p,Q as m,m as v,P as b,q as w,C as g,S,D as M,p as x,E as j,aI as O,aV as P,aW as _,ag as N,aX as I,aY as D,aZ as k,a_ as A,a2 as C,a$ as R,b0 as T,b1 as L,b2 as F,b3 as G,aA as E,aH as U,W as $,a5 as z,V as q,ae as B,b4 as W,b5 as H,b6 as J,b7 as V,l as Q,aa as Y,O as Z,b8 as X,b9 as K,ab as tt,a3 as et,ad as rt,ba as it}from"./p-9ae46e68.js";import{a as st,i as nt}from"./p-fe01b82b.js";function ot(e,r,i){let s,n;return void 0===r||Array.isArray(r)?(n=e,i=r,s=[void 0]):(n=r,s=Array.isArray(e)?e:[e]),(e,r)=>{const o=e.constructor.prototype;s.forEach((s=>{const l=t(e,s,n);l.read&&"object"==typeof l.read||(l.read={}),l.read.reader=o[r],i&&(l.read.source=(l.read.source||[]).concat(i))}))}}function lt(e,r,i){let s,n;return void 0===r?(n=e,s=[void 0]):"string"!=typeof r?(n=e,s=[void 0],i=r):(n=r,s=Array.isArray(e)?e:[e]),(e,r)=>{const o=e.constructor.prototype;for(const l of s){const s=t(e,l,n);s.write&&"object"==typeof s.write||(s.write={}),i&&(s.write.target=i),s.write.writer=o[r]}}}let at;const ut={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(at=2e3;at<=2045;at++)ut[at]=0;for(at=2056;at<=2065;at++)ut[at]=0;for(at=2067;at<=2135;at++)ut[at]=0;for(at=2137;at<=2154;at++)ut[at]=0;for(at=2161;at<=2170;at++)ut[at]=0;for(at=2172;at<=2193;at++)ut[at]=0;for(at=2195;at<=2198;at++)ut[at]=0;for(at=2200;at<=2203;at++)ut[at]=0;for(at=2205;at<=2217;at++)ut[at]=0;for(at=2222;at<=2224;at++)ut[at]=1;for(at=2225;at<=2250;at++)ut[at]=2;for(at=2251;at<=2253;at++)ut[at]=1;for(at=2257;at<=2264;at++)ut[at]=2;for(at=2274;at<=2279;at++)ut[at]=2;for(at=2280;at<=2282;at++)ut[at]=1;for(at=2283;at<=2289;at++)ut[at]=2;for(at=2290;at<=2292;at++)ut[at]=0;for(at=2308;at<=2313;at++)ut[at]=0;for(at=2315;at<=2491;at++)ut[at]=0;for(at=2494;at<=2866;at++)ut[at]=0;for(at=2867;at<=2869;at++)ut[at]=1;for(at=2870;at<=2888;at++)ut[at]=2;for(at=2891;at<=2895;at++)ut[at]=2;for(at=2896;at<=2898;at++)ut[at]=1;for(at=2902;at<=2908;at++)ut[at]=2;for(at=2915;at<=2920;at++)ut[at]=2;for(at=2921;at<=2923;at++)ut[at]=1;for(at=2924;at<=2930;at++)ut[at]=2;for(at=2931;at<=2962;at++)ut[at]=0;for(at=2964;at<=2968;at++)ut[at]=2;for(at=2969;at<=2973;at++)ut[at]=0;for(at=2975;at<=2991;at++)ut[at]=0;for(at=2995;at<=3051;at++)ut[at]=0;for(at=3054;at<=3079;at++)ut[at]=0;for(at=3081;at<=3088;at++)ut[at]=0;for(at=3092;at<=3101;at++)ut[at]=0;for(at=3106;at<=3138;at++)ut[at]=0;for(at=3146;at<=3151;at++)ut[at]=0;for(at=3153;at<=3166;at++)ut[at]=0;for(at=3168;at<=3172;at++)ut[at]=0;for(at=3174;at<=3203;at++)ut[at]=0;for(at=3294;at<=3358;at++)ut[at]=0;for(at=3367;at<=3403;at++)ut[at]=0;for(at=3408;at<=3416;at++)ut[at]=0;for(at=3417;at<=3438;at++)ut[at]=2;for(at=3441;at<=3446;at++)ut[at]=2;for(at=3447;at<=3450;at++)ut[at]=0;for(at=3451;at<=3459;at++)ut[at]=2;for(at=3460;at<=3478;at++)ut[at]=0;for(at=3554;at<=3559;at++)ut[at]=0;for(at=3560;at<=3570;at++)ut[at]=2;for(at=3571;at<=3581;at++)ut[at]=0;for(at=3594;at<=3597;at++)ut[at]=0;for(at=3601;at<=3604;at++)ut[at]=0;for(at=3637;at<=3639;at++)ut[at]=0;for(at=3665;at<=3667;at++)ut[at]=0;for(at=3693;at<=3695;at++)ut[at]=0;for(at=3701;at<=3727;at++)ut[at]=0;for(at=3728;at<=3739;at++)ut[at]=2;for(at=3740;at<=3751;at++)ut[at]=0;for(at=3753;at<=3760;at++)ut[at]=2;for(at=3761;at<=3773;at++)ut[at]=0;for(at=3775;at<=3777;at++)ut[at]=0;for(at=3779;at<=3781;at++)ut[at]=0;for(at=3783;at<=3785;at++)ut[at]=0;for(at=3788;at<=3791;at++)ut[at]=0;for(at=3797;at<=3802;at++)ut[at]=0;for(at=3814;at<=3816;at++)ut[at]=0;for(at=3825;at<=3829;at++)ut[at]=0;for(at=3832;at<=3841;at++)ut[at]=0;for(at=3844;at<=3852;at++)ut[at]=0;for(at=3873;at<=3885;at++)ut[at]=0;for(at=3890;at<=3893;at++)ut[at]=0;for(at=3907;at<=3912;at++)ut[at]=0;for(at=3942;at<=3950;at++)ut[at]=0;for(at=3968;at<=3970;at++)ut[at]=0;for(at=3973;at<=3976;at++)ut[at]=0;for(at=3986;at<=3989;at++)ut[at]=0;for(at=3994;at<=3997;at++)ut[at]=0;for(at=4048;at<=4051;at++)ut[at]=0;for(at=4056;at<=4063;at++)ut[at]=0;for(at=4093;at<=4096;at++)ut[at]=0;for(at=4390;at<=4398;at++)ut[at]=0;for(at=4399;at<=4413;at++)ut[at]=2;for(at=4418;at<=4433;at++)ut[at]=2;for(at=4455;at<=4457;at++)ut[at]=2;for(at=4484;at<=4489;at++)ut[at]=0;for(at=4491;at<=4554;at++)ut[at]=0;for(at=4568;at<=4589;at++)ut[at]=0;for(at=4652;at<=4656;at++)ut[at]=0;for(at=4766;at<=4800;at++)ut[at]=0;for(at=5014;at<=5016;at++)ut[at]=0;for(at=5069;at<=5072;at++)ut[at]=0;for(at=5105;at<=5130;at++)ut[at]=0;for(at=5173;at<=5188;at++)ut[at]=0;for(at=5253;at<=5259;at++)ut[at]=0;for(at=5269;at<=5275;at++)ut[at]=0;for(at=5292;at<=5311;at++)ut[at]=0;for(at=5329;at<=5331;at++)ut[at]=0;for(at=5343;at<=5349;at++)ut[at]=0;for(at=5355;at<=5357;at++)ut[at]=0;for(at=5387;at<=5389;at++)ut[at]=0;for(at=5459;at<=5463;at++)ut[at]=0;for(at=5479;at<=5482;at++)ut[at]=0;for(at=5518;at<=5520;at++)ut[at]=0;for(at=5530;at<=5539;at++)ut[at]=0;for(at=5550;at<=5552;at++)ut[at]=0;for(at=5562;at<=5583;at++)ut[at]=0;for(at=5623;at<=5625;at++)ut[at]=2;for(at=5631;at<=5639;at++)ut[at]=0;for(at=5649;at<=5653;at++)ut[at]=0;for(at=5663;at<=5680;at++)ut[at]=0;for(at=5682;at<=5685;at++)ut[at]=0;for(at=5875;at<=5877;at++)ut[at]=0;for(at=5896;at<=5899;at++)ut[at]=0;for(at=5921;at<=5940;at++)ut[at]=0;for(at=6050;at<=6125;at++)ut[at]=0;for(at=6244;at<=6275;at++)ut[at]=0;for(at=6328;at<=6348;at++)ut[at]=0;for(at=6350;at<=6356;at++)ut[at]=0;for(at=6366;at<=6372;at++)ut[at]=0;for(at=6381;at<=6387;at++)ut[at]=0;for(at=6393;at<=6404;at++)ut[at]=0;for(at=6480;at<=6483;at++)ut[at]=0;for(at=6511;at<=6514;at++)ut[at]=0;for(at=6579;at<=6581;at++)ut[at]=0;for(at=6619;at<=6624;at++)ut[at]=0;for(at=6625;at<=6627;at++)ut[at]=2;for(at=6628;at<=6632;at++)ut[at]=0;for(at=6634;at<=6637;at++)ut[at]=0;for(at=6669;at<=6692;at++)ut[at]=0;for(at=6707;at<=6709;at++)ut[at]=0;for(at=6720;at<=6723;at++)ut[at]=0;for(at=6732;at<=6738;at++)ut[at]=0;for(at=6931;at<=6933;at++)ut[at]=0;for(at=6956;at<=6959;at++)ut[at]=0;for(at=7005;at<=7007;at++)ut[at]=0;for(at=7057;at<=7070;at++)ut[at]=2;for(at=7074;at<=7082;at++)ut[at]=0;for(at=7109;at<=7118;at++)ut[at]=0;for(at=7119;at<=7127;at++)ut[at]=1;for(at=7374;at<=7376;at++)ut[at]=0;for(at=7528;at<=7586;at++)ut[at]=0;for(at=7587;at<=7645;at++)ut[at]=2;for(at=7692;at<=7696;at++)ut[at]=0;for(at=7755;at<=7787;at++)ut[at]=0;for(at=7791;at<=7795;at++)ut[at]=0;for(at=7799;at<=7801;at++)ut[at]=0;for(at=7803;at<=7805;at++)ut[at]=0;for(at=7825;at<=7831;at++)ut[at]=0;for(at=7845;at<=7859;at++)ut[at]=0;for(at=8013;at<=8032;at++)ut[at]=0;for(at=8065;at<=8068;at++)ut[at]=1;for(at=8518;at<=8529;at++)ut[at]=2;for(at=8533;at<=8536;at++)ut[at]=2;for(at=8538;at<=8540;at++)ut[at]=2;for(at=8677;at<=8679;at++)ut[at]=0;for(at=8836;at<=8840;at++)ut[at]=0;for(at=8857;at<=8859;at++)ut[at]=0;for(at=8908;at<=8910;at++)ut[at]=0;for(at=9154;at<=9159;at++)ut[at]=0;for(at=9205;at<=9218;at++)ut[at]=0;for(at=9271;at<=9273;at++)ut[at]=0;for(at=9295;at<=9297;at++)ut[at]=0;for(at=9356;at<=9360;at++)ut[at]=0;for(at=9404;at<=9407;at++)ut[at]=0;for(at=9476;at<=9482;at++)ut[at]=0;for(at=9487;at<=9494;at++)ut[at]=0;for(at=9697;at<=9699;at++)ut[at]=0;for(at=20002;at<=20032;at++)ut[at]=0;for(at=20062;at<=20092;at++)ut[at]=0;for(at=20135;at<=20138;at++)ut[at]=0;for(at=20248;at<=20258;at++)ut[at]=0;for(at=20348;at<=20358;at++)ut[at]=0;for(at=20436;at<=20440;at++)ut[at]=0;for(at=20822;at<=20824;at++)ut[at]=0;for(at=20934;at<=20936;at++)ut[at]=0;for(at=21035;at<=21037;at++)ut[at]=0;for(at=21095;at<=21097;at++)ut[at]=0;for(at=21148;at<=21150;at++)ut[at]=0;for(at=21413;at<=21423;at++)ut[at]=0;for(at=21453;at<=21463;at++)ut[at]=0;for(at=21473;at<=21483;at++)ut[at]=0;for(at=21780;at<=21782;at++)ut[at]=0;for(at=21891;at<=21894;at++)ut[at]=0;for(at=21896;at<=21899;at++)ut[at]=0;for(at=22171;at<=22177;at++)ut[at]=0;for(at=22181;at<=22187;at++)ut[at]=0;for(at=22191;at<=22197;at++)ut[at]=0;for(at=22234;at<=22236;at++)ut[at]=0;for(at=22521;at<=22525;at++)ut[at]=0;for(at=22991;at<=22994;at++)ut[at]=0;for(at=23028;at<=23038;at++)ut[at]=0;for(at=23830;at<=23853;at++)ut[at]=0;for(at=23866;at<=23872;at++)ut[at]=0;for(at=23877;at<=23884;at++)ut[at]=0;for(at=23886;at<=23894;at++)ut[at]=0;for(at=23946;at<=23948;at++)ut[at]=0;for(at=24311;at<=24313;at++)ut[at]=0;for(at=24342;at<=24347;at++)ut[at]=0;for(at=24370;at<=24374;at++)ut[at]=10;for(at=24375;at<=24381;at++)ut[at]=0;for(at=24718;at<=24721;at++)ut[at]=0;for(at=24817;at<=24821;at++)ut[at]=0;for(at=24877;at<=24882;at++)ut[at]=0;for(at=24891;at<=24893;at++)ut[at]=0;for(at=25391;at<=25395;at++)ut[at]=0;for(at=25828;at<=25838;at++)ut[at]=0;for(at=26191;at<=26195;at++)ut[at]=0;for(at=26391;at<=26393;at++)ut[at]=0;for(at=26701;at<=26722;at++)ut[at]=0;for(at=26729;at<=26799;at++)ut[at]=2;for(at=26801;at<=26803;at++)ut[at]=2;for(at=26811;at<=26813;at++)ut[at]=2;for(at=26847;at<=26870;at++)ut[at]=2;for(at=26891;at<=26899;at++)ut[at]=0;for(at=26901;at<=26923;at++)ut[at]=0;for(at=26929;at<=26946;at++)ut[at]=0;for(at=26948;at<=26998;at++)ut[at]=0;for(at=27037;at<=27040;at++)ut[at]=0;for(at=27205;at<=27232;at++)ut[at]=0;for(at=27258;at<=27260;at++)ut[at]=0;for(at=27391;at<=27398;at++)ut[at]=0;for(at=27561;at<=27564;at++)ut[at]=0;for(at=27571;at<=27574;at++)ut[at]=0;for(at=27581;at<=27584;at++)ut[at]=0;for(at=27591;at<=27594;at++)ut[at]=0;for(at=28191;at<=28193;at++)ut[at]=0;for(at=28348;at<=28358;at++)ut[at]=0;for(at=28402;at<=28432;at++)ut[at]=0;for(at=28462;at<=28492;at++)ut[at]=0;for(at=29118;at<=29122;at++)ut[at]=0;for(at=29168;at<=29172;at++)ut[at]=0;for(at=29177;at<=29185;at++)ut[at]=0;for(at=29187;at<=29195;at++)ut[at]=0;for(at=29900;at<=29903;at++)ut[at]=0;for(at=30161;at<=30179;at++)ut[at]=0;for(at=30491;at<=30494;at++)ut[at]=0;for(at=30729;at<=30732;at++)ut[at]=0;for(at=31251;at<=31259;at++)ut[at]=0;for(at=31265;at<=31268;at++)ut[at]=0;for(at=31275;at<=31279;at++)ut[at]=0;for(at=31281;at<=31297;at++)ut[at]=0;for(at=31461;at<=31469;at++)ut[at]=0;for(at=31491;at<=31495;at++)ut[at]=0;for(at=31917;at<=31922;at++)ut[at]=0;for(at=31965;at<=32e3;at++)ut[at]=0;for(at=32001;at<=32003;at++)ut[at]=2;for(at=32005;at<=32031;at++)ut[at]=2;for(at=32033;at<=32060;at++)ut[at]=2;for(at=32064;at<=32067;at++)ut[at]=2;for(at=32074;at<=32077;at++)ut[at]=2;for(at=32081;at<=32086;at++)ut[at]=0;for(at=32107;at<=32130;at++)ut[at]=0;for(at=32133;at<=32158;at++)ut[at]=0;for(at=32164;at<=32167;at++)ut[at]=2;for(at=32180;at<=32199;at++)ut[at]=0;for(at=32201;at<=32260;at++)ut[at]=0;for(at=32301;at<=32360;at++)ut[at]=0;for(at=32601;at<=32662;at++)ut[at]=0;for(at=32664;at<=32667;at++)ut[at]=2;for(at=32701;at<=32761;at++)ut[at]=0;for(at=53001;at<=53004;at++)ut[at]=0;for(at=53008;at<=53019;at++)ut[at]=0;for(at=53021;at<=53032;at++)ut[at]=0;for(at=53034;at<=53037;at++)ut[at]=0;for(at=53042;at<=53046;at++)ut[at]=0;for(at=53074;at<=53080;at++)ut[at]=0;for(at=54001;at<=54004;at++)ut[at]=0;for(at=54008;at<=54019;at++)ut[at]=0;for(at=54021;at<=54032;at++)ut[at]=0;for(at=54034;at<=54037;at++)ut[at]=0;for(at=54042;at<=54046;at++)ut[at]=0;for(at=54048;at<=54053;at++)ut[at]=0;for(at=54074;at<=54080;at++)ut[at]=0;for(at=54098;at<=54101;at++)ut[at]=0;for(at=102001;at<=102040;at++)ut[at]=0;for(at=102042;at<=102063;at++)ut[at]=0;for(at=102065;at<=102067;at++)ut[at]=0;for(at=102070;at<=102117;at++)ut[at]=0;for(at=102122;at<=102216;at++)ut[at]=0;for(at=102221;at<=102377;at++)ut[at]=0;for(at=102382;at<=102388;at++)ut[at]=0;for(at=102389;at<=102398;at++)ut[at]=2;for(at=102399;at<=102444;at++)ut[at]=0;for(at=102445;at<=102447;at++)ut[at]=2;for(at=102448;at<=102458;at++)ut[at]=0;for(at=102459;at<=102468;at++)ut[at]=2;for(at=102469;at<=102499;at++)ut[at]=0;for(at=102500;at<=102519;at++)ut[at]=1;for(at=102520;at<=102524;at++)ut[at]=0;for(at=102525;at<=102529;at++)ut[at]=2;for(at=102530;at<=102588;at++)ut[at]=0;for(at=102590;at<=102598;at++)ut[at]=0;for(at=102601;at<=102603;at++)ut[at]=0;for(at=102605;at<=102628;at++)ut[at]=0;for(at=102629;at<=102646;at++)ut[at]=2;for(at=102648;at<=102700;at++)ut[at]=2;for(at=102701;at<=102703;at++)ut[at]=0;for(at=102707;at<=102730;at++)ut[at]=2;for(at=102733;at<=102758;at++)ut[at]=2;for(at=102767;at<=102900;at++)ut[at]=0;for(at=102965;at<=102969;at++)ut[at]=0;for(at=102971;at<=102973;at++)ut[at]=0;for(at=102975;at<=102989;at++)ut[at]=0;for(at=102990;at<=102992;at++)ut[at]=1;for(at=102997;at<=103002;at++)ut[at]=0;for(at=103003;at<=103008;at++)ut[at]=2;for(at=103009;at<=103011;at++)ut[at]=0;for(at=103012;at<=103014;at++)ut[at]=2;for(at=103019;at<=103021;at++)ut[at]=0;for(at=103022;at<=103024;at++)ut[at]=2;for(at=103029;at<=103031;at++)ut[at]=0;for(at=103032;at<=103034;at++)ut[at]=2;for(at=103065;at<=103068;at++)ut[at]=0;for(at=103074;at<=103076;at++)ut[at]=0;for(at=103077;at<=103079;at++)ut[at]=1;for(at=103080;at<=103082;at++)ut[at]=0;for(at=103083;at<=103085;at++)ut[at]=2;for(at=103090;at<=103093;at++)ut[at]=0;for(at=103097;at<=103099;at++)ut[at]=0;for(at=103100;at<=103102;at++)ut[at]=2;for(at=103107;at<=103109;at++)ut[at]=0;for(at=103110;at<=103112;at++)ut[at]=2;for(at=103113;at<=103116;at++)ut[at]=0;for(at=103117;at<=103120;at++)ut[at]=2;for(at=103153;at<=103157;at++)ut[at]=0;for(at=103158;at<=103162;at++)ut[at]=2;for(at=103163;at<=103165;at++)ut[at]=0;for(at=103166;at<=103168;at++)ut[at]=1;for(at=103169;at<=103171;at++)ut[at]=2;for(at=103186;at<=103188;at++)ut[at]=0;for(at=103189;at<=103191;at++)ut[at]=2;for(at=103192;at<=103195;at++)ut[at]=0;for(at=103196;at<=103199;at++)ut[at]=2;for(at=103200;at<=103224;at++)ut[at]=0;for(at=103225;at<=103227;at++)ut[at]=1;for(at=103232;at<=103237;at++)ut[at]=0;for(at=103238;at<=103243;at++)ut[at]=2;for(at=103244;at<=103246;at++)ut[at]=0;for(at=103247;at<=103249;at++)ut[at]=2;for(at=103254;at<=103256;at++)ut[at]=0;for(at=103257;at<=103259;at++)ut[at]=2;for(at=103264;at<=103266;at++)ut[at]=0;for(at=103267;at<=103269;at++)ut[at]=2;for(at=103300;at<=103375;at++)ut[at]=0;for(at=103381;at<=103383;at++)ut[at]=0;for(at=103384;at<=103386;at++)ut[at]=1;for(at=103387;at<=103389;at++)ut[at]=0;for(at=103390;at<=103392;at++)ut[at]=2;for(at=103397;at<=103399;at++)ut[at]=0;for(at=103400;at<=103471;at++)ut[at]=2;for(at=103476;at<=103478;at++)ut[at]=0;for(at=103479;at<=103481;at++)ut[at]=2;for(at=103486;at<=103488;at++)ut[at]=0;for(at=103489;at<=103491;at++)ut[at]=2;for(at=103492;at<=103495;at++)ut[at]=0;for(at=103496;at<=103499;at++)ut[at]=2;for(at=103528;at<=103543;at++)ut[at]=0;for(at=103544;at<=103548;at++)ut[at]=2;for(at=103549;at<=103551;at++)ut[at]=0;for(at=103552;at<=103554;at++)ut[at]=1;for(at=103555;at<=103557;at++)ut[at]=2;for(at=103558;at<=103560;at++)ut[at]=0;for(at=103571;at<=103573;at++)ut[at]=0;for(at=103574;at<=103576;at++)ut[at]=2;for(at=103577;at<=103580;at++)ut[at]=0;for(at=103581;at<=103583;at++)ut[at]=2;for(at=103595;at<=103694;at++)ut[at]=0;for(at=103696;at<=103699;at++)ut[at]=0;for(at=103700;at<=103793;at++)ut[at]=2;for(at=103794;at<=103872;at++)ut[at]=0;for(at=103900;at<=103971;at++)ut[at]=2;const ht={102113:!0,102100:!0,3857:!0,3785:!0},ct={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},dt='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',ft=[-20037508.342788905,20037508.342788905],yt=[-20037508.342787,20037508.342787],pt={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ft,origin:yt,dx:1e-5},102100:{wkTemplate:dt,valid:ft,origin:yt,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ft,origin:yt,dx:1e-5},3857:{wkTemplate:dt,valid:ft,origin:yt,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function mt(t,e){return!r(t)&&!r(e)&&(t===e||(null!=t.wkid||null!=e.wkid?t.wkid===e.wkid||St(t)&&St(e)||null!=e.latestWkid&&t.wkid===e.latestWkid||null!=t.latestWkid&&e.wkid===t.latestWkid:!(!t.wkt||!e.wkt)&&t.wkt.toUpperCase()===e.wkt.toUpperCase()))}function vt(t){return _t(t)&&t.wkid?pt[t.wkid]:null}function bt(t){return!!_t(t)&&(t.wkid?null==ut[t.wkid]:!!t.wkt&&!!/^\s*GEOGCS/i.test(t.wkt))}function wt(t){return _t(t)&&4326===t.wkid}function gt(t){return _t(t)&&4490===t.wkid}function St(t){return _t(t)&&null!=t.wkid&&!0===ht[t.wkid]}function Mt(t){return _t(t)&&32662===t.wkid}function xt(t){return 104971===t||104905===t}function jt(t){return _t(t)&&null!=t.wkid&&xt(t.wkid)}function Ot(t){return 104903===t}function Pt(t){return _t(t)&&null!=t.wkid&&Ot(t.wkid)}function _t(t){return i(t)&&(null!=t.wkid&&t.wkid>=2e3||null!=t.wkt)}const Nt={wkid:4326,wkt:e(pt[4326].wkTemplate,{Central_Meridian:"0.0"})};var It;let Dt=It=class extends st{constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(t){if(!t)return null;if(t.wkid){if(102100===t.wkid)return It.WebMercator;if(4326===t.wkid)return It.WGS84}const e=new It;return e.read(t),e}normalizeCtorArgs(t){return t&&"object"==typeof t?t:{["string"==typeof t?"wkt":"wkid"]:t}}get isWGS84(){return wt(this)}get isWebMercator(){return St(this)}get isGeographic(){return bt(this)}get isWrappable(){return function(t){return _t(t)&&null!=t.wkid&&!0===ct[t.wkid]}(this)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===It.WGS84)return It.WGS84;if(this===It.WebMercator)return It.WebMercator;const t=new It;return null!=this.wkid?(t.wkid=this.wkid,null!=this.latestWkid&&(t.latestWkid=this.latestWkid),null!=this.vcsWkid&&(t.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(t.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(t.wkt=this.wkt),this.imageCoordinateSystem&&(t.imageCoordinateSystem=a(this.imageCoordinateSystem)),t}equals(t){if(null==t)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==t.imageCoordinateSystem)return!1;const{id:e,referenceServiceName:r}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,s=this.imageCoordinateSystem;return null==e||i?JSON.stringify(s)===JSON.stringify(t.imageCoordinateSystem):r?s.id===e&&s.referenceServiceName===r:s.id===e}return mt(this,t)}toJSON(t){return this.write(void 0,t)}};Dt.GCS_NAD_1927=null,Dt.WGS84=null,Dt.WebMercator=null,Dt.PlateCarree=null,s([n({readOnly:!0})],Dt.prototype,"isWGS84",null),s([n({readOnly:!0})],Dt.prototype,"isWebMercator",null),s([n({readOnly:!0})],Dt.prototype,"isGeographic",null),s([n({readOnly:!0})],Dt.prototype,"isWrappable",null),s([n({type:o,json:{write:!0}})],Dt.prototype,"latestWkid",void 0),s([n({type:o,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],Dt.prototype,"wkid",void 0),s([n({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],Dt.prototype,"wkt",void 0),s([lt("wkt"),lt("web-scene","wkt")],Dt.prototype,"writeWkt",null),s([n({type:o,json:{write:!0}})],Dt.prototype,"vcsWkid",void 0),s([n({type:o,json:{write:!0}})],Dt.prototype,"latestVcsWkid",void 0),s([n()],Dt.prototype,"imageCoordinateSystem",void 0),Dt=It=s([l("esri.geometry.SpatialReference")],Dt),Dt.prototype.toJSON.isDefaultToJSON=!0,Dt.GCS_NAD_1927=new Dt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Dt.WGS84=new Dt(Nt),Dt.WebMercator=new Dt({wkid:102100,latestWkid:3857}),Dt.PlateCarree=new Dt({wkid:32662}),Object.freeze&&(Object.freeze(Dt.GCS_NAD_1927),Object.freeze(Dt.WGS84),Object.freeze(Dt.WebMercator));const kt=Dt;let At=class extends st{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=kt.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof kt)return t;if(null!=t){const r=new kt;return r.read(t,e),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};s([n()],At.prototype,"type",void 0),s([n({readOnly:!0})],At.prototype,"cache",null),s([n({readOnly:!0})],At.prototype,"extent",null),s([n({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],At.prototype,"hasM",void 0),s([n({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],At.prototype,"hasZ",void 0),s([n({type:kt,json:{write:!0}})],At.prototype,"spatialReference",void 0),s([ot("spatialReference")],At.prototype,"readSpatialReference",null),At=s([l("esri.geometry.Geometry")],At);const Ct=At;class Rt{constructor(t,e,r,i){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=r,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const Tt=new Rt(6378137,1/298.257223563,3e5,.006694379990137799),Lt=new Rt(3396190,1/169.8944472236118,23e4),Ft=new Rt(1737400,0,0);function Gt(t){return 57.29577951308232*t}function Et(t){return.017453292519943*t}function Ut(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Tt.radius))}function $t(t){return null!=t.wkid||null!=t.wkt}const zt=[0,0];function qt(t,e,r,i,s){const n=t,o=s;if(o.spatialReference=r,"x"in n&&"x"in o)[o.x,o.y]=e(n.x,n.y,zt,i);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=e(n.xmin,n.ymin,zt,i),[o.xmax,o.ymax]=e(n.xmax,n.ymax,zt,i);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const t="paths"in n?n.paths:n.rings,r=[];let s;for(let n=0;n<t.length;n++){const o=t[n];s=[],r.push(s);for(let t=0;t<o.length;t++)s.push(e(o[t][0],o[t][1],[0,0],i)),o[t].length>2&&s[t].push(o[t][2]),o[t].length>3&&s[t].push(o[t][3])}"paths"in o?o.paths=r:o.rings=r}else if("points"in n&&"points"in o){const t=n.points,r=[];for(let s=0;s<t.length;s++)r[s]=e(t[s][0],t[s][1],[0,0],i),t[s].length>2&&r[s].push(t[s][2]),t[s].length>3&&r[s].push(t[s][3]);o.points=r}return s}function Bt(t,e){const r=t&&($t(t)?t:t.spatialReference),i=e&&($t(e)?e:e.spatialReference);return!(t&&"type"in t&&"mesh"===t.type||e&&"type"in e&&"mesh"===e.type||!r||!i)&&(!!mt(i,r)||St(i)&&wt(r)||St(r)&&wt(i))}function Wt(t,e){if(r(t))return null;const i=t.spatialReference,s=e&&($t(e)?e:e.spatialReference);return Bt(i,s)?mt(i,s)?a(t):St(s)?qt(t,Ht,kt.WebMercator,!1,a(t)):wt(s)?qt(t,Jt,kt.WGS84,!1,a(t)):null:null}function Ht(t,e,r=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const i=Et(e);return r[0]=Et(t)*Tt.radius,r[1]=Tt.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function Jt(t,e,r=[0,0],i=!1){const s=Gt(t/Tt.radius);return r[0]=i?s:s-360*Math.floor((s+180)/360),r[1]=Gt(Math.PI/2-2*Math.atan(Math.exp(-e/Tt.radius))),r}function Vt(t,e=!1,r=a(t)){return qt(t,Ht,kt.WebMercator,e,r)}function Qt(t,e=!1,r=a(t)){return qt(t,Jt,kt.WGS84,e,r)}var Yt;const Zt=[0,0];function Xt(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}const Kt=u.getLogger("esri.geometry.Point");let te=Yt=class extends Ct{constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const r=t._get("spatialReference");e._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(t,e,r,i,s){let n;if(Array.isArray(t))n=t,s=e,t=n[0],e=n[1],r=n[2],i=n[3];else if(t&&"object"==typeof t){if(n=t,t=null!=n.x?n.x:n.longitude,e=null!=n.y?n.y:n.latitude,r=n.z,i=n.m,(s=n.spatialReference)&&"esri.geometry.SpatialReference"!==s.declaredClass&&(s=new kt(s)),null!=n.longitude||null!=n.latitude)if(null==n.longitude)Kt.warn(".longitude=","Latitude was defined without longitude");else if(null==n.latitude)Kt.warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s&&s.isWebMercator){const r=Ht(n.longitude,n.latitude,Zt);t=r[0],e=r[1]}}else Xt(r)?(s=r,r=null):Xt(i)&&(s=i,i=null);const o={x:t,y:e};return null==o.x&&null!=o.y?Kt.warn(".y=","Y coordinate was defined without an X coordinate"):null==o.y&&null!=o.x&&Kt.warn(".x=","X coordinate was defined without a Y coordinate"),null!=s&&(o.spatialReference=s),null!=r&&(o.z=r),null!=i&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(t){t!==(void 0!==this._get("m"))&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return void 0!==this.z}set hasZ(t){t!==(void 0!==this._get("z"))&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){const{spatialReference:t,x:e,y:r}=this;if(t){if(t.isWebMercator)return Jt(e,r,Zt)[1];if(t.isGeographic)return r}return null}set latitude(t){const{spatialReference:e,x:r}=this;e&&(e.isWebMercator?this._set("y",Ht(r,t,Zt)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){const{x:t,y:e,spatialReference:r}=this;if(r){if(r.isWebMercator)return Jt(t,e,Zt)[0];if(r.isGeographic)return t}return null}set longitude(t){const{y:e,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",Ht(t,e,Zt)[0]):r.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,r){e[r]=isNaN(t)?"NaN":t}readX(t){return"string"==typeof t?NaN:t}clone(){const t=new Yt;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return Yt.copy(t,this),this}equals(t){if(!t)return!1;const{x:e,y:r,z:i,m:s,spatialReference:n}=this,{z:o,m:l}=t;let{x:a,y:u,spatialReference:h}=t;if(!n.equals(h))if(n.isWebMercator&&h.isWGS84)[a,u]=Ht(a,u),h=n;else{if(!n.isWGS84||!h.isWebMercator)return!1;[a,u]=Jt(a,u),h=n}return e===a&&r===u&&i===o&&s===l&&n.wkid===h.wkid}offset(t,e,r){return function(t,e,r,i){var s;return t.x=t.x+e,t.y=t.y+r,null!=i&&(t.z=(null!=(s=t.z)?s:0)+i),t}(this,t,e,r)}normalize(){if(!this.spatialReference)return this;const t=vt(this.spatialReference);if(!t)return this;let e=this.x;const[r,i]=t.valid,s=2*i;let n;return e>i?(n=Math.ceil(Math.abs(e-i)/s),e-=n*s):e<r&&(n=Math.ceil(Math.abs(e-r)/s),e+=n*s),this._set("x",e),this}distance(t){return function(t,e){const r=t.x-e.x,i=t.y-e.y,s=t.hasZ&&e.hasZ?t.z-e.z:0;return Math.sqrt(r*r+i*i+s*s)}(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};s([n({readOnly:!0})],te.prototype,"cache",null),s([n({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],te.prototype,"hasM",null),s([n({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],te.prototype,"hasZ",null),s([n({type:Number})],te.prototype,"latitude",null),s([n({type:Number})],te.prototype,"longitude",null),s([n({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),h((t=>isNaN(t)?t:c(t)))],te.prototype,"x",void 0),s([lt("x")],te.prototype,"writeX",null),s([ot("x")],te.prototype,"readX",null),s([n({type:Number,json:{write:!0}})],te.prototype,"y",void 0),s([n({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],te.prototype,"z",void 0),s([n({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],te.prototype,"m",void 0),te=Yt=s([l("esri.geometry.Point")],te),te.prototype.toJSON.isDefaultToJSON=!0;const ee=te,re=[0,0];function ie(t,e){return!!i(e)&&le(t,e.x,e.y,e.z)}function se(t,e){if(!e.points||e.points.length)return!1;for(const r of e.points)if(!ne(t,r))return!1;return!0}function ne(t,e){return le(t,e[0],e[1])}function oe(t,e){return le(t,e[0],e[1],e[2])}function le(t,e,r,i){return e>=t.xmin&&e<=t.xmax&&r>=t.ymin&&r<=t.ymax&&(null==i||!t.hasZ||i>=t.zmin&&i<=t.zmax)}function ae(t,e){return re[1]=e.y,re[0]=e.x,ue(t,re)}function ue(t,e){return function(t,e){if(!t)return!1;if(function(t){return!Array.isArray(t[0][0])}(t))return he(!1,t,e);let r=!1;for(let i=0,s=t.length;i<s;i++)r=he(r,t[i],e);return r}(t.rings,e)}function he(t,e,r){const[i,s]=r;let n=t,o=0;for(let t=0,r=e.length;t<r;t++){o++,o===r&&(o=0);const[l,a]=e[t],[u,h]=e[o];(a<s&&h>=s||h<s&&a>=s)&&l+(s-a)/(h-a)*(u-l)<i&&(n=!n)}return n}function ce(t,e){return ie(t,e)}function de(t,e){let r,i,s;if(t.xmin<=e.xmin){if(r=e.xmin,t.xmax<r)return!1}else if(r=t.xmin,e.xmax<r)return!1;if(t.ymin<=e.ymin){if(i=e.ymin,t.ymax<i)return!1}else if(i=t.ymin,e.ymax<i)return!1;if(t.hasZ&&e.hasZ&&e.hasZ)if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1;return!0}function fe(t,e){const{points:r,hasZ:i}=e,s=i?oe:ne;for(const e of r)if(s(t,e))return!0;return!1}const ye=[0,0],pe=[0,0],me=[0,0],ve=[0,0],be=[ye,pe,me,ve],we=[[me,ye],[ye,pe],[pe,ve],[ve,me]];function ge(t,e){ye[0]=t.xmin,ye[1]=t.ymax,pe[0]=t.xmax,pe[1]=t.ymax,me[0]=t.xmin,me[1]=t.ymin,ve[0]=t.xmax,ve[1]=t.ymin;for(const t of be)if(ue(e,t))return!0;for(const r of e.rings){if(!r.length)continue;let e=r[0];if(ne(t,e))return!0;for(let i=1;i<r.length;i++){const s=r[i];if(ne(t,s)||xe(e,s,we))return!0;e=s}}return!1}function Se(t,e){ye[0]=t.xmin,ye[1]=t.ymax,pe[0]=t.xmax,pe[1]=t.ymax,me[0]=t.xmin,me[1]=t.ymin,ve[0]=t.xmax,ve[1]=t.ymin;const r=e.paths;for(const e of r){if(!r.length)continue;let i=e[0];if(ne(t,i))return!0;for(let r=1;r<e.length;r++){const s=e[r];if(ne(t,s)||xe(i,s,we))return!0;i=s}}return!1}const Me=[0,0];function xe(t,e,r){for(let i=0;i<r.length;i++)if(je(t,e,r[i][0],r[i][1]))return!0;return!1}function je(t,e,r,i,s){const[n,o]=t,[l,a]=e,[u,h]=r,[c,d]=i,f=c-u,y=n-u,p=l-n,m=d-h,v=o-h,b=a-o,w=m*p-f*b;if(0===w)return!1;const g=(f*v-m*y)/w,S=(p*v-b*y)/w;return g>=0&&g<=1&&S>=0&&S<=1&&(s&&(s[0]=n+g*(l-n),s[1]=o+g*(a-o)),!0)}function Oe(t){switch(t){case"esriGeometryEnvelope":case"extent":return de;case"esriGeometryMultipoint":case"multipoint":return fe;case"esriGeometryPoint":case"point":return ce;case"esriGeometryPolygon":case"polygon":return ge;case"esriGeometryPolyline":case"polyline":return Se}}var Pe;function _e(t,e,r){return null==e?r:null==r?e:t(e,r)}let Ne=Pe=class extends Ct{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,r,i,s){return function(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof t?(t.spatialReference=null==t.spatialReference?kt.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:r,ymax:i,spatialReference:null==s?kt.WGS84:s}}static fromBounds(t,e){return new Pe({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}static fromPoint(t){return new Pe({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new ee({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Pe;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,r=t.spatialReference;return e&&r&&!e.equals(r)&&Bt(e,r)&&(t=e.isWebMercator?Vt(t):Qt(t,!0)),"point"===t.type?ie(this,t):"extent"===t.type&&function(t,e){const{xmin:r,ymin:i,zmin:s,xmax:n,ymax:o,zmax:l}=e;return t.hasZ&&e.hasZ?le(t,r,i,s)&&le(t,r,o,s)&&le(t,n,o,s)&&le(t,n,i,s)&&le(t,r,i,l)&&le(t,r,o,l)&&le(t,n,o,l)&&le(t,n,i,l):le(t,r,i)&&le(t,r,o)&&le(t,n,o)&&le(t,n,i)}(this,t)}equals(t){if(this===t)return!0;if(r(t))return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Bt(e,i)&&(t=e.isWebMercator?Vt(t):Qt(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),r=this.width*e,i=this.height*e;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const t=(this.zmax-this.zmin)*e;this.zmin+=t,this.zmax-=t}if(this.hasM){const t=(this.mmax-this.mmin)*e;this.mmin+=t,this.mmax-=t}return this}intersects(t){if(r(t))return!1;"mesh"===t.type&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Bt(e,i)&&(t=e.isWebMercator?Vt(t):Qt(t,!0)),Oe(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,r){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,null!=r&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=_e(Math.min,this.zmin,t.zmin),this.zmax=_e(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=_e(Math.min,this.mmin,t.mmin),this.mmax=_e(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:r(t)||!this.intersects(t)?null:(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=_e(Math.max,this.zmin,t.zmin),this.zmax=_e(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=_e(Math.max,this.mmin,t.mmin),this.mmax=_e(Math.min,this.mmax,t.mmax)),this)}toJSON(t){return this.write({},t)}_shiftCM(t=vt(this.spatialReference)){if(!t||!this.spatialReference)return this;const r=this.spatialReference,i=this._getCM(t);if(i){const s=r.isWebMercator?Qt(i):i;this.xmin-=i.x,this.xmax-=i.x,r.isWebMercator||(s.x=this._normalizeX(s.x,t).x),this.spatialReference=new kt(e(r.isWGS84?t.altTemplate:t.wkTemplate,{Central_Meridian:s.x}))}return this}_getCM(t){let e=null;const[r,i]=t.valid,s=this.xmin,n=this.xmax;return s>=r&&s<=i&&n>=r&&n<=i||(e=this.center),e}_normalize(t,e,r){const i=this.spatialReference;if(!i)return this;if(!(r=r||vt(i)))return this;const s=this._getParts(r).map((t=>t.extent));if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(t)return this._shiftCM(r);if(e)return s;let n=!0,o=!0;return s.forEach((t=>{t.hasZ||(n=!1),t.hasM||(o=!1)})),{rings:s.map((t=>{const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(n){const r=(t.zmax-t.zmin)/2;for(let t=0;t<e.length;t++)e[t].push(r)}if(o){const r=(t.mmax-t.mmin)/2;for(let t=0;t<e.length;t++)e[t].push(r)}return e})),hasZ:n,hasM:o,spatialReference:i}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:r,ymax:i,spatialReference:s}=this,n=this.width,o=this.xmin,l=this.xmax;let a;t=t||vt(s);const[u,h]=t.valid;a=this._normalizeX(this.xmin,t);const c=a.x,d=a.frameId;a=this._normalizeX(this.xmax,t);const f=a.x,y=a.frameId,p=c===f&&n>0;if(n>2*h){const t=new Pe(o<l?c:f,r,h,i,s),n=new Pe(u,r,o<l?f:c,i,s),a=new Pe(0,r,h,i,s),p=new Pe(u,r,0,i,s),m=[],v=[];t.contains(a)&&m.push(d),t.contains(p)&&v.push(d),n.contains(a)&&m.push(y),n.contains(p)&&v.push(y);for(let t=d+1;t<y;t++)m.push(t),v.push(t);e.push({extent:t,frameIds:[d]},{extent:n,frameIds:[y]},{extent:a,frameIds:m},{extent:p,frameIds:v})}else c>f||p?e.push({extent:new Pe(c,r,h,i,s),frameIds:[d]},{extent:new Pe(u,r,f,i,s),frameIds:[y]}):e.push({extent:new Pe(c,r,f,i,s),frameIds:[d]});this.cache._parts=e}const r=this.hasZ,i=this.hasM;if(r||i){const t={};r&&(t.zmin=this.zmin,t.zmax=this.zmax),i&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let r=0;r<e.length;r++)e[r].extent.set(t)}return e}_normalizeX(t,e){const[r,i]=e.valid,s=2*i;let n,o=0;return t>i?(n=Math.ceil(Math.abs(t-i)/s),t-=n*s,o=n):t<r&&(n=Math.ceil(Math.abs(t-r)/s),t+=n*s,o=-n),{x:t,frameId:o}}};s([n({readOnly:!0})],Ne.prototype,"cache",null),s([n({readOnly:!0})],Ne.prototype,"center",null),s([n({readOnly:!0})],Ne.prototype,"extent",null),s([n({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ne.prototype,"hasM",null),s([n({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ne.prototype,"hasZ",null),s([n({readOnly:!0})],Ne.prototype,"height",null),s([n({readOnly:!0})],Ne.prototype,"width",null),s([n({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ne.prototype,"xmin",void 0),s([n({type:Number,json:{write:!0}})],Ne.prototype,"ymin",void 0),s([n({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ne.prototype,"mmin",void 0),s([n({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ne.prototype,"zmin",void 0),s([n({type:Number,json:{write:!0}})],Ne.prototype,"xmax",void 0),s([n({type:Number,json:{write:!0}})],Ne.prototype,"ymax",void 0),s([n({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ne.prototype,"mmax",void 0),s([n({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ne.prototype,"zmax",void 0),Ne=Pe=s([l("esri.geometry.Extent")],Ne),Ne.prototype.toJSON.isDefaultToJSON=!0;const Ie=Ne;function De(t,e,r=!1){let{hasM:i,hasZ:s}=t;Array.isArray(e)?4!==e.length||i||s?3===e.length&&r&&!i?(s=!0,i=!1):3===e.length&&i&&s&&(i=!1,s=!1):(i=!0,s=!0):(s=!s&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!s||e.hasZ)),t.hasZ=s,t.hasM=i}var ke;function Ae(t){return(e,r)=>null==e?r:null==r?e:t(e,r)}let Ce=ke=class extends Ct{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return null;const r={};Array.isArray(t)?(r.points=t,r.spatialReference=e):function(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}(t)?r.spatialReference=t:(t.points&&(r.points=t.points),t.spatialReference&&(r.spatialReference=t.spatialReference),t.hasZ&&(r.hasZ=t.hasZ),t.hasM&&(r.hasM=t.hasM));const i=r.points&&r.points[0];return i&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=i.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=i.length>3:void 0===r.hasM&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new Ie,r=this.hasZ,i=this.hasM,s=r?3:2,n=t[0],o=Ae(Math.min),l=Ae(Math.max);let a,u,h,c,[d,f]=n,[y,p]=n;for(let e=0,n=t.length;e<n;e++){const n=t[e],[m,v]=n;if(d=o(d,m),f=o(f,v),y=l(y,m),p=l(p,v),r&&n.length>2){const t=n[2];a=o(a,t),h=l(h,t)}if(i&&n.length>s){const t=n[s];u=o(u,t),c=l(c,t)}}return e.xmin=d,e.ymin=f,e.xmax=y,e.ymax=p,e.spatialReference=this.spatialReference,r?(e.zmin=a,e.zmax=h):(e.zmin=null,e.zmax=null),i?(e.mmin=u,e.mmax=c):(e.mmin=null,e.mmax=null),e}writePoints(t,e){e.points=a(this.points)}addPoint(t){return De(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:a(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new ke(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],r={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=e[2],i=3),this.hasM&&(r.m=e[i]),new ee(r)}removePoint(t){if(!this._validateInputs(t))return null;const e=new ee(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(De(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return null!=t&&t>=0&&t<this.points.length}};s([n({readOnly:!0})],Ce.prototype,"cache",null),s([n()],Ce.prototype,"extent",null),s([n({type:[[Number]],json:{write:{isRequired:!0}}})],Ce.prototype,"points",void 0),s([lt("points")],Ce.prototype,"writePoints",null),Ce=ke=s([l("esri.geometry.Multipoint")],Ce),Ce.prototype.toJSON.isDefaultToJSON=!0;const Re=Ce;function Te(t,e){const r=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const s=t[2]-e[2];return Math.sqrt(r*r+i*i+s*s)}return Math.sqrt(r*r+i*i)}function Le(t,e,r,i){const[s,n]=e,[o,l]=r[i],[a,u]=r[i+1],h=a-o,c=u-l,d=Math.min(1,Math.max(0,((s-o)*h+(n-l)*c)/(h*h+c*c)));return t[0]=o+h*d,t[1]=l+c*d,t}function Fe(t,e){return function(t,e){const r=t[0]+.5*(e[0]-t[0]),i=t[1]+.5*(e[1]-t[1]);return t.length>2&&e.length>2?[r,i,t[2]+.5*(e[2]-t[2])]:[r,i]}(t,e)}function Ge(t,e,r){const i=t.length;let s=0,n=0,o=0;for(let l=0;l<i;l++){const a=t[l],u=t[(l+1)%i];let h=2;s+=a[0]*u[1]-u[0]*a[1],a.length>2&&u.length>2&&r&&(n+=a[0]*u[2]-u[0]*a[2],h=3),a.length>h&&u.length>h&&e&&(o+=a[0]*u[h]-u[0]*a[h])}return s<=0&&n<=0&&o<=0}function Ee(t){if("rings"in t){for(const e of t.rings)e.length<3||e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push([e[0][0],e[0][1]]);if(t.rings.length>0&&!Ge(t.rings[0],t.hasM,t.hasZ))for(let e=0;e<t.rings.length;++e)t.rings[e]=t.rings[e].reverse()}}function Ue(t){return t?function(t,e){if(!t||!t.length)return null;const r=[],i=[],s=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,n=t.length;r<n;r++){const n=$e(t[r],e,s);n&&i.push(n)}if(i.sort(((t,r)=>{let i=t[2]-r[2];return 0===i&&e&&(i=t[4]-r[4]),i})),i.length&&(r[0]=i[0][0],r[1]=i[0][1],e&&(r[2]=i[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||e&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){const i=t[0]&&t[0].length?function(t,e){const r=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let s=0,n=0,o=0,l=0;for(let a=0,u=t.length;a<u-1;a++){const u=t[a],h=t[a+1];if(u&&h){r[0]=u[0],r[1]=u[1],i[0]=h[0],i[1]=h[1],e&&u.length>2&&h.length>2&&(r[2]=u[2],i[2]=h[2]);const t=Te(r,i);if(t){s+=t;const r=Fe(u,h);n+=t*r[0],o+=t*r[1],e&&r.length>2&&(l+=t*r[2])}}}return s>0?e?[n/s,o/s,l/s]:[n/s,o/s]:t.length?t[0]:null}(t[0],e):null;if(!i)return null;r[0]=i[0],r[1]=i[1],e&&i.length>2&&(r[2]=i[2])}return r}(t.rings,t.hasZ):null}function $e(t,e,r){let i=0,s=0,n=0,o=0,l=0;const a=t.length?t[0][0]:0,u=t.length?t[0][1]:0,h=t.length&&e?t[0][2]:0;for(let c=0;c<t.length;c++){const d=t[c],f=t[(c+1)%t.length],[y,p,m]=d,v=y-a,b=p-u,w=e?m-h:void 0,[g,S,M]=f,x=g-a,j=S-u,O=e?M-h:void 0,P=v*j-x*b;if(o+=P,i+=(v+x)*P,s+=(b+j)*P,e&&d.length>2&&f.length>2){const t=v*O-x*w;n+=(w+O)*t,l+=t}y<r[0]&&(r[0]=y),y>r[1]&&(r[1]=y),p<r[2]&&(r[2]=p),p>r[3]&&(r[3]=p),e&&(m<r[4]&&(r[4]=m),m>r[5]&&(r[5]=m))}if(o>0&&(o*=-1),l>0&&(l*=-1),!o)return null;o*=.5,l*=.5;const c=[i/(6*o)+a,s/(6*o)+u,o];return e&&(r[4]===r[5]||0===l?(c[3]=(r[4]+r[5])/2,c[4]=0):(c[3]=n/(6*l)+h,c[4]=l)),c}function ze(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function qe(t){return void 0!==t.points}function Be(t){return void 0!==t.x&&void 0!==t.y}function We(t){return void 0!==t.paths}function He(t){return void 0!==t.rings}function Je(t){return(e,r)=>null==e?r:null==r?e:t(e,r)}const Ve=Je(Math.min),Qe=Je(Math.max);function Ye(t,e){return We(e)?Xe(t,e.paths,!1,!1):He(e)?Xe(t,e.rings,!1,!1):qe(e)?tr(t,e.points,!1,!1,!1,!1):ze(e)?Ke(t,e):(Be(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function Ze(t,e){return We(e)?Xe(t,e.paths,!0,!1):He(e)?Xe(t,e.rings,!0,!1):qe(e)?tr(t,e.points,!0,!1,!0,!1):ze(e)?Ke(t,e,0,0,!0,!1):(Be(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Xe(t,e,r,i){const s=r?3:2;if(!e.length||!e[0].length)return null;let n,o,l,a,[u,h]=e[0][0],[c,d]=e[0][0];for(let t=0;t<e.length;t++){const f=e[t];for(let t=0;t<f.length;t++){const e=f[t],[y,p]=e;if(u=Ve(u,y),h=Ve(h,p),c=Qe(c,y),d=Qe(d,p),r&&e.length>2){const t=e[2];n=Ve(n,t),o=Qe(o,t)}if(i&&e.length>s){const t=e[s];l=Ve(n,t),a=Qe(o,t)}}}return r?i?(t[0]=u,t[1]=h,t[2]=n,t[3]=l,t[4]=c,t[5]=d,t[6]=o,t[7]=a,t.length=8,t):(t[0]=u,t[1]=h,t[2]=n,t[3]=c,t[4]=d,t[5]=o,t.length=6,t):i?(t[0]=u,t[1]=h,t[2]=l,t[3]=c,t[4]=d,t[5]=a,t.length=6,t):(t[0]=u,t[1]=h,t[2]=c,t[3]=d,t.length=4,t)}function Ke(t,e,r,i,s,n){const o=e.xmin,l=e.xmax,a=e.ymin,u=e.ymax;let h=e.zmin,c=e.zmax,d=e.mmin,f=e.mmax;return s?(h=h||0,c=c||0,n?(d=d||0,f=f||0,t[0]=o,t[1]=a,t[2]=h,t[3]=d,t[4]=l,t[5]=u,t[6]=c,t[7]=f,t):(t[0]=o,t[1]=a,t[2]=h,t[3]=l,t[4]=u,t[5]=c,t)):n?(d=d||0,f=f||0,t[0]=o,t[1]=a,t[2]=d,t[3]=l,t[4]=u,t[5]=f,t):(t[0]=o,t[1]=a,t[2]=l,t[3]=u,t)}function tr(t,e,r,i,s,n){const o=r?3:2,l=i&&n,a=r&&s;if(!e.length||!e[0].length)return null;let u,h,c,d,[f,y]=e[0],[p,m]=e[0];for(let t=0;t<e.length;t++){const r=e[t],[i,s]=r;if(f=Ve(f,i),y=Ve(y,s),p=Qe(p,i),m=Qe(m,s),a&&r.length>2){const t=r[2];u=Ve(u,t),h=Qe(h,t)}if(l&&r.length>o){const t=r[o];c=Ve(u,t),d=Qe(h,t)}}return s?(u=u||0,h=h||0,n?(c=c||0,d=d||0,t[0]=f,t[1]=y,t[2]=u,t[3]=c,t[4]=p,t[5]=m,t[6]=h,t[7]=d,t):(t[0]=f,t[1]=y,t[2]=u,t[3]=p,t[4]=m,t[5]=h,t)):n?(c=c||0,d=d||0,t[0]=f,t[1]=y,t[2]=c,t[3]=p,t[4]=m,t[5]=d,t):(t[0]=f,t[1]=y,t[2]=p,t[3]=m,t)}const er=[];function rr(t,e,r,i){return{xmin:t,ymin:e,xmax:r,ymax:i}}function ir(t,e,r,i,s,n){return{xmin:t,ymin:e,zmin:r,xmax:i,ymax:s,zmax:n}}function sr(t,e,r,i,s,n){return{xmin:t,ymin:e,mmin:r,xmax:i,ymax:s,mmax:n}}function nr(t,e,r,i,s,n,o,l){return{xmin:t,ymin:e,zmin:r,mmin:i,xmax:s,ymax:n,zmax:o,mmax:l}}function or(t,e=!1,r=!1){return e?r?nr(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):ir(t[0],t[1],t[2],t[3],t[4],t[5]):r?sr(t[0],t[1],t[2],t[3],t[4],t[5]):rr(t[0],t[1],t[2],t[3])}function lr(t){return t?function(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}(t)?t:function(t){return void 0!==t.x&&void 0!==t.y}(t)?function(t){const{x:e,y:r,z:i,m:s}=t,n=null!=s;return null!=i?n?nr(e,r,i,s,e,r,i,s):ir(e,r,i,e,r,i):n?sr(e,r,s,e,r,s):rr(e,r,e,r)}(t):function(t){return void 0!==t.rings}(t)?ar(t):function(t){return void 0!==t.paths}(t)?ur(t):function(t){return void 0!==t.points}(t)?function(t){const{hasZ:e,hasM:r,points:i}=t;return or(tr(er,i,e,r),e,r)}(t):null:null}function ar(t){const{hasZ:e,hasM:r,rings:i}=t,s=Xe(er,i,e,r);return s?or(s,e,r):null}function ur(t){const{hasZ:e,hasM:r,paths:i}=t,s=Xe(er,i,e,r);return s?or(s,e,r):null}var hr;function cr(t){return!Array.isArray(t[0])}let dr=hr=class extends Ct{constructor(...t){super(...t),this.rings=[],this.type="polygon"}static fromExtent(t){const e=t.clone().normalize(),r=t.spatialReference;let i=!1,s=!1;for(const t of e)t.hasZ&&(i=!0),t.hasM&&(s=!0);const n={rings:e.map((function(t){const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(i&&t.hasZ){const r=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(r)}if(s&&t.hasM){const r=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(r)}return e})),spatialReference:r};return i&&(n.hasZ=!0),s&&(n.hasM=!0),new hr(n)}normalizeCtorArgs(t,e){let r,i,s=null,n=null;return t&&!Array.isArray(t)?(s=t.rings?t.rings:null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),r=t.hasZ,i=t.hasM):s=t,s=s||[],s.length&&s[0]&&null!=s[0][0]&&"number"==typeof s[0][0]&&(s=[s]),n=s[0]&&s[0][0],n&&(void 0===r&&void 0===i?(r=n.length>2,i=n.length>3):void 0===r?r=i?n.length>3:n.length>2:void 0===i&&(i=r?n.length>3:n.length>2)),{rings:s,spatialReference:e=e||kt.WGS84,hasZ:r,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Ue(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new ee;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=ar(this);if(!e)return null;const r=new Ie(e);return r.spatialReference=t,r}get isSelfIntersecting(){return function(t){for(let e=0;e<t.length;e++){const r=t[e];for(let i=0;i<r.length-1;i++){const s=r[i],n=r[i+1];for(let r=e+1;r<t.length;r++)for(let e=0;e<t[r].length-1;e++){const i=t[r][e],o=t[r][e+1];if(je(s,n,i,o,Me)&&!(Me[0]===s[0]&&Me[1]===s[1]||Me[0]===i[0]&&Me[1]===i[1]||Me[0]===n[0]&&Me[1]===n[1]||Me[0]===o[0]&&Me[1]===o[1]))return!0}}const i=r.length;if(!(i<=4))for(let t=0;t<i-3;t++){let e=i-1;0===t&&(e=i-2);const s=r[t],n=r[t+1];for(let i=t+2;i<e;i++){const t=r[i],e=r[i+1];if(je(s,n,t,e,Me)&&!(Me[0]===s[0]&&Me[1]===s[1]||Me[0]===t[0]&&Me[1]===t[1]||Me[0]===n[0]&&Me[1]===n[1]||Me[0]===e[0]&&Me[1]===e[1]))return!0}}}return!1}(this.rings)}writeRings(t,e){e.rings=a(this.rings)}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(cr(t)){const i=[];for(let e=0,r=t.length;e<r;e++)i[e]=t[e].toArray();e[r]=i}else e[r]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new hr;return t.spatialReference=this.spatialReference,t.rings=a(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(r(t))return!1;const e=this.spatialReference,s=t.spatialReference;if(i(e)!==i(s))return!1;if(i(e)&&i(s)&&!e.equals(s))return!1;if(this.rings.length!==t.rings.length)return!1;const n=([t,e,r,i],[s,n,o,l])=>t===s&&e===n&&(null==r&&null==o||r===o)&&(null==i&&null==l||i===l);for(let e=0;e<this.rings.length;e++)if(!d(this.rings[e],t.rings[e],n))return!1;return!0}contains(t){if(!t)return!1;const e=Wt(t,this.spatialReference);return ae(this,i(e)?e:t)}isClockwise(t){let e;return e=cr(t)?t.map((t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])):t,Ge(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new ee(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ee(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ee(r[0],r[1],r[2],r[3],this.spatialReference):new ee(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(De(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new ee(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,i=e.map((t=>new ee(t,r)));return this.notifyChange("rings"),i}setPoint(t,e,r){return this._validateInputs(t,e)?(De(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(null==t||t<0||t>=this.rings.length)return!1;if(null!=e){const i=this.rings[t];if(r&&(e<0||e>i.length))return!1;if(!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};s([n({readOnly:!0})],dr.prototype,"cache",null),s([n({readOnly:!0})],dr.prototype,"centroid",null),s([n({readOnly:!0})],dr.prototype,"extent",null),s([n({readOnly:!0})],dr.prototype,"isSelfIntersecting",null),s([n({type:[[[Number]]],json:{write:{isRequired:!0}}})],dr.prototype,"rings",void 0),s([lt("rings")],dr.prototype,"writeRings",null),dr=hr=s([l("esri.geometry.Polygon")],dr),dr.prototype.toJSON.isDefaultToJSON=!0;const fr=dr;var yr;let pr=yr=class extends Ct{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,e){let r,i,s=null,n=null;return t&&!Array.isArray(t)?(s=t.paths?t.paths:null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),r=t.hasZ,i=t.hasM):s=t,s=s||[],s.length&&s[0]&&null!=s[0][0]&&"number"==typeof s[0][0]&&(s=[s]),n=s[0]&&s[0][0],n&&(void 0===r&&void 0===i?(r=n.length>2,i=!1):void 0===r?r=!i&&n.length>3:void 0===i&&(i=!r&&n.length>3)),{paths:s,spatialReference:e=e||kt.WGS84,hasZ:r,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=ur(this);if(!e)return null;const r=new Ie(e);return r.spatialReference=t,r}writePaths(t,e){e.paths=a(this.paths)}addPath(t){if(!t)return;const e=this.paths,r=e.length;if(function(t){return!Array.isArray(t[0])}(t)){const i=[];for(let e=0,r=t.length;e<r;e++)i[e]=t[e].toArray();e[r]=i}else e[r]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new yr;return t.spatialReference=this.spatialReference,t.paths=a(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.paths[t][e],i=this.hasZ,s=this.hasM;return i&&!s?new ee(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new ee(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new ee(r[0],r[1],r[2],r[3],this.spatialReference):new ee(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(De(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t].splice(e,0,r),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],r=this.spatialReference,i=e.map((t=>new ee(t,r)));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new ee(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(t,e,r){return this._validateInputs(t,e)?(De(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[t][e]=r,this.notifyChange("paths"),this):this}_validateInputs(t,e,r=!1){if(null==t||t<0||t>=this.paths.length)return!1;if(null!=e){const i=this.paths[t];if(r&&(e<0||e>i.length))return!1;if(!r&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};s([n({readOnly:!0})],pr.prototype,"cache",null),s([n({readOnly:!0})],pr.prototype,"extent",null),s([n({type:[[[Number]]],json:{write:{isRequired:!0}}})],pr.prototype,"paths",void 0),s([lt("paths")],pr.prototype,"writePaths",null),pr=yr=s([l("esri.geometry.Polyline")],pr),pr.prototype.toJSON.isDefaultToJSON=!0;const mr=pr,vr=f()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),br=f()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function wr(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function gr(t){return void 0!==t.points}function Sr(t){return void 0!==t.x&&void 0!==t.y}function Mr(t){return void 0!==t.paths}function xr(t){return void 0!==t.rings}function jr(t){return r(t)?null:t instanceof Ct?t:Sr(t)?ee.fromJSON(t):Mr(t)?mr.fromJSON(t):xr(t)?fr.fromJSON(t):gr(t)?Re.fromJSON(t):wr(t)?Ie.fromJSON(t):null}function Or(t){return t?Sr(t)?"esriGeometryPoint":Mr(t)?"esriGeometryPolyline":xr(t)?"esriGeometryPolygon":wr(t)?"esriGeometryEnvelope":gr(t)?"esriGeometryMultipoint":null:null}const Pr={esriGeometryPoint:ee,esriGeometryPolyline:mr,esriGeometryPolygon:fr,esriGeometryEnvelope:Ie,esriGeometryMultipoint:Re};function _r(t){return t&&Pr[t]||null}const Nr={base:Ct,key:"type",typeMap:{extent:Ie,multipoint:Re,point:ee,polyline:mr,polygon:fr}};var Ir;function Dr(t,e){switch(t.type){case"range":{const r="range"in t?t.range[1]:t.maxValue;if(+e<("range"in t?t.range[0]:t.minValue)||+e>r)return Ir.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==t.codedValues||t.codedValues.every((t=>null==t||t.code!==e)))return Ir.INVALID_CODED_VALUE}return null}function kr(t){if(t&&"range"===t.type)return{min:"range"in t?t.range[0]:t.minValue,max:"range"in t?t.range[1]:t.maxValue}}let Ar;function Cr(){return Ar||(Ar=(async()=>{const t=await import("./p-4ddfade5.js").then((function(t){return t.as}));return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature}})()),Ar}y(Nr),function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(Ir||(Ir={}));const Rr=(t,e,r)=>Fr.create(t,e,r,null,["$feature"]),Tr=(t,e,r)=>Fr.create(t,e,r,null,["$feature","$view"]),Lr=(t,e,r,i)=>Fr.create(t,e,r,i,["$feature","$view"]);class Fr{constructor(t,e,r,i,s,n,o,l){this.script=t,this.evaluate=s;const a=Array.isArray(o)?o:o.fields;this.fields=a,this._syntaxTree=i,this._arcade=e,this._arcadeDictionary=r,this._arcadeFeature=n,this._spatialReference=l,this._referencesGeometry=e.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,e,r,s,n,o){const{arcade:l,Feature:a,Dictionary:u}=await Cr(),h=kt.fromJSON(e),c=l.parseScript(t,o),d=n.reduce(((t,e)=>({...t,[e]:null})),{});let f=null;i(s)&&(f=new u(s),f.immutable=!0,d.$config=null);const y=l.scriptUsesGeometryEngine(c)&&l.enableGeometrySupport(),p=l.scriptUsesFeatureSet(c)&&l.enableFeatureSetSupport(),m=l.scriptIsAsync(c)&&l.enableAsyncSupport(),v={vars:d,spatialReference:h,useAsync:!!m},b=new u;b.immutable=!1,b.setField("scale",0);const w=l.compileScript(c,v);return await Promise.all([y,p,m]),new Fr(t,l,u,c,(t=>("$view"in t&&t.$view&&(b.setField("scale",t.$view.scale),t.$view=b),f&&(t.$config=f),w({vars:t,spatialReference:h}))),new a,r,h)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(t){return this._arcadeFeature.repurposeFromAdapter(t,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const Gr=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Er=["field","normalizationField"];function Ur(t,e){if(null!=t&&null!=e)for(const r of Array.isArray(t)?t:[t])if($r(Gr,r,e),"visualVariables"in r&&r.visualVariables)for(const t of r.visualVariables)$r(Er,t,e)}function $r(t,e,r){if(t)for(const i of t){const t=p(i,e),s=t&&"function"!=typeof t&&r.get(t);s&&m(i,s.name,e)}}function zr(t,e){if(null!=t&&null!=e&&e.fields.length)if("startField"in t){const r=e.get(t.startField),i=e.get(t.endField);t.startField=r&&r.name||null,t.endField=i&&i.name||null}else{const r=e.get(t.startTimeField),i=e.get(t.endTimeField);t.startTimeField=r&&r.name||null,t.endTimeField=i&&i.name||null}}const qr=new Set;function Br(t,e){return t&&e?(qr.clear(),Wr(qr,t,e),Array.from(qr).sort()):[]}function Wr(t,e,r){var i;if(r)if(null!=e&&null!=(i=e.fields)&&i.length)if(r.includes("*"))for(const{name:r}of e.fields)t.add(r);else for(const i of r)Hr(t,e,i);else{if(r.includes("*"))return t.clear(),void t.add("*");for(const e of r)t.add(e)}}function Hr(t,e,r){if("string"==typeof r)if(e){const i=e.get(r);i&&t.add(i.name)}else t.add(r)}function Jr(t,e){return r(e)||r(t)?[]:e.includes("*")?t.fields.map((t=>t.name)):e}async function Vr(t,e,r){var i;if(!r)return;const{arcadeUtils:s}=await Cr(),n=s.extractFieldNames(r,null==e||null==(i=e.fields)?void 0:i.map((t=>t.name)));for(const r of n)Hr(t,e,r)}async function Qr(t,e,r){if(r&&"1=1"!==r){const i=(await import("./p-b74f39e0.js")).WhereClause.create(r,e);if(!i.isStandardized)throw new v("fieldUtils:collectFilterFields","Where clause is not standardized");Wr(t,e,i.fieldNames)}}function Yr({displayField:t,fields:e}){return t||(e&&e.length?Zr(e,"name-or-title")||Zr(e,"unique-identifier")||Zr(e,"type-or-category")||function(t){for(const e of t){if(!e||!e.name)continue;const t=e.name.toLowerCase();if(t.indexOf("name")>-1||t.indexOf("title")>-1)return e.name}return null}(e):null)}function Zr(t,e){for(const r of t)if(r&&r.valueType&&r.valueType===e)return r.name;return null}async function Xr(t,e){if(!e)return;const r=p("elevationInfo.featureExpressionInfo",e);return r?r.collectRequiredFields(t,e.fieldsIndex):void 0}async function Kr(t,e,r){var i;if(!e||!r||"cluster"!==r.type)return;const s=[];null!=(i=r.popupTemplate)&&i.expressionInfos&&s.push(...r.popupTemplate.expressionInfos.map((r=>Vr(t,e.fieldsIndex,r.expression)))),r.fields&&s.push(...r.fields.map((r=>async function(t,e,r){r.outStatistic.onStatisticValueExpression?Vr(t,e,r.outStatistic.onStatisticValueExpression):t.add(r.outStatistic.onStatisticField)}(t,e.fieldsIndex,r)))),await Promise.all(s)}async function ti(t,e,r){e&&(e.timeInfo&&i(r)&&r.timeExtent&&Wr(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Wr(t,e.fieldsIndex,[e.floorInfo.floorField]),i(r)&&i(r.where)&&await Qr(t,e.fieldsIndex,r.where))}async function ei(t,e,r){e&&r&&await Promise.all(r.map((r=>async function(t,e,r){e&&r&&(r.valueExpression?await Vr(t,e.fieldsIndex,r.valueExpression):r.field&&Hr(t,e.fieldsIndex,r.field))}(t,e,r))))}function ri(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;return e?Br(t.fieldsIndex,[e&&e.creatorField,e&&e.creationDateField,e&&e.editorField,e&&e.editDateField]):[]}function ii(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?Br(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function si(t,e){const{labelingInfo:r,fieldsIndex:i}=e;r&&r.length&&await Promise.all(r.map((e=>async function(t,e,r){if(!r)return;const i=r.getLabelExpression(),s=r.where;if("arcade"===i.type)await Vr(t,e,i.expression);else{const r=i.expression.match(/{[^}]*}/g);r&&r.forEach((r=>{Hr(t,e,r.slice(1,-1))}))}await Qr(t,e,s)}(t,i,e))))}function ni(t){const e=t.defaultValue;return void 0!==e&&fi(t,e)?e:t.nullable?null:void 0}function oi(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function li(t){return null===t||oi(t)}const ai="isInteger"in Number?Number.isInteger:t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t;function ui(t){return null===t||ai(t)}function hi(t){return null!=t&&"string"==typeof t}function ci(t){return null===t||hi(t)}function di(){return!0}function fi(t,e){let r;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=t.nullable?ui:ai;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=t.nullable?li:oi;break;case"string":case"esriFieldTypeString":r=t.nullable?ci:hi;break;default:r=di}return 1===arguments.length?r:r(e)}const yi=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function pi(t){return null!=t&&yi.has(t.type)}function mi(t){return null!=t&&("string"===t.type||"esriFieldTypeString"===t.type)}function vi(t){return null!=t&&("date"===t.type||"esriFieldTypeDate"===t.type)}var bi,wi;function gi(t){return null==t||"number"==typeof t&&isNaN(t)?null:t}function Si(t,e){return t.nullable&&null===e?null:pi(t)&&!function(t,e){const r="string"==typeof t?xi(t):t;return!!r&&(r.isInteger?ai(e)&&e>=r.min&&e<=r.max:e>=r.min&&e<=r.max)}(t.type,Number(e))?bi.OUT_OF_RANGE:fi(t,e)?t.domain?Dr(t.domain,e):null:wi.INVALID_TYPE}function Mi(t){return kr(t.domain)||(pi(t)?xi(t.type):void 0)}function xi(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return ji;case"esriFieldTypeInteger":case"integer":return Oi;case"esriFieldTypeSingle":case"single":return Pi;case"esriFieldTypeDouble":case"double":return _i}}(bi||(bi={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",(wi||(wi={})).INVALID_TYPE="type-validation-error::invalid-type";const ji={min:-32768,max:32767,isInteger:!0},Oi={min:-2147483648,max:2147483647,isInteger:!0},Pi={min:-34e37,max:12e37,isInteger:!1},_i={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function Ni(t,e,r){switch(t){case Ir.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case Ir.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case wi.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case bi.OUT_OF_RANGE:{const{min:t,max:i}=xi(e.type);return`Value ${r} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${t} to ${i}`}}}function Ii(t,e){return!function(t,e,r){if(!e||!e.attributes||!t){if(i(r))for(const e of t)r.add(e);return!0}const s=e.attributes;let n=!1;for(const e of t)if(!(e in s)){if(n=!0,!i(r))break;r.add(e)}return n}(t,e,null)}let Di=class extends st{constructor(t){super(t),this.type=null}};s([n({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],Di.prototype,"type",void 0),Di=s([l("esri.popup.content.Content")],Di);const ki=Di;var Ai;let Ci=Ai=class extends ki{constructor(t){super(t),this.description=null,this.displayType=null,this.title=null,this.type="attachments"}clone(){return new Ai({description:this.description,displayType:this.displayType,title:this.title})}};s([n({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ci.prototype,"description",void 0),s([n({type:["auto","preview","list"],json:{write:!0}})],Ci.prototype,"displayType",void 0),s([n({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ci.prototype,"title",void 0),s([n({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Ci.prototype,"type",void 0),Ci=Ai=s([l("esri.popup.content.AttachmentsContent")],Ci);const Ri=Ci;var Ti;let Li=Ti=class extends ki{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Ti({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?a(this.outFields):null})}};s([n()],Li.prototype,"creator",void 0),s([n()],Li.prototype,"destroyer",void 0),s([n()],Li.prototype,"outFields",void 0),s([n({type:["custom"],readOnly:!0})],Li.prototype,"type",void 0),Li=Ti=s([l("esri.popup.content.CustomContent")],Li);const Fi=Li;function Gi(t,e={}){var r;const i=t instanceof b?t:new b(t,e),s={type:null==(r=null==e?void 0:e.ignoreUnknown)||r?i.apiValues:String,readOnly:null==e?void 0:e.readOnly,json:{type:i.jsonValues,read:(null==e||!e.readOnly)&&{reader:i.read},write:{writer:i.write}}};return void 0!==(null==e?void 0:e.default)&&(s.json.default=e.default),void 0!==(null==e?void 0:e.name)&&(s.json.name=e.name),n(s)}const Ei=f()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});var Ui;Ei.toJSON.bind(Ei),Ei.fromJSON.bind(Ei);let $i=Ui=class extends st{constructor(t){super(t),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new Ui({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(t){return this.dateFormat?w(t,{...S(this.dateFormat),...this.dateTimeFormatOptions}):g(t,M(this))}};s([Gi(Ei)],$i.prototype,"dateFormat",void 0),s([n({type:Object,json:{read:!1}})],$i.prototype,"dateTimeFormatOptions",void 0),s([n({type:Boolean,json:{write:!0}})],$i.prototype,"digitSeparator",void 0),s([n({type:o,json:{write:!0}})],$i.prototype,"places",void 0),$i=Ui=s([l("esri.popup.support.FieldInfoFormat")],$i);const zi=$i;var qi;let Bi=qi=class extends st{constructor(t){super(t),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new qi({fieldName:this.fieldName,format:this.format?a(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};s([n({type:String,json:{write:!0}})],Bi.prototype,"fieldName",void 0),s([n({type:zi,json:{write:!0}})],Bi.prototype,"format",void 0),s([n({type:Boolean,json:{write:!0,default:!1}})],Bi.prototype,"isEditable",void 0),s([n({type:String,json:{write:!0}})],Bi.prototype,"label",void 0),s([Gi(new b({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Bi.prototype,"stringFieldOption",void 0),s([n({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Bi.prototype,"statisticType",void 0),s([n({type:String,json:{write:!0}})],Bi.prototype,"tooltip",void 0),s([n({type:Boolean,json:{write:!0}})],Bi.prototype,"visible",void 0),Bi=qi=s([l("esri.popup.FieldInfo")],Bi);const Wi=Bi;var Hi;let Ji=Hi=class extends ki{constructor(t){super(t),this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map((t=>t.toJSON()))}clone(){return new Hi({description:this.description,fieldInfos:Array.isArray(this.fieldInfos)?a(this.fieldInfos):null,title:this.title})}};s([n({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ji.prototype,"description",void 0),s([n({type:[Wi]})],Ji.prototype,"fieldInfos",void 0),s([lt("fieldInfos")],Ji.prototype,"writeFieldInfos",null),s([n({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ji.prototype,"title",void 0),s([n({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Ji.prototype,"type",void 0),Ji=Hi=s([l("esri.popup.content.FieldsContent")],Ji);const Vi=Ji;let Qi=class extends st{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};s([n({type:String,json:{write:!0}})],Qi.prototype,"altText",void 0),s([n({type:String,json:{write:!0}})],Qi.prototype,"caption",void 0),s([n({type:String,json:{write:!0}})],Qi.prototype,"title",void 0),s([n({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Qi.prototype,"type",void 0),Qi=s([l("esri.popup.content.mixins.MediaInfo")],Qi);const Yi=Qi;var Zi;let Xi=Zi=class extends x{constructor(t){super(t),this.tooltip=null,this.value=null}clone(){return new Zi({tooltip:this.tooltip,value:this.value})}};s([n()],Xi.prototype,"tooltip",void 0),s([n()],Xi.prototype,"value",void 0),Xi=Zi=s([l("esri.popup.content.support.ChartMediaInfoValueSeries")],Xi);const Ki=Xi;var ts;let es=ts=class extends st{constructor(t){super(t),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new ts({fields:a(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};s([n({type:[String],json:{write:!0}})],es.prototype,"fields",void 0),s([n({type:String,json:{write:!0}})],es.prototype,"normalizeField",void 0),s([n({type:[Ki],json:{read:!1}})],es.prototype,"series",void 0),s([n({type:String,json:{write:!0}})],es.prototype,"tooltipField",void 0),es=ts=s([l("esri.popup.content.support.ChartMediaInfoValue")],es);const rs=es;let is=class extends Yi{constructor(t){super(t),this.type=null,this.value=null}};s([n({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],is.prototype,"type",void 0),s([n({type:rs,json:{write:!0}})],is.prototype,"value",void 0),is=s([l("esri.popup.content.mixins.ChartMediaInfo")],is);const ss=is,ns=f()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var os;let ls=os=class extends ss{constructor(t){super(t),this.type="bar-chart"}clone(){return new os({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};s([n({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:ns.write}})],ls.prototype,"type",void 0),ls=os=s([l("esri.popup.content.BarChartMediaInfo")],ls);const as=ls;var us;let hs=us=class extends ss{constructor(t){super(t),this.type="column-chart"}clone(){return new us({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};s([n({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:ns.write}})],hs.prototype,"type",void 0),hs=us=s([l("esri.popup.content.ColumnChartMediaInfo")],hs);const cs=hs;var ds;let fs=ds=class extends st{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new ds({linkURL:this.linkURL,sourceURL:this.sourceURL})}};s([n({type:String,json:{write:!0}})],fs.prototype,"linkURL",void 0),s([n({type:String,json:{write:!0}})],fs.prototype,"sourceURL",void 0),fs=ds=s([l("esri.popup.content.support.ImageMediaInfoValue")],fs);const ys=fs;var ps;let ms=ps=class extends Yi{constructor(t){super(t),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new ps({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};s([n({type:Number,json:{write:!0}})],ms.prototype,"refreshInterval",void 0),s([n({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],ms.prototype,"type",void 0),s([n({type:ys,json:{write:!0}})],ms.prototype,"value",void 0),ms=ps=s([l("esri.popup.content.ImageMediaInfo")],ms);const vs=ms;var bs;let ws=bs=class extends ss{constructor(t){super(t),this.type="line-chart"}clone(){return new bs({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};s([n({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:ns.write}})],ws.prototype,"type",void 0),ws=bs=s([l("esri.popup.content.LineChartMediaInfo")],ws);const gs=ws;var Ss;let Ms=Ss=class extends ss{constructor(t){super(t),this.type="pie-chart"}clone(){return new Ss({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};s([n({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:ns.write}})],Ms.prototype,"type",void 0),Ms=Ss=s([l("esri.popup.content.PieChartMediaInfo")],Ms);const xs=Ms,js={base:Yi,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":as,"column-chart":cs,"line-chart":gs,"pie-chart":xs,image:vs}};var Os;let Ps=Os=class extends ki{constructor(t){super(t),this.activeMediaInfoIndex=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map((t=>"image"===t.type?vs.fromJSON(t):"barchart"===t.type?as.fromJSON(t):"columnchart"===t.type?cs.fromJSON(t):"linechart"===t.type?gs.fromJSON(t):"piechart"===t.type?xs.fromJSON(t):void 0)).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map((t=>t.toJSON()))}clone(){return new Os({activeMediaInfoIndex:this.activeMediaInfoIndex,description:this.description,mediaInfos:this.mediaInfos?a(this.mediaInfos):null,title:this.title})}};s([n()],Ps.prototype,"activeMediaInfoIndex",void 0),s([n({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ps.prototype,"description",void 0),s([n({types:[js]})],Ps.prototype,"mediaInfos",void 0),s([ot("mediaInfos")],Ps.prototype,"readMediaInfos",null),s([lt("mediaInfos")],Ps.prototype,"writeMediaInfos",null),s([n({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Ps.prototype,"title",void 0),s([n({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ps.prototype,"type",void 0),Ps=Os=s([l("esri.popup.content.MediaContent")],Ps);const _s=Ps;var Ns;let Is=Ns=class extends ki{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new Ns({text:this.text})}};s([n({type:String,json:{write:!0}})],Is.prototype,"text",void 0),s([n({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Is.prototype,"type",void 0),Is=Ns=s([l("esri.popup.content.TextContent")],Is);const Ds=Is,ks={base:null,key:"type",typeMap:{attachment:Ri,media:_s,text:Ds,field:Vi}};var As;let Cs=As=class extends st{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new As({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};s([n({type:String,json:{write:!0}})],Cs.prototype,"name",void 0),s([n({type:String,json:{write:!0}})],Cs.prototype,"title",void 0),s([n({type:String,json:{write:!0}})],Cs.prototype,"expression",void 0),s([n({type:["string","number"],json:{write:!0}})],Cs.prototype,"returnType",void 0),Cs=As=s([l("esri.popup.ExpressionInfo")],Cs);const Rs=Cs;var Ts;let Ls=Ts=class extends st{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Ts({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};s([n({type:Boolean,json:{write:!0}})],Ls.prototype,"returnTopmostRaster",void 0),s([n({type:Boolean,json:{write:!0}})],Ls.prototype,"showNoDataRecords",void 0),Ls=Ts=s([l("esri.popup.LayerOptions")],Ls);const Fs=Ls;var Gs;let Es=Gs=class extends st{constructor(t){super(t),this.field=null,this.order=null}clone(){return new Gs({field:this.field,order:this.order})}};s([n({type:String,json:{write:!0}})],Es.prototype,"field",void 0),s([n({type:["asc","desc"],json:{write:!0}})],Es.prototype,"order",void 0),Es=Gs=s([l("esri.popup.support.RelatedRecordsInfoFieldOrder")],Es);const Us=Es;var $s;let zs=$s=class extends st{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new $s({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?a(this.orderByFields):null})}};s([n({type:Boolean,json:{write:!0}})],zs.prototype,"showRelatedRecords",void 0),s([n({type:[Us],json:{write:!0}})],zs.prototype,"orderByFields",void 0),zs=$s=s([l("esri.popup.RelatedRecordsInfo")],zs);const qs=zs;let Bs=0;const Ws=t=>{let e=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Bs++})}};return e=s([l("esri.core.Identifiable")],e),e};let Hs=class extends(Ws(class{})){};var Js;Hs=s([l("esri.core.Identifiable")],Hs);let Vs=Js=class extends(Ws(x)){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Js({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};s([n()],Vs.prototype,"active",void 0),s([n()],Vs.prototype,"className",void 0),s([n()],Vs.prototype,"disabled",void 0),s([n()],Vs.prototype,"id",void 0),s([n()],Vs.prototype,"indicator",void 0),s([n()],Vs.prototype,"title",void 0),s([n()],Vs.prototype,"type",void 0),s([n()],Vs.prototype,"visible",void 0),Vs=Js=s([l("esri.support.actions.ActionBase")],Vs);const Qs=Vs;var Ys;let Zs=Ys=class extends Qs{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new Ys({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};s([n()],Zs.prototype,"image",void 0),Zs=Ys=s([l("esri.support.Action.ActionButton")],Zs);const Xs=Zs;var Ks;let tn=Ks=class extends Qs{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new Ks({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};s([n()],tn.prototype,"image",void 0),s([n()],tn.prototype,"value",void 0),tn=Ks=s([l("esri.support.Action.ActionToggle")],tn);const en=tn;var rn;const sn=j.ofType({key:"type",defaultKeyValue:"button",base:Qs,typeMap:{button:Xs,toggle:en}}),nn={base:ki,key:"type",typeMap:{media:_s,custom:Fi,text:Ds,attachments:Ri,fields:Vi}},on="esri.PopupTemplate",ln=u.getLogger(on),an=["attachments","fields","media","text"];let un=rn=class extends st{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(t){return Array.isArray(t)?t.map((t=>y(nn,t))):"string"==typeof t||"function"==typeof t||t instanceof HTMLElement||O(t)?t:(ln.error("content error","unsupported content value",{value:t}),null)}readContent(t,e){const{popupElements:r}=e;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(e):this._readPopupInfo(e)}writeContent(t,e,r,i){"string"!=typeof t?Array.isArray(t)&&(e.popupElements=t.filter((t=>-1!==an.indexOf(t.type))).map((t=>t&&t.toJSON(i))),e.popupElements.forEach((t=>{"attachments"===t.type?this._writeAttachmentContent(e):"media"===t.type?this._writeMediaContent(t,e):"text"===t.type&&this._writeTextContent(t,e)}))):e.description=t}writeFieldInfos(t,e,r,i){const{content:s}=this,n=Array.isArray(s)?s:null;if(t){const r=n?n.filter((t=>"fields"===t.type)):[],s=r.length&&r.every((t=>{var e;return null==(e=t.fieldInfos)?void 0:e.length}));e.fieldInfos=t.filter(Boolean).map((t=>{const e=t.toJSON(i);return s&&(e.visible=!1),e}))}if(n)for(const t of n)"fields"===t.type&&this._writeFieldsContent(t,e)}writeLayerOptions(t,e,r,i){e[r]=!t||null===t.showNoDataRecords&&null===t.returnTopmostRaster?null:t.toJSON(i)}writeTitle(t,e){e.title=t||""}clone(){const{actions:t}=this,e=t?a(t.toArray()):[];return new rn({actions:e,content:Array.isArray(this.content)?a(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?a(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?a(this.fieldInfos):null,layerOptions:this.layerOptions?a(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?a(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?a(this.relatedRecordsInfo):null})}async collectRequiredFields(t,e){await this._collectExpressionInfoFields(t,e,this.expressionInfos),Wr(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const e=new Set;return await this.collectRequiredFields(e,t),[...e].sort()}_writeFieldsContent(t,e){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=a(t.fieldInfos);Array.isArray(e.fieldInfos)?r.forEach((t=>{const r=e.fieldInfos.find((e=>e.fieldName.toLowerCase()===t.fieldName.toLowerCase()));r?r.visible=!0:e.fieldInfos.push(t)})):e.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=a(t.mediaInfos);e.mediaInfos=Array.isArray(e.mediaInfos)?[...e.mediaInfos,...r]:r}_readPopupInfoElements({description:t,mediaInfos:e,popupElements:r}){const i={description:!1,mediaInfos:!1};return r.map((r=>"media"===r.type?(r.mediaInfos||!e||i.mediaInfos||(r.mediaInfos=e,i.mediaInfos=!0),_s.fromJSON(r)):"text"===r.type?(r.text||!t||i.description||(r.text=t,i.description=!0),Ds.fromJSON(r)):"attachments"===r.type?Ri.fromJSON(r):"fields"===r.type?Vi.fromJSON(r):void 0)).filter(Boolean)}_readPopupInfo({description:t,mediaInfos:e,showAttachments:r}){const i=[];return i.push(t?new Ds({text:t}):new Vi),Array.isArray(e)&&e.length&&i.push(_s.fromJSON({mediaInfos:e})),r&&i.push(Ri.fromJSON({displayType:"auto"})),i.length?i:t}_getContentElementFields(t){return t&&"attachments"!==t.type?"custom"===t.type?t.outFields||[]:"fields"===t.type?this._getFieldInfoFields(t.fieldInfos||this.fieldInfos):"media"===t.type?(t.mediaInfos||[]).reduce(((t,e)=>[...t,...this._getMediaInfoFields(e)]),[]):"text"===t.type?this._extractFieldNames(t.text):void 0:[]}_getMediaInfoFields(t){const{caption:e,title:r,value:i}=t,s=i||{},{fields:n=[],normalizeField:o,tooltipField:l,sourceURL:a,linkURL:u}=s,h=[...this._extractFieldNames(r),...this._extractFieldNames(e),...this._extractFieldNames(a),...this._extractFieldNames(u),...n];return o&&h.push(o),l&&h.push(l),h}_getContentFields(t){return"string"==typeof t?this._extractFieldNames(t):Array.isArray(t)?t.reduce(((t,e)=>[...t,...this._getContentElementFields(e)]),[]):[]}async _collectExpressionInfoFields(t,e,r){r&&await Promise.all(r.map((r=>Vr(t,e,r.expression))))}_getFieldInfoFields(t){return t?t.filter((t=>void 0===t.visible||!!t.visible)).map((t=>t.fieldName)).filter((t=>-1===t.indexOf("relationships/")&&-1===t.indexOf("expression/"))):[]}_getActionsFields(t){return t?t.toArray().reduce(((t,e)=>[...t,...this._getActionFields(e)]),[]):[]}_getActionFields(t){const{className:e,title:r,type:i}=t,s="button"===i||"toggle"===i?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(e),...this._extractFieldNames(s)]}_getTitleFields(t){return"string"==typeof t?this._extractFieldNames(t):[]}_extractFieldNames(t){if(!t||"string"!=typeof t)return[];const e=t.match(/{[^}]*}/g);if(!e)return[];const r=/\{(\w+):.+\}/,i=e.filter((t=>!(0===t.indexOf("{relationships/")||0===t.indexOf("{expression/")))).map((t=>t.replace(r,"{$1}")));return i?i.map((t=>t.slice(1,-1))):[]}};s([n({type:sn})],un.prototype,"actions",void 0),s([n()],un.prototype,"content",void 0),s([h("content")],un.prototype,"castContent",null),s([ot("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],un.prototype,"readContent",null),s([lt("content",{popupElements:{type:j.ofType(ks)},showAttachments:{type:Boolean},mediaInfos:{type:j.ofType(js)},description:{type:String}})],un.prototype,"writeContent",null),s([n({type:[Rs],json:{write:!0}})],un.prototype,"expressionInfos",void 0),s([n({type:[Wi]})],un.prototype,"fieldInfos",void 0),s([lt("fieldInfos")],un.prototype,"writeFieldInfos",null),s([n({type:Fs})],un.prototype,"layerOptions",void 0),s([lt("layerOptions")],un.prototype,"writeLayerOptions",null),s([n({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],un.prototype,"lastEditInfoEnabled",void 0),s([n()],un.prototype,"outFields",void 0),s([n()],un.prototype,"overwriteActions",void 0),s([n()],un.prototype,"returnGeometry",void 0),s([n({json:{type:String}})],un.prototype,"title",void 0),s([lt("title")],un.prototype,"writeTitle",null),s([n({type:qs,json:{write:!0}})],un.prototype,"relatedRecordsInfo",void 0),un=rn=s([l(on)],un);const hn=un,cn={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function dn(t){return cn[t]||cn[t.toLowerCase()]}function fn(t){var e;return null!=(e=cn[t])?e:cn[t.toLowerCase()]}function yn(t){return[...fn(t)]}function pn(t,e,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?t+(e-t)*i:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function mn(t,e,r,i=1){const s=(t%360+360)%360/360,n=r<=.5?r*(e+1):r+e-r*e,o=2*r-n;return[Math.round(255*pn(o,n,s+1/3)),Math.round(255*pn(o,n,s)),Math.round(255*pn(o,n,s-1/3)),i]}function vn(t){const e=t.length>5,r=e?8:4,i=(1<<r)-1,s=e?1:17,n=e?9===t.length:5===t.length;let o=Number("0x"+t.substr(1));if(isNaN(o))return null;const l=[0,0,0,1];let a;return n&&(a=o&i,o>>=r,l[3]=s*a/255),a=o&i,o>>=r,l[2]=s*a,a=o&i,o>>=r,l[1]=s*a,a=o&i,o>>=r,l[0]=s*a,l}function bn(){return[0,0,0]}function wn(t){return[t[0],t[1],t[2]]}function gn(t,e,r){return[t,e,r]}function Sn(t){const e=[0,0,0],r=Math.min(3,t.length);for(let i=0;i<r;++i)e[i]=t[i];return e}function Mn(t,e){return new Float64Array(t,e,3)}function xn(){return gn(1,1,1)}function jn(){return gn(1,0,0)}function On(){return gn(0,1,0)}function Pn(){return gn(0,0,1)}const _n=[0,0,0],Nn=xn(),In=jn(),Dn=On(),kn=Pn();Object.freeze({__proto__:null,create:bn,clone:wn,fromValues:gn,fromArray:Sn,createView:Mn,zeros:function(){return[0,0,0]},ones:xn,unitX:jn,unitY:On,unitZ:Pn,ZEROS:_n,ONES:Nn,UNIT_X:In,UNIT_Y:Dn,UNIT_Z:kn});const An=1e-6,Cn=Math.random,Rn=Math.PI/180,Tn=180/Math.PI;function Ln(t){return t*Rn}function Fn(t){return t*Tn}function Gn(t){const e=t[0],r=t[1],i=t[2];return Math.sqrt(e*e+r*r+i*i)}function En(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Un(t,e,r,i){return t[0]=e,t[1]=r,t[2]=i,t}function $n(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function zn(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function qn(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Bn(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Wn(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function Hn(t,e){const r=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(r*r+i*i+s*s)}function Jn(t,e){const r=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2];return r*r+i*i+s*s}function Vn(t){const e=t[0],r=t[1],i=t[2];return e*e+r*r+i*i}function Qn(t,e){const r=e[0],i=e[1],s=e[2];let n=r*r+i*i+s*s;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n),t}function Yn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zn(t,e,r){const i=e[0],s=e[1],n=e[2],o=r[0],l=r[1],a=r[2];return t[0]=s*a-n*l,t[1]=n*o-i*a,t[2]=i*l-s*o,t}function Xn(t,e,r,i){const s=e[0],n=e[1],o=e[2];return t[0]=s+i*(r[0]-s),t[1]=n+i*(r[1]-n),t[2]=o+i*(r[2]-o),t}function Kn(t,e,r){const i=e[0],s=e[1],n=e[2];return t[0]=r[0]*i+r[4]*s+r[8]*n+r[12],t[1]=r[1]*i+r[5]*s+r[9]*n+r[13],t[2]=r[2]*i+r[6]*s+r[10]*n+r[14],t}function to(t,e,r){const i=e[0],s=e[1],n=e[2];return t[0]=i*r[0]+s*r[3]+n*r[6],t[1]=i*r[1]+s*r[4]+n*r[7],t[2]=i*r[2]+s*r[5]+n*r[8],t}function eo(t,e,r){const i=r[0],s=r[1],n=r[2],o=e[0],l=e[1],a=e[2];let u=s*a-n*l,h=n*o-i*a,c=i*l-s*o,d=s*c-n*h,f=n*u-i*c,y=i*h-s*u;const p=2*r[3];return u*=p,h*=p,c*=p,d*=2,f*=2,y*=2,t[0]=o+u+d,t[1]=l+h+f,t[2]=a+c+y,t}Object.freeze({__proto__:null,EPSILON:An,RANDOM:Cn,toRadian:Ln,toDegree:Fn,equals:function(t,e){return Math.abs(t-e)<=An*Math.max(1,Math.abs(t),Math.abs(e))}});const ro=[0,0,0],io=[0,0,0];function so(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function no(t,e,r){const i=r[0]-e[0],s=r[1]-e[1],n=r[2]-e[2];let o=i*i+s*s+n*n;return o>0?(o=1/Math.sqrt(o),t[0]=i*o,t[1]=s*o,t[2]=n*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const oo=zn,lo=Gn;function ao(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function uo(t,e,r,i,s){return t[0]=e,t[1]=r,t[2]=i,t[3]=s,t}function ho(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function co(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function fo(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function yo(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function po(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function mo(t,e){const r=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return Math.sqrt(r*r+i*i+s*s+n*n)}function vo(t,e){const r=e[0]-t[0],i=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return r*r+i*i+s*s+n*n}function bo(t){const e=t[0],r=t[1],i=t[2],s=t[3];return Math.sqrt(e*e+r*r+i*i+s*s)}function wo(t){const e=t[0],r=t[1],i=t[2],s=t[3];return e*e+r*r+i*i+s*s}function go(t,e){const r=e[0],i=e[1],s=e[2],n=e[3];let o=r*r+i*i+s*s+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=i*o,t[2]=s*o,t[3]=n*o),t}function So(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Mo(t,e,r,i){const s=e[0],n=e[1],o=e[2],l=e[3];return t[0]=s+i*(r[0]-s),t[1]=n+i*(r[1]-n),t[2]=o+i*(r[2]-o),t[3]=l+i*(r[3]-l),t}function xo(t,e,r){const i=e[0],s=e[1],n=e[2],o=e[3];return t[0]=r[0]*i+r[4]*s+r[8]*n+r[12]*o,t[1]=r[1]*i+r[5]*s+r[9]*n+r[13]*o,t[2]=r[2]*i+r[6]*s+r[10]*n+r[14]*o,t[3]=r[3]*i+r[7]*s+r[11]*n+r[15]*o,t}function jo(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Oo(t,e){const r=t[0],i=t[1],s=t[2],n=t[3],o=e[0],l=e[1],a=e[2],u=e[3];return Math.abs(r-o)<=An*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-l)<=An*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-a)<=An*Math.max(1,Math.abs(s),Math.abs(a))&&Math.abs(n-u)<=An*Math.max(1,Math.abs(n),Math.abs(u))}Object.freeze({__proto__:null,length:Gn,copy:En,set:Un,add:$n,subtract:zn,multiply:qn,divide:Bn,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:Wn,scaleAndAdd:function(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t},distance:Hn,squaredDistance:Jn,squaredLength:Vn,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},normalize:Qn,dot:Yn,cross:Zn,lerp:Xn,hermite:function(t,e,r,i,s,n){const o=n*n,l=o*(2*n-3)+1,a=o*(n-2)+n,u=o*(n-1),h=o*(3-2*n);return t[0]=e[0]*l+r[0]*a+i[0]*u+s[0]*h,t[1]=e[1]*l+r[1]*a+i[1]*u+s[1]*h,t[2]=e[2]*l+r[2]*a+i[2]*u+s[2]*h,t},bezier:function(t,e,r,i,s,n){const o=1-n,l=o*o,a=n*n,u=l*o,h=3*n*l,c=3*a*o,d=a*n;return t[0]=e[0]*u+r[0]*h+i[0]*c+s[0]*d,t[1]=e[1]*u+r[1]*h+i[1]*c+s[1]*d,t[2]=e[2]*u+r[2]*h+i[2]*c+s[2]*d,t},random:function(t,e){e=e||1;const r=2*Cn()*Math.PI,i=2*Cn()-1,s=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*s,t[1]=Math.sin(r)*s,t[2]=i*e,t},transformMat4:Kn,transformMat3:to,transformQuat:eo,rotateX:function(t,e,r,i){const s=[],n=[];return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],n[0]=s[0],n[1]=s[1]*Math.cos(i)-s[2]*Math.sin(i),n[2]=s[1]*Math.sin(i)+s[2]*Math.cos(i),t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},rotateY:function(t,e,r,i){const s=[],n=[];return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],n[0]=s[2]*Math.sin(i)+s[0]*Math.cos(i),n[1]=s[1],n[2]=s[2]*Math.cos(i)-s[0]*Math.sin(i),t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},rotateZ:function(t,e,r,i){const s=[],n=[];return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],n[0]=s[0]*Math.cos(i)-s[1]*Math.sin(i),n[1]=s[0]*Math.sin(i)+s[1]*Math.cos(i),n[2]=s[2],t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t},angle:function(t,e){En(ro,t),En(io,e),Qn(ro,ro),Qn(io,io);const r=Yn(ro,io);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:so,equals:function(t,e){if(t===e)return!0;const r=t[0],i=t[1],s=t[2],n=e[0],o=e[1],l=e[2];return Math.abs(r-n)<=An*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(i-o)<=An*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-l)<=An*Math.max(1,Math.abs(s),Math.abs(l))},direction:no,sub:oo,mul:qn,div:Bn,dist:Hn,sqrDist:Jn,len:lo,sqrLen:Vn}),Object.freeze({__proto__:null,copy:ao,set:uo,add:ho,subtract:co,multiply:fo,divide:yo,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:po,scaleAndAdd:function(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t},distance:mo,squaredDistance:vo,length:bo,squaredLength:wo,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},normalize:go,dot:So,lerp:Mo,random:function(t,e){let r,i,s,n,o,l;e=e||1;do{r=2*Cn()-1,i=2*Cn()-1,o=r*r+i*i}while(o>=1);do{s=2*Cn()-1,n=2*Cn()-1,l=s*s+n*n}while(l>=1);const a=Math.sqrt((1-o)/l);return t[0]=e*r,t[1]=e*i,t[2]=e*s*a,t[3]=e*n*a,t},transformMat4:xo,transformQuat:function(t,e,r){const i=e[0],s=e[1],n=e[2],o=r[0],l=r[1],a=r[2],u=r[3],h=u*i+l*n-a*s,c=u*s+a*i-o*n,d=u*n+o*s-l*i,f=-o*i-l*s-a*n;return t[0]=h*u+f*-o+c*-a-d*-l,t[1]=c*u+f*-l+d*-o-h*-a,t[2]=d*u+f*-a+h*-l-c*-o,t[3]=e[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:jo,equals:Oo,sub:co,mul:fo,div:yo,dist:mo,sqrDist:vo,len:bo,sqrLen:wo});const Po=new Float32Array(1);function _o(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function No(t,e,r){return Math.min(Math.max(t,e),r)}function Io(t){return 0==(t&t-1)}function Do(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function ko(t,e,r){return t+(e-t)*r}function Ao(t){return t*Math.PI/180}function Co(t){return 180*t/Math.PI}function Ro(t){return Math.acos(No(t,-1,1))}function To(t){return Math.asin(No(t,-1,1))}function Lo(t){return Fo(Math.max(-Eo,Math.min(t,Eo)))}function Fo(t){return Po[0]=t,Po[0]}function Go(t,e){const r=Gn(t);return Un(e,r,To(t[2]/r),Math.atan2(t[1]/r,t[0]/r)),e}const Eo=Fo(34028234663852886e22);function Uo(t){return No(P(t),0,255)}function $o(t,e,r){return t=Number(t),isNaN(t)?r:t<e?e:t>r?r:t}class zo{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,e,r,i=new zo){return i.r=Math.round(t.r+(e.r-t.r)*r),i.g=Math.round(t.g+(e.g-t.g)*r),i.b=Math.round(t.b+(e.b-t.b)*r),i.a=t.a+(e.a-t.a)*r,i._sanitize()}static fromRgb(t,e){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const t=r[2].split(/\s*,\s*/),i=r[1];if("rgb"===i&&3===t.length||"rgba"===i&&4===t.length){const r=t[0];if("%"===r.charAt(r.length-1)){const r=t.map((t=>2.56*parseFloat(t)));return 4===t.length&&(r[3]=parseFloat(t[3])),zo.fromArray(r,e)}return zo.fromArray(t.map((t=>parseFloat(t))),e)}if("hsl"===i&&3===t.length||"hsla"===i&&4===t.length)return zo.fromArray(mn(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),e)}return null}static fromHex(t,e=new zo){if(4!==t.length&&7!==t.length||"#"!==t[0])return null;const r=4===t.length?4:8,i=(1<<r)-1;let s=Number("0x"+t.substr(1));return isNaN(s)?null:(["b","g","r"].forEach((t=>{const n=s&i;s>>=r,e[t]=4===r?17*n:n})),e.a=1,e)}static fromArray(t,e=new zo){return e._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(e.a)&&(e.a=1),e._sanitize()}static fromString(t,e){const r=dn(t)?fn(t):null;return r&&zo.fromArray(r,e)||zo.fromRgb(t,e)||zo.fromHex(t,e)}static fromJSON(t){return t&&new zo([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return i(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return i(t)?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if("string"==typeof t)zo.fromString(t,this);else if(Array.isArray(t))zo.fromArray(t,this);else{var e,r,i,s;this._set(null!=(e=t.r)?e:0,null!=(r=t.g)?r:0,null!=(i=t.b)?i:0,null!=(s=t.a)?s:1),t instanceof zo||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return`#${t.length<2?"0"+t:t}${e.length<2?"0"+e:e}${r.length<2?"0"+r:r}`}toCss(t=!1){const e=this.r+", "+this.g+", "+this.b;return t?`rgba(${e}, ${this.a})`:`rgb(${e})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=0){const e=Uo(this.r),r=Uo(this.g),i=Uo(this.b);return 0===t||1!==this.a?[e,r,i,Uo(255*this.a)]:[e,r,i]}clone(){return new zo(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}_sanitize(){return this.r=Math.round($o(this.r,0,255)),this.g=Math.round($o(this.g,0,255)),this.b=Math.round($o(this.b,0,255)),this.a=$o(this.a,0,1),this}_set(t,e,r,i){this.r=t,this.g=e,this.b=r,this.a=i}}zo.prototype.declaredClass="esri.Color";const qo=new b({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Bo=0,Wo=class extends st{constructor(t){super(t),this.id="sym"+Bo++,this.type=null}set color(t){this._set("color",t)}readColor(t){return t&&null!=t[0]?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};s([n({type:qo.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:qo.write}}})],Wo.prototype,"type",void 0),s([n({type:zo,value:new zo([0,0,0,1]),json:{write:{allowNull:!0}}})],Wo.prototype,"color",null),s([ot("color")],Wo.prototype,"readColor",null),Wo=s([l("esri.symbols.Symbol")],Wo);const Ho=Wo;var Jo;let Vo=Jo=class extends Ho{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){if(t)for(const r in t)e[r]=t[r]}async collectRequiredFields(t,e){if("CIMSymbolReference"===this.data.type){const r=this.data.primitiveOverrides;if(r){const i=r.map((r=>Vr(t,e,r.valueExpressionInfo.expression)));await Promise.all(i)}}}clone(){return new Jo({data:a(this.data)})}hash(){return _(JSON.stringify(this.data)).toString()}};s([n({json:{write:!1}})],Vo.prototype,"color",void 0),s([n({json:{write:!0}})],Vo.prototype,"data",void 0),s([ot("data",["symbol"])],Vo.prototype,"readData",null),s([lt("data",{})],Vo.prototype,"writeData",null),s([Gi({CIMSymbolReference:"cim"},{readOnly:!0})],Vo.prototype,"type",void 0),Vo=Jo=s([l("esri.symbols.CIMSymbol")],Vo);const Qo=Vo;let Yo=class extends st{constructor(t){super(t),this.enabled=!0,this.type=null}writeEnabled(t,e,r){t||(e[r]=t)}};s([n({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Yo.prototype,"enabled",void 0),s([lt("enabled")],Yo.prototype,"writeEnabled",null),s([n({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Yo.prototype,"type",void 0),Yo=s([l("esri.symbols.Symbol3DLayer")],Yo);const Zo=Yo,Xo=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function Ko(t){return t?t/72*96:0}function tl(t){return t?72*t/96:0}function el(t){if("string"==typeof t){const e=t.match(Xo);if(e){const r=Number(e[1]),i=e[3]&&e[3].toLowerCase(),s="-"===t.charAt(0),n="px"===i?tl(r):r;return s?-n:n}return console.warn("screenUtils.toPt: input not recognized!"),null}return t}function rl(t=0,e=0){return{x:t,y:e}}function il(t=0,e=0){return[t,e]}function sl(t){const e=P(100*(1-t));return Math.max(0,Math.min(e,100))}function nl(t){return Math.max(0,Math.min(1-t/100,1))}const ol={type:zo,json:{type:[o],default:null,read:{source:["color","transparency"],reader:function(t,e){const r=null!=e.transparency?nl(e.transparency):1,i=e.color;return i&&Array.isArray(i)?new zo([i[0]||0,i[1]||0,i[2]||0,r]):null}},write:{target:{color:{type:[o]},transparency:{type:o}},writer:function(t,e){e.color=t.toJSON().slice(0,3);const r=sl(t.a);0!==r&&(e.transparency=r)}}}},ll={type:Number,cast:el,json:{write:!0}};let al=class extends st{constructor(t){super(t),this.color=new zo([0,0,0,1]),this.extensionLength=0,this.size=tl(1)}clone(){}cloneProperties(){return{color:a(this.color),size:this.size,extensionLength:this.extensionLength}}};s([n({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],al.prototype,"type",void 0),s([n(ol)],al.prototype,"color",void 0),s([n({...ll,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],al.prototype,"extensionLength",void 0),s([n(ll)],al.prototype,"size",void 0),al=s([l("esri.symbols.edges.Edges3D")],al);const ul=al;var hl;let cl=hl=class extends ul{constructor(t){super(t),this.type="sketch"}clone(){return new hl(this.cloneProperties())}};s([Gi({sketch:"sketch"},{readOnly:!0})],cl.prototype,"type",void 0),cl=hl=s([l("esri.symbols.edges.SketchEdges3D")],cl);const dl=cl;var fl;let yl=fl=class extends ul{constructor(t){super(t),this.type="solid"}clone(){return new fl(this.cloneProperties())}};s([Gi({solid:"solid"},{readOnly:!0})],yl.prototype,"type",void 0),yl=fl=s([l("esri.symbols.support.SolidEdges3D")],yl);const pl={types:{key:"type",base:ul,typeMap:{solid:yl,sketch:dl}},json:{write:!0}};var ml;let vl=ml=class extends st{constructor(t){super(t),this.color=null}clone(){const t={color:i(this.color)?this.color.clone():null};return new ml(t)}};s([n(ol)],vl.prototype,"color",void 0),vl=ml=s([l("esri.symbols.support.Symbol3DMaterial")],vl);const bl=vl;var wl;let gl=wl=class extends Zo{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new wl({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:i(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};s([Gi({Extrude:"extrude"},{readOnly:!0})],gl.prototype,"type",void 0),s([n({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],gl.prototype,"size",void 0),s([n({type:bl,json:{write:!0}})],gl.prototype,"material",void 0),s([n({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],gl.prototype,"castShadows",void 0),s([n(pl)],gl.prototype,"edges",void 0),gl=wl=s([l("esri.symbols.ExtrudeSymbol3DLayer")],gl);const Sl=gl;let Ml=class extends Ho{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};s([Gi({esriSLS:"simple-line"},{readOnly:!0})],Ml.prototype,"type",void 0),s([n({type:Number,cast:el,json:{write:!0}})],Ml.prototype,"width",void 0),Ml=s([l("esri.symbols.LineSymbol")],Ml);const xl=Ml;var jl;let Ol=jl=class extends st{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,r,i){e[r]="web-map"===(null==i?void 0:i.origin)?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t&&null!=t[0]?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,r,i){"web-map"===(null==i?void 0:i.origin)||(e[r]=t)}clone(){return new jl({color:a(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${null==(t=this.color)?void 0:t.hash()}.${this.style}`}};s([n({type:["begin","end","begin-end"],json:{write:!0}})],Ol.prototype,"placement",void 0),s([Gi({"line-marker":"line-marker"},{readOnly:!0}),n({json:{origins:{"web-map":{write:!1}}}})],Ol.prototype,"type",void 0),s([n({type:["arrow","circle","square","diamond","cross","x"]})],Ol.prototype,"style",void 0),s([lt("style")],Ol.prototype,"writeStyle",null),s([n({type:zo,value:null,json:{write:{allowNull:!0}}})],Ol.prototype,"color",null),s([ot("color")],Ol.prototype,"readColor",null),s([lt("color")],Ol.prototype,"writeColor",null),Ol=jl=s([l("esri.symbols.LineSymbolMarker")],Ol);const Pl=Ol;var _l;const Nl=new b({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Il=_l=class extends xl{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,r,i,s,n){if(t&&"string"!=typeof t)return t;const o={};return null!=t&&(o.style=t),null!=e&&(o.color=e),null!=r&&(o.width=el(r)),null!=i&&(o.cap=i),null!=s&&(o.join=s),null!=n&&(o.miterLimit=el(n)),o}clone(){var t;return new _l({color:a(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(t=this.marker)?void 0:t.clone()})}hash(){var t,e;return`${super.hash()}.${null==(t=this.color)?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(e=this.marker)?void 0:e.hash()}`}};s([Gi({esriSLS:"simple-line"},{readOnly:!0})],Il.prototype,"type",void 0),s([n({type:Nl.apiValues,json:{read:Nl.read,write:Nl.write}})],Il.prototype,"style",void 0),s([n({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,r)=>({enabled:"round"!==t&&(null==r||null==r.origin)})}}})],Il.prototype,"cap",void 0),s([n({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,r)=>({enabled:"round"!==t&&(null==r||null==r.origin)})}}})],Il.prototype,"join",void 0),s([n({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Pl}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Il.prototype,"marker",void 0),s([n({type:Number,json:{read:!1,write:!1}})],Il.prototype,"miterLimit",void 0),Il=_l=s([l("esri.symbols.SimpleLineSymbol")],Il);const Dl=Il;let kl=class extends Ho{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};s([n({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Dl}},json:{default:null,write:!0}})],kl.prototype,"outline",void 0),s([n({type:["simple-fill","picture-fill"],readOnly:!0})],kl.prototype,"type",void 0),kl=s([l("esri.symbols.FillSymbol")],kl);const Al=kl;let Cl=class extends st{constructor(t){super(t)}clone(){}};s([n({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Cl.prototype,"type",void 0),Cl=s([l("esri.symbols.patterns.LinePattern3D")],Cl);const Rl=Cl;var Tl;const Ll=f()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Fl=Tl=class extends Rl{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new Tl({style:this.style})}};s([n({type:["style"]})],Fl.prototype,"type",void 0),s([Gi(Ll),n({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],Fl.prototype,"style",void 0),Fl=Tl=s([l("esri.symbols.patterns.LineStylePattern3D")],Fl);const Gl=Fl;let El=class extends st{constructor(t){super(t)}clone(){}};s([n({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],El.prototype,"type",void 0),El=s([l("esri.symbols.patterns.Pattern3D")],El);const Ul=El;var $l;let zl=$l=class extends Ul{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new $l({style:this.style})}};s([n({type:["style"]})],zl.prototype,"type",void 0),s([n({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],zl.prototype,"style",void 0),zl=$l=s([l("esri.symbols.patterns.StylePattern3D")],zl);const ql=zl,Bl={types:{key:"type",base:Ul,typeMap:{style:ql}},json:{write:!0}},Wl={types:{key:"type",base:Rl,typeMap:{style:Gl}},json:{write:!0}},Hl=new zo("white");new zo("black");const Jl=new zo([255,255,255,0]);var Vl;let Ql=Vl=class extends vl{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:i(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new Vl(t)}};function Yl(t=ua){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function Zl(t,e,r,i,s,n,o=Yl()){return o[0]=t,o[1]=e,o[2]=r,o[3]=i,o[4]=s,o[5]=n,o}function Xl(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function Kl(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function ta(t,e=[0,0,0]){return e[0]=function(t){return t[0]>=t[3]?0:t[3]-t[0]}(t),e[1]=function(t){return t[1]>=t[4]?0:t[4]-t[1]}(t),e[2]=function(t){return t[2]>=t[5]?0:t[5]-t[2]}(t),e}function ea(t,e,r=t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r!==t&&(r[3]=t[3],r[4]=t[4],r[5]=t[5]),r}function ra(t,e,r=t){return r[3]=e[0],r[4]=e[1],r[5]=e[2],r!==t&&(r[0]=t[0],r[1]=t[1],r[2]=t[2]),t}function ia(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function sa(t){return t?ia(t,aa):Yl(aa)}function na(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function oa(t){return 6===t.length}function la(t,e,i){if(r(t)||r(e))return t===e;if(!oa(t)||!oa(e))return!1;if(i){for(let r=0;r<t.length;r++)if(!i(t[r],e[r]))return!1}else for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}s([Gi({multiply:"multiply",replace:"replace",tint:"tint"})],Ql.prototype,"colorMixMode",void 0),Ql=Vl=s([l("esri.symbols.support.Symbol3DFillMaterial")],Ql);const aa=[1/0,1/0,1/0,-1/0,-1/0,-1/0],ua=[0,0,0,0,0,0];function ha(t,{isPrimitive:e,width:r,depth:i,height:s}){const n=e?10:1;if(null==r&&null==s&&null==i)return[n*t[0],n*t[1],n*t[2]];const o=gn(r,i,s);let l;for(let e=0;e<3;e++){const r=o[e];if(null!=r){l=r/t[e];break}}for(let e=0;e<3;e++)null==o[e]&&(o[e]=t[e]*l);return o}const ca=Zl(-.5,-.5,-.5,.5,.5,.5),da=Zl(-.5,-.5,0,.5,.5,1),fa=Zl(-.5,-.5,0,.5,.5,.5);function ya(t){switch(t){case"sphere":case"cube":case"diamond":return ca;case"cylinder":case"cone":case"inverted-cone":return da;case"tetrahedron":return fa;default:return}}const pa=["butt","square","round"],ma=[...pa,"none"],va=["miter","bevel","round"];var ba;let wa=ba=class extends st{constructor(t){super(t),this.color=new zo([0,0,0,1]),this.size=tl(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:i(this.color)?this.color.clone():null,size:this.size,pattern:i(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new ba(t)}};s([n(ol)],wa.prototype,"color",void 0),s([n(ll)],wa.prototype,"size",void 0),s([n(Wl)],wa.prototype,"pattern",void 0),s([n({type:pa,json:{default:"butt",write:{overridePolicy(){return{enabled:i(this.pattern)}}}}})],wa.prototype,"patternCap",void 0),wa=ba=s([l("esri.symbols.support.Symbol3DOutline")],wa);const ga=wa;var Sa;let Ma=Sa=class extends Zo{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:i(this.edges)?this.edges.clone():null,enabled:this.enabled,material:i(this.material)?this.material.clone():null,pattern:i(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:i(this.outline)?this.outline.clone():null};return new Sa(t)}static fromSimpleFillSymbol(t){var e,r,i,s,n,o;const l=t.outline&&t.outline.style&&"inside-frame"!==t.outline.style&&"solid"!==t.outline.style?new Gl({style:t.outline.style}):null,a={size:null!=(e=null==(r=t.outline)?void 0:r.width)?e:0,color:(null!=(i=null==(s=t.outline)?void 0:s.color)?i:Hl).clone(),pattern:l};return l&&null!=(n=t.outline)&&n.cap&&(a.patternCap=t.outline.cap),new Sa({material:new Ql({color:(null!=(o=t.color)?o:Jl).clone()}),pattern:t.style&&"solid"!==t.style?new ql({style:t.style}):null,outline:a})}};s([Gi({Fill:"fill"},{readOnly:!0})],Ma.prototype,"type",void 0),s([n({type:Ql,json:{write:!0}})],Ma.prototype,"material",void 0),s([n(Bl)],Ma.prototype,"pattern",void 0),s([n({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ma.prototype,"castShadows",void 0),s([n({type:ga,json:{write:!0}})],Ma.prototype,"outline",void 0),s([n(pl)],Ma.prototype,"edges",void 0),Ma=Sa=s([l("esri.symbols.FillSymbol3DLayer")],Ma);const xa=Ma;var ja;let Oa=ja=class extends st{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return el(t)}clone(){return new ja({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};s([n({type:["underline","line-through","none"],json:{default:"none",write:!0}})],Oa.prototype,"decoration",void 0),s([n({type:String,json:{write:!0}})],Oa.prototype,"family",void 0),s([n({type:Number,json:{write:{overridePolicy:(t,e,r)=>({enabled:!r||!r.textSymbol3D})}}})],Oa.prototype,"size",void 0),s([h("size")],Oa.prototype,"castSize",null),s([n({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],Oa.prototype,"style",void 0),s([n({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],Oa.prototype,"weight",void 0),Oa=ja=s([l("esri.symbols.Font")],Oa);const Pa=Oa;function _a(t,e){const r=e&&e.url&&e.url.path;if(t&&r&&(t=N(t,r,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const r=I(t,e.portalItem.itemUrl);Aa.test(r)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(r).path)}return Ra(t,e&&e.portal)}function Na(t,e,r=0){if(!t)return t;!D(t)&&e&&e.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let i=N(t);if(e){const r=e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.rootPath||e.url&&e.url.path;if(r){const s=Ra(r,e.portal);i=I(Ra(i,e.portal),s,s),i!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=function(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?k(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}(i,e&&e.portal),D(i)&&(i=A(i)),null!=e&&e.resources&&null!=e&&e.portalItem&&!D(i)&&!C(i)&&0===r&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(i)}),i}function Ia(t,e,r){return _a(t,r)}function Da(t,e,r,i){const s=Na(t,i);void 0!==s&&(e[r]=s)}const ka=/\/items\/([^\/]+)\/resources\//,Aa=/^\.\/resources\//;function Ca(t){const e=i(t)?t.match(ka):null;return i(e)?e[1]:null}function Ra(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const r=`${e.urlKey}.${e.customBaseUrl}`;return R(T,`${T.scheme}://${r}`)?k(t,e.portalHostname,r):k(t,r,e.portalHostname)}const Ta=Object.freeze({__proto__:null,fromJSON:_a,toJSON:Na,read:Ia,write:Da,itemIdFromResourceUrl:Ca});var La;const Fa=f()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Ga=La=class extends st{constructor(t){super(t)}readHref(t,e,r){return t?_a(t,r):e.dataURI}writeHref(t,e,r,i){t&&(C(t)?e.dataURI=t:(e.href=Na(t,i),D(e.href)&&(e.href=A(e.href))))}clone(){return new La({href:this.href,primitive:this.primitive})}};s([n({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Ga.prototype,"href",void 0),s([ot("href")],Ga.prototype,"readHref",null),s([lt("href",{href:{type:String},dataURI:{type:String}})],Ga.prototype,"writeHref",null),s([Gi(Fa)],Ga.prototype,"primitive",void 0),Ga=La=s([l("esri.symbols.support.IconSymbol3DLayerResource")],Ga);const Ea="circle",Ua=Ga;var $a;let za=$a=class extends x{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new $a({x:this.x,y:this.y})}};s([n({type:Number})],za.prototype,"x",void 0),s([n({type:Number})],za.prototype,"y",void 0),za=$a=s([l("esri.symbols.support.Symbol3DAnchorPosition2D")],za);const qa=za;var Ba;let Wa=Ba=class extends st{constructor(t){super(t),this.color=new zo([0,0,0,1]),this.size=tl(1)}clone(){const t={color:i(this.color)?this.color.clone():null,size:this.size};return new Ba(t)}};s([n(ol)],Wa.prototype,"color",void 0),s([n(ll)],Wa.prototype,"size",void 0),Wa=Ba=s([l("esri.symbols.support.Symbol3DIconOutline")],Wa);const Ha=Wa;var Ja;const Va=u.getLogger("esri.symbols.IconSymbol3DLayer");let Qa=Ja=class extends Zo{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new Ja({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:i(this.material)?this.material.clone():null,outline:i(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(t){const e=t.color||Hl,r=Ya(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Hl).clone()}:null;return new Ja({size:t.size,resource:{primitive:Ka(t.style)},material:{color:e},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(t){const e=!t.color||function(t){return 0===t.r&&0===t.g&&0===t.b}(t.color)?Hl:t.color,r=Ya(t);return new Ja({size:t.width<=t.height?t.height:t.width,resource:{href:t.url},material:{color:e.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(t){return new Ja({resource:{href:L({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function Ya(t){const e="width"in t?t.width:t.size,r="height"in t?t.height:t.size,i=Za(t.xoffset),s=Za(t.yoffset);return(i||s)&&e&&r?{x:-i/e,y:s/r}:null}function Za(t){return isFinite(t)?t:0}s([n({type:bl,json:{write:!0}})],Qa.prototype,"material",void 0),s([n({type:Ua,json:{write:!0}})],Qa.prototype,"resource",void 0),s([Gi({Icon:"icon"},{readOnly:!0})],Qa.prototype,"type",void 0),s([n(ll)],Qa.prototype,"size",void 0),s([Gi({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),n({json:{default:"center"}})],Qa.prototype,"anchor",void 0),s([n({type:za,json:{type:[Number],read:{reader:t=>new za({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],Qa.prototype,"anchorPosition",void 0),s([n({type:Ha,json:{write:!0}})],Qa.prototype,"outline",void 0),Qa=Ja=s([l("esri.symbols.IconSymbol3DLayer")],Qa);const Xa={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Ka(t){return Xa[t]||(Va.warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const tu=Qa;function eu(t,e,r=j){return e||(e=new r),e===t||(e.removeAll(),function(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}(t)?e.addMany(t):t&&e.add(t)),e}function ru(t){return t}const iu=t=>{let e=class extends t{constructor(...t){super(...t),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((t=>{const e=this.load.bind(this);this.load=r=>{const i=new Promise(((t,e)=>{const i=G(r,e);this.destroyed&&e(new v("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(t,e).finally((()=>{i&&i.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const t=this._loadController=new AbortController;e({signal:t.signal}),E(t.signal,(()=>{this._promiseProps.abort()}))}return t(),i}}))),this.when((()=>{this._set("loadStatus","loaded"),this._loadController=null}),(t=>{this._set("loadStatus","failed"),this._set("loadError",t),this._loadController=null}))}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var t;return this.isFulfilled()||(this._set("loadError",new v("load:cancelled","Cancelled")),null==(t=this._loadController)||t.abort()),this}};return s([n({readOnly:!0})],e.prototype,"loaded",null),s([n({readOnly:!0})],e.prototype,"loadError",void 0),s([n()],e.prototype,"loadStatus",void 0),s([n({type:[F],readOnly:!0})],e.prototype,"loadWarnings",null),e=s([l("esri.core.Loadable")],e),e};let su=class extends(iu(U)){};su=s([l("esri.core.Loadable")],su),function(t){t.LoadableMixin=iu,t.isLoadable=function(t){return!(!t||!t.load)}}(su||(su={}));const nu=su;var ou;const lu=new b({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let au=ou=class extends x{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){"asc"!==t&&"desc"!==t||this._set("sortOrder",t)}clone(){return new ou({categories:this.categories?a(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let r,s;if(this.categories&&(r=this.categories.map((t=>Array.isArray(t)?JSON.stringify(t):t))),this.extent){const t=Wt(this.extent,kt.WGS84);i(t)&&(s=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let n=this.query;!this.disableExtraQuery&&t.extraQuery&&(n="("+n+")"+t.extraQuery);const o={categories:r,bbox:s,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((t=>lu.toJSON(t.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...e,...o}}}};s([n()],au.prototype,"categories",void 0),s([n()],au.prototype,"disableExtraQuery",void 0),s([n({type:Ie})],au.prototype,"extent",void 0),s([n()],au.prototype,"filter",void 0),s([n()],au.prototype,"num",void 0),s([n()],au.prototype,"query",void 0),s([n()],au.prototype,"sortField",void 0),s([n()],au.prototype,"sortOrder",null),s([n()],au.prototype,"start",void 0),au=ou=s([l("esri.portal.PortalQueryParams")],au);const uu=au;let hu=class extends x{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};s([n()],hu.prototype,"nextQueryParams",void 0),s([n()],hu.prototype,"queryParams",void 0),s([n()],hu.prototype,"results",void 0),s([n()],hu.prototype,"total",void 0),hu=s([l("esri.portal.PortalQueryResult")],hu);const cu=hu;let du=class extends st{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new v("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};s([n({type:Date})],du.prototype,"created",void 0),s([n()],du.prototype,"id",void 0),s([n()],du.prototype,"portal",void 0),s([n()],du.prototype,"title",void 0),s([n({readOnly:!0})],du.prototype,"url",null),s([n()],du.prototype,"username",void 0),du=s([l("esri.portal.PortalFolder")],du);const fu=du;let yu=class extends st{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal._normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.get("portal.restUrl");return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal._request(this.url+"/categorySchema",t).then((e=>{const r=e.categorySchema||[];return r.some((t=>"contentCategorySetsGroupQuery.LivingAtlas"===t.source))?this._fetchCategorySchemaSet("LivingAtlas",t):r}))}fetchMembers(t){return this.portal._request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new v("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(t,e){let r=$(uu,t);return parseFloat(this.portal.currentVersion)>5?(r=r||new uu,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",e)):(r=r?r.clone():new uu,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,e))}_fetchCategorySchemaSet(t,e){return this.portal._fetchSelf(this.portal.authMode,!0,e).then((t=>{const r=t.contentCategorySetsGroupQuery;if(r){const t=new uu;return t.disableExtraQuery=!0,t.num=1,t.query=r,this.portal.queryGroups(t,e)}throw new v("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const i=r.results[0],s=new uu;return s.num=1,s.query=`typekeywords:"${t}"`,i.queryItems(s,e)}throw new v("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((t=>t.total?t.results[0].fetchData("json",e).then((t=>{const e=t&&t.categorySchema;return e&&e.length?e:[]})):[]))}};s([n()],yu.prototype,"access",void 0),s([n({type:Date})],yu.prototype,"created",void 0),s([n()],yu.prototype,"description",void 0),s([n()],yu.prototype,"id",void 0),s([n()],yu.prototype,"isInvitationOnly",void 0),s([n({type:Date})],yu.prototype,"modified",void 0),s([n()],yu.prototype,"owner",void 0),s([n()],yu.prototype,"portal",void 0),s([n()],yu.prototype,"snippet",void 0),s([n()],yu.prototype,"sortField",void 0),s([n()],yu.prototype,"sortOrder",void 0),s([n()],yu.prototype,"tags",void 0),s([n()],yu.prototype,"thumbnail",void 0),s([n({readOnly:!0})],yu.prototype,"thumbnailUrl",null),s([n()],yu.prototype,"title",void 0),s([n({readOnly:!0})],yu.prototype,"url",null),yu=s([l("esri.portal.PortalGroup")],yu);const pu=yu,mu=Object.freeze({__proto__:null,default:pu});var vu;let bu=vu=class extends st{constructor(...t){super(...t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal._normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.get("portal.restUrl");return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.get("portal.restUrl");return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,r=t&&t.data,i=t&&t.folder,s={method:"post"};e&&(s.query=e.createPostQuery(),null!=r&&("string"==typeof r?s.query.text=r:"object"==typeof r&&(s.query.text=JSON.stringify(r))));let n=this.userContentUrl;return i&&(n+="/"+("string"==typeof i?i:i.id)),this.portal._request(n+"/addItem",s).then((t=>(e.id=t.id,e.portal=this.portal,e.loaded?e.reload():e.load())))}deleteItem(t){let e=this.userContentUrl;return t.ownerFolder&&(e+="/"+t.ownerFolder),this.portal._request(e+`/items/${t.id}/delete`,{method:"post"}).then((()=>{t.id=null,t.portal=null}))}deleteItems(t){const e=this.userContentUrl+"/deleteItems",r=t.map((t=>t.id));if(r.length){const i={method:"post",query:{items:r.join(",")}};return this.portal._request(e,i).then((()=>{t.forEach((t=>{t.id=null,t.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((t=>{let e;return e=t&&t.folders?t.folders.map((t=>{const e=fu.fromJSON(t);return e.portal=this.portal,e})):[],e}))}fetchGroups(){return this.portal._request(this.url).then((t=>{let e;return e=t&&t.groups?t.groups.map((t=>{const e=pu.fromJSON(t);return e.portal=this.portal,e})):[],e}))}fetchItems(t){t||(t={});let e,r=this.userContentUrl;return t.folder&&(r+="/"+t.folder.id),import("./p-725fd184.js").then((({default:i})=>(e=i,this.portal._request(r,{query:{folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"}})))).then((t=>{let r;return t&&t.items?(r=t.items.map((t=>{const r=e.fromJSON(t);return r.portal=this.portal,r})),Promise.all(r.map((t=>t.load()))).catch((t=>t)).then((()=>({items:r,nextStart:t.nextStart,total:t.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((t=>t.tags))}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new pu({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new v("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new v("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new vu;return e.sourceJSON=t,e.read(t),e}};s([n()],bu.prototype,"access",void 0),s([n({type:Date})],bu.prototype,"created",void 0),s([n()],bu.prototype,"culture",void 0),s([n()],bu.prototype,"description",void 0),s([n()],bu.prototype,"email",void 0),s([n()],bu.prototype,"favGroupId",void 0),s([n()],bu.prototype,"fullName",void 0),s([n({type:Date})],bu.prototype,"modified",void 0),s([n()],bu.prototype,"orgId",void 0),s([n()],bu.prototype,"portal",void 0),s([n()],bu.prototype,"preferredView",void 0),s([n()],bu.prototype,"privileges",void 0),s([n()],bu.prototype,"region",void 0),s([n()],bu.prototype,"role",void 0),s([n()],bu.prototype,"roleId",void 0),s([n()],bu.prototype,"sourceJSON",void 0),s([n()],bu.prototype,"thumbnail",void 0),s([n({readOnly:!0})],bu.prototype,"thumbnailUrl",null),s([n()],bu.prototype,"units",void 0),s([n({readOnly:!0})],bu.prototype,"userContentUrl",null),s([n({readOnly:!0})],bu.prototype,"url",null),s([n()],bu.prototype,"username",void 0),s([n()],bu.prototype,"userType",void 0),bu=vu=s([l("esri.portal.PortalUser")],bu);const wu=bu,gu=Object.freeze({__proto__:null,default:wu});var Su;let Mu;const xu={PortalGroup:()=>Promise.resolve().then((function(){return mu})),PortalItem:()=>import("./p-725fd184.js"),PortalUser:()=>Promise.resolve().then((function(){return gu}))};let ju=Su=class extends(nt(nu)){constructor(t){super(t),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return"string"==typeof t?{url:t}:t}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)-1===z.request.trustedServers.indexOf(e)&&z.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){return this.id&&this.user&&this.user.orgId&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.substring(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get stylesGroupQuery(){return q(u.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t?t.toLowerCase():t}readUser(t){let e=null;return t&&(e=wu.fromJSON(t),e.portal=this),e}load(t){const e=import("./p-a198d6d0.js").then((function(t){return t.B})).then((({default:e})=>{B(t),Mu=e})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,t))).then((t=>{if(X){const t=X;this.credential=t.findCredential(this.restUrl),this.credential||this.authMode!==Su.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=t.on("credential-create",(()=>{t.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=t,this.read(t)}));return this.addResolvingPromise(e),Promise.resolve(this)}async createClosestFacilityTask(){W(u.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("closestFacility");return new((await import("./p-f9c7ccc5.js")).default)(t)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await import("./p-a8b72c91.js")).default;return t?t.map((t=>new e({id:t.id,url:t.url}))):[]}async createGeometryService(){W(u.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("geometry");return new((await import("./p-c1e1a26a.js")).default)({url:t})}async createPrintTask(){W(u.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("printTask");return new((await import("./p-978276c9.js")).default)(t)}async createRouteTask(){W(u.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("route");return new((await import("./p-aee8e252.js")).default)(t)}async createServiceAreaTask(){W(u.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const t=this._getHelperServiceUrl("serviceArea");return new((await import("./p-8a67edae.js")).default)(t)}fetchBasemaps(t,e){const r=new uu;return r.query=t||(z.apiKey&&H(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,e).then((t=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',t.total){const i=t.results[0];return r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc",i.queryItems(r,e)}return null})).then((t=>{let e;return e=t&&t.total?t.results.filter((t=>"Web Map"===t.type)).map((t=>new Mu({portalItem:t}))):[],e}))}fetchCategorySchema(t){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",t).then((t=>t.categorySchema)):J(t)?Promise.reject(V()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,r=new uu;if(r.num=100,r.sortField="title",e&&e.length){const i=[];for(const t of e)i.push(`(title:"${t.title}" AND owner:${t.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,t).then((t=>t.results))}return J(t)?Promise.reject(V()):Promise.resolve([])}fetchRegions(t){const e=this.user&&this.user.culture||this.culture||Q();return this._request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}static getDefault(){return Su._default&&!Su._default.destroyed||(Su._default=new Su),Su._default}queryGroups(t,e){return this._queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this._queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this._queryPortal("/community/users",t,"PortalUser",e)}toJSON(){throw new v("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Su({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t];if(!e)throw new v("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}_getHelperServiceUrl(t){const e=this._getHelperService(t);if(!e.url)throw new v("portal:service-url-not-found",`The \`helperServices\` entry "${t}" does not include a \`url\` value`);return e.url}_fetchSelf(t=this.authMode,e=!1,r){const i=this.restUrl+"/portals/self",s={authMode:t,query:{culture:Q().toLowerCase()},...r};return"auto"===s.authMode&&(s.authMode="no-prompt"),e&&(s.query.default=!0),this._request(i,s)}_queryPortal(t,e,r,i){const s=$(uu,e),n=e=>this._request(this.restUrl+t,{...s.toRequestOptions(this),...i}).then((t=>{const r=s.clone();return r.start=t.nextStart,new cu({nextQueryParams:r,queryParams:s,total:t.total,results:Su._resultsToTypedArray(e,{portal:this},t,i)})})).then((t=>Promise.all(t.results.map((e=>"function"==typeof e.when?e.when():t))).then((()=>t),(e=>(Y(e),t)))));return r&&xu[r]?xu[r]().then((({default:t})=>(B(i),n(t)))):n()}_signIn(){if(this.authMode===Su.AUTH_MODE_ANONYMOUS)return Promise.reject(new v("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const t=t=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(t||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate")))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate")))).then((t=>{t&&(this.sourceJSON=t,this.read(t))}));return X?X.getCredential(this.restUrl).then((e=>t(e))):t(this.credential)}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(t){const e=this.credential&&this.credential.token;return this._normalizeSSL(e?t+(t.indexOf("?")>-1?"&":"?")+"token="+e:t)}_requestToTypedArray(t,e,r){return this._request(t,e).then((t=>{const e=Su._resultsToTypedArray(r,{portal:this},t);return Promise.all(e.map((e=>"function"==typeof e.when?e.when():t))).then((()=>e),(()=>e))}))}_readBasemap(t){if(t){const e=Mu.fromJSON(t);return e.portalItem={portal:this},e}return null}_request(t,e={}){const r={f:"json",...e.query},{authMode:i=(this.authMode===Su.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:s=null,cacheBust:n=!1,method:o="auto",responseType:l="json",signal:a}=e,u={authMode:i,body:s,cacheBust:n,method:o,query:r,responseType:l,timeout:0,signal:a};return Z(this._normalizeSSL(t),u).then((t=>t.data))}static _resultsToTypedArray(t,e,r,s){let n;if(r){const o=i(s)?s.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(t||e)&&(n=n.map((r=>{const i=Object.assign(t?t.fromJSON(r):r,e);return"function"==typeof i.load&&i.load(o),i})))}else n=[];return n}};ju.AUTH_MODE_ANONYMOUS="anonymous",ju.AUTH_MODE_AUTO="auto",ju.AUTH_MODE_IMMEDIATE="immediate",s([n()],ju.prototype,"access",void 0),s([n()],ju.prototype,"allSSL",void 0),s([n()],ju.prototype,"authMode",void 0),s([n()],ju.prototype,"authorizedCrossOriginDomains",void 0),s([ot("authorizedCrossOriginDomains")],ju.prototype,"readAuthorizedCrossOriginDomains",null),s([n()],ju.prototype,"basemapGalleryGroupQuery",void 0),s([n()],ju.prototype,"bingKey",void 0),s([n()],ju.prototype,"canListApps",void 0),s([n()],ju.prototype,"canListData",void 0),s([n()],ju.prototype,"canListPreProvisionedItems",void 0),s([n()],ju.prototype,"canProvisionDirectPurchase",void 0),s([n()],ju.prototype,"canSearchPublic",void 0),s([n()],ju.prototype,"canShareBingPublic",void 0),s([n()],ju.prototype,"canSharePublic",void 0),s([n()],ju.prototype,"canSignInArcGIS",void 0),s([n()],ju.prototype,"canSignInIDP",void 0),s([n()],ju.prototype,"colorSetsGroupQuery",void 0),s([n()],ju.prototype,"commentsEnabled",void 0),s([n({type:Date})],ju.prototype,"created",void 0),s([n()],ju.prototype,"credential",void 0),s([n()],ju.prototype,"culture",void 0),s([n()],ju.prototype,"currentVersion",void 0),s([n()],ju.prototype,"customBaseUrl",void 0),s([n()],ju.prototype,"defaultBasemap",void 0),s([ot("defaultBasemap")],ju.prototype,"readDefaultBasemap",null),s([n()],ju.prototype,"defaultDevBasemap",void 0),s([ot("defaultDevBasemap")],ju.prototype,"readDefaultDevBasemap",null),s([n({type:Ie})],ju.prototype,"defaultExtent",void 0),s([n()],ju.prototype,"defaultVectorBasemap",void 0),s([ot("defaultVectorBasemap")],ju.prototype,"readDefaultVectorBasemap",null),s([n()],ju.prototype,"description",void 0),s([n()],ju.prototype,"devBasemapGalleryGroupQuery",void 0),s([n()],ju.prototype,"eueiEnabled",void 0),s([n({readOnly:!0})],ju.prototype,"extraQuery",null),s([n()],ju.prototype,"featuredGroups",void 0),s([n()],ju.prototype,"featuredItemsGroupQuery",void 0),s([n()],ju.prototype,"galleryTemplatesGroupQuery",void 0),s([n()],ju.prototype,"livingAtlasGroupQuery",void 0),s([n()],ju.prototype,"hasCategorySchema",void 0),s([n()],ju.prototype,"helpBase",void 0),s([n()],ju.prototype,"helperServices",void 0),s([n()],ju.prototype,"helpMap",void 0),s([n()],ju.prototype,"homePageFeaturedContent",void 0),s([n()],ju.prototype,"homePageFeaturedContentCount",void 0),s([n()],ju.prototype,"httpPort",void 0),s([n()],ju.prototype,"httpsPort",void 0),s([n()],ju.prototype,"id",void 0),s([n()],ju.prototype,"ipCntryCode",void 0),s([n({readOnly:!0})],ju.prototype,"isOrganization",null),s([n()],ju.prototype,"isPortal",void 0),s([n()],ju.prototype,"isReadOnly",void 0),s([n()],ju.prototype,"layerTemplatesGroupQuery",void 0),s([n()],ju.prototype,"maxTokenExpirationMinutes",void 0),s([n({type:Date})],ju.prototype,"modified",void 0),s([n()],ju.prototype,"name",void 0),s([n()],ju.prototype,"portalHostname",void 0),s([n()],ju.prototype,"portalMode",void 0),s([n()],ju.prototype,"portalProperties",void 0),s([n()],ju.prototype,"region",void 0),s([n({readOnly:!0})],ju.prototype,"restUrl",null),s([n()],ju.prototype,"rotatorPanels",void 0),s([n()],ju.prototype,"showHomePageDescription",void 0),s([n()],ju.prototype,"sourceJSON",void 0),s([n()],ju.prototype,"staticImagesUrl",void 0),s([n({readOnly:!0,json:{read:!1}})],ju.prototype,"stylesGroupQuery",null),s([n({json:{name:"2DStylesGroupQuery"}})],ju.prototype,"stylesGroupQuery2d",void 0),s([n({json:{name:"stylesGroupQuery"}})],ju.prototype,"stylesGroupQuery3d",void 0),s([n()],ju.prototype,"supportsHostedServices",void 0),s([n()],ju.prototype,"symbolSetsGroupQuery",void 0),s([n()],ju.prototype,"templatesGroupQuery",void 0),s([n()],ju.prototype,"thumbnail",void 0),s([n({readOnly:!0})],ju.prototype,"thumbnailUrl",null),s([n()],ju.prototype,"units",void 0),s([n()],ju.prototype,"url",void 0),s([n()],ju.prototype,"urlKey",void 0),s([ot("urlKey")],ju.prototype,"readUrlKey",null),s([n()],ju.prototype,"user",void 0),s([ot("user")],ju.prototype,"readUser",null),s([n()],ju.prototype,"useStandardizedQuery",void 0),s([n()],ju.prototype,"useVectorBasemaps",void 0),s([n()],ju.prototype,"vectorBasemapGalleryGroupQuery",void 0),ju=Su=s([l("esri.portal.Portal")],ju);const Ou=ju;var Pu;let _u=Pu=class extends Zo{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=tl(1),this.pattern=null}clone(){const t={enabled:this.enabled,material:i(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:i(this.pattern)?this.pattern.clone():null};return new Pu(t)}static fromSimpleLineSymbol(t){const e={enabled:!0,size:t.width||1,cap:t.cap||"butt",join:t.join||"miter",pattern:t.style&&"inside-frame"!==t.style?new Gl({style:t.style}):null,material:new vl({color:(t.color||Hl).clone()})};return new Pu(e)}};s([n({type:vl,json:{write:!0}})],_u.prototype,"material",void 0),s([Gi({Line:"line"},{readOnly:!0})],_u.prototype,"type",void 0),s([n({type:va,json:{write:!0,default:"miter"}})],_u.prototype,"join",void 0),s([n({type:pa,json:{write:!0,default:"butt"}})],_u.prototype,"cap",void 0),s([n(ll)],_u.prototype,"size",void 0),s([n(Wl)],_u.prototype,"pattern",void 0),_u=Pu=s([l("esri.symbols.LineSymbol3DLayer")],_u);const Nu=_u;var Iu;const Du=f()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let ku=Iu=class extends st{clone(){return new Iu({href:this.href,primitive:this.primitive})}};s([n({type:String,json:{read:Ia,write:Da}})],ku.prototype,"href",void 0),s([Gi(Du)],ku.prototype,"primitive",void 0),ku=Iu=s([l("esri.symbols.support.ObjectSymbol3DLayerResource")],ku);const Au="sphere",Cu=ku;var Ru;let Tu=Ru=class extends x{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Ru({x:this.x,y:this.y,z:this.z})}};var Lu;s([n({type:Number})],Tu.prototype,"x",void 0),s([n({type:Number})],Tu.prototype,"y",void 0),s([n({type:Number})],Tu.prototype,"z",void 0),Tu=Ru=s([l("esri.symbols.support.Symbol3DAnchorPosition3D")],Tu);let Fu=Lu=class extends Zo{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Lu({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:i(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};s([n({type:bl,json:{write:!0}})],Fu.prototype,"material",void 0),s([n({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Fu.prototype,"castShadows",void 0),s([n({type:Cu,json:{write:!0}})],Fu.prototype,"resource",void 0),s([Gi({Object:"object"},{readOnly:!0})],Fu.prototype,"type",void 0),s([n({type:Number,json:{write:!0}})],Fu.prototype,"width",void 0),s([n({type:Number,json:{write:!0}})],Fu.prototype,"height",void 0),s([n({type:Number,json:{write:!0}})],Fu.prototype,"depth",void 0),s([Gi({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),n({json:{default:"origin"}})],Fu.prototype,"anchor",void 0),s([n({type:Tu,json:{type:[Number],read:{reader:t=>new Tu({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],Fu.prototype,"anchorPosition",void 0),s([n({type:Number,json:{write:!0}})],Fu.prototype,"heading",void 0),s([n({type:Number,json:{write:!0}})],Fu.prototype,"tilt",void 0),s([n({type:Number,json:{write:!0}})],Fu.prototype,"roll",void 0),s([n({readOnly:!0})],Fu.prototype,"isPrimitive",null),Fu=Lu=s([l("esri.symbols.ObjectSymbol3DLayer")],Fu);const Gu=Fu;var Eu;let Uu=Eu=class extends Zo{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return null!=t?t:null==e.height&&null!=e.size?e.size:void 0}readHeight(t,e){return null!=t?t:null==e.width&&null!=e.size?e.size:void 0}clone(){return new Eu({enabled:this.enabled,material:i(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};s([n({type:bl,json:{write:!0}})],Uu.prototype,"material",void 0),s([n({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Uu.prototype,"castShadows",void 0),s([Gi({Path:"path"},{readOnly:!0})],Uu.prototype,"type",void 0),s([n({type:["circle","quad"],json:{write:!0,default:"circle"}})],Uu.prototype,"profile",void 0),s([n({type:va,json:{write:!0,default:"miter"}})],Uu.prototype,"join",void 0),s([n({type:ma,json:{write:!0,default:"butt"}})],Uu.prototype,"cap",void 0),s([n({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Uu.prototype,"width",void 0),s([ot("width",["width","size","height"])],Uu.prototype,"readWidth",null),s([n({type:Number,json:{write:!0}})],Uu.prototype,"height",void 0),s([ot("height",["height","size","width"])],Uu.prototype,"readHeight",null),s([n({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Uu.prototype,"anchor",void 0),s([n({type:["heading","all"],json:{write:!0,default:"all"}})],Uu.prototype,"profileRotation",void 0),Uu=Eu=s([l("esri.symbols.PathSymbol3DLayer")],Uu);const $u=Uu;var zu;let qu=zu=class extends st{constructor(){super(...arguments),this.color=new zo([0,0,0,1]),this.size=0}clone(){return new zu({color:a(this.color),size:this.size})}};s([n(ol)],qu.prototype,"color",void 0),s([n(ll)],qu.prototype,"size",void 0),qu=zu=s([l("esri.symbols.support.Symbol3DHalo")],qu);const Bu=qu;var Wu;let Hu=Wu=class extends Zo{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.material=null,this.text=void 0,this.type="text"}get font(){return this._get("font")||null}set font(t){t&&this._userSize&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,r,i){const s={...i,textSymbol3D:!0};e.font=t.write({},s),delete e.font.size}get size(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9}set size(t){this._userSize=t,this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){return new Wu({enabled:this.enabled,font:this.font&&a(this.font),halo:this.halo&&a(this.halo),material:i(this.material)?this.material.clone():null,size:this.size,text:this.text})}static fromTextSymbol(t){const e=function(t,e){return t&&e>0?{color:a(t),size:e}:null}(t.haloColor,t.haloSize),r=t.font?t.font.clone():new Pa;return new Wu({size:r.size,font:r,halo:e,material:t.color?{color:t.color.clone()}:null,text:t.text})}};s([n({type:Pa,json:{write:!0}})],Hu.prototype,"font",null),s([lt("font")],Hu.prototype,"writeFont",null),s([n({type:Bu,json:{write:!0}})],Hu.prototype,"halo",void 0),s([n({type:bl,json:{write:!0}})],Hu.prototype,"material",void 0),s([n(ll),n()],Hu.prototype,"size",null),s([n({type:String,json:{write:!0}})],Hu.prototype,"text",void 0),s([Gi({Text:"text"},{readOnly:!0})],Hu.prototype,"type",void 0),Hu=Wu=s([l("esri.symbols.TextSymbol3DLayer")],Hu);const Ju=Hu;var Vu;let Qu=Vu=class extends Zo{constructor(t){super(t),this.color=Yu.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Vu({color:a(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};s([n({type:zo,nonNullable:!0,json:{type:[o],write:(t,e,r)=>e[r]=t.toArray(1),default:()=>Yu.clone(),defaultEquals:t=>t.toCss(!0)===Yu.toCss(!0)}})],Qu.prototype,"color",void 0),s([Gi({Water:"water"},{readOnly:!0})],Qu.prototype,"type",void 0),s([n({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Qu.prototype,"waterbodySize",void 0),s([n({type:Number,json:{write:!0,default:null}})],Qu.prototype,"waveDirection",void 0),s([n({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Qu.prototype,"waveStrength",void 0),Qu=Vu=s([l("esri.symbols.WaterSymbol3DLayer")],Qu);const Yu=new zo([0,119,190]),Zu=Qu;var Xu;let Ku=Xu=class extends x{constructor(){super(...arguments),this.portal=null}clone(){return new Xu({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};s([n({type:String})],Ku.prototype,"name",void 0),s([n({type:String})],Ku.prototype,"styleUrl",void 0),s([n({type:String})],Ku.prototype,"styleName",void 0),s([n({type:Ou})],Ku.prototype,"portal",void 0),Ku=Xu=s([l("esri.symbols.support.StyleOrigin")],Ku);const th=Ku;var eh;let rh=eh=class extends x{clone(){return new eh({url:this.url})}};s([n({type:String})],rh.prototype,"url",void 0),rh=eh=s([l("esri.symbols.support.Thumbnail")],rh);const ih=rh,sh={icon:tu,object:Gu,line:Nu,path:$u,fill:xa,extrude:Sl,text:Ju,water:Zu},nh=j.ofType({base:Zo,key:"type",typeMap:sh,errorContext:"symbol-layer"}),oh=u.getLogger("esri.symbols.Symbol3D");let lh=class extends Ho{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers;this._set("symbolLayers",new(e&&e.type||j))}get color(){return null}set color(t){oh.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){eu(t,this._get("symbolLayers"))}readStyleOrigin(t,e,r){if(t.styleUrl&&t.name){const e=_a(t.styleUrl,r);return new th({styleUrl:e,name:t.name})}if(t.styleName&&t.name)return new th({portal:r&&r.portal||Ou.getDefault(),styleName:t.styleName,name:t.name});r&&r.messages&&r.messages.push(new F("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,e,r,i){if(t.styleUrl&&t.name){let r=Na(t.styleUrl,i);D(r)&&(r=A(r)),e.styleOrigin={styleUrl:r,name:t.name}}else t.styleName&&t.name&&(t.portal&&i&&i.portal&&!K(t.portal.restUrl,i.portal.restUrl)?i&&i.messages&&i.messages.push(new F("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Zo||t&&sh[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};s([n({json:{read:!1,write:!1}})],lh.prototype,"color",null),s([n({type:nh,nonNullable:!0,json:{write:!0}}),h(ru)],lh.prototype,"symbolLayers",null),s([n({type:th})],lh.prototype,"styleOrigin",void 0),s([ot("styleOrigin")],lh.prototype,"readStyleOrigin",null),s([lt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],lh.prototype,"writeStyleOrigin",null),s([n({type:ih,json:{read:!1}})],lh.prototype,"thumbnail",void 0),s([n({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],lh.prototype,"type",void 0),lh=s([l("esri.symbols.Symbol3D")],lh);const ah=lh;let uh=class extends st{constructor(t){super(t),this.visible=!0}clone(){}};s([n({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],uh.prototype,"type",void 0),s([n({readOnly:!0})],uh.prototype,"visible",void 0),uh=s([l("esri.symbols.callouts.Callout3D")],uh);const hh=uh;var ch;let dh=ch=class extends st{constructor(){super(...arguments),this.color=new zo("white")}clone(){return new ch({color:a(this.color)})}};s([n(ol)],dh.prototype,"color",void 0),dh=ch=s([l("esri.symbols.callouts.LineCallout3DBorder")],dh);const fh=dh;var yh;Object.freeze({__proto__:null,get LineCallout3DBorder(){return dh},default:fh});let ph=yh=class extends hh{constructor(t){super(t),this.type="line",this.color=new zo([0,0,0,1]),this.size=tl(1),this.border=null}get visible(){return this.size>0&&i(this.color)&&this.color.a>0}clone(){return new yh({color:a(this.color),size:this.size,border:a(this.border)})}};function mh(t){if(!t)return!1;const e=t.verticalOffset;return!!e&&!(e.screenLength<=0||e.maxWorldLength<=0)}function vh(t){if(!t)return!1;if(!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!e&&!!e.visible&&!!mh(t)}s([Gi({line:"line"},{readOnly:!0})],ph.prototype,"type",void 0),s([n(ol)],ph.prototype,"color",void 0),s([n(ll)],ph.prototype,"size",void 0),s([n({type:fh,json:{write:!0}})],ph.prototype,"border",void 0),s([n({readOnly:!0})],ph.prototype,"visible",null),ph=yh=s([l("esri.symbols.callouts.LineCallout3D")],ph);const bh={types:{key:"type",base:hh,typeMap:{line:ph}},json:{write:!0}};var wh;let gh=wh=class extends st{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new wh({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};s([n(ll)],gh.prototype,"screenLength",void 0),s([n({type:Number,json:{write:!0,default:0}})],gh.prototype,"minWorldLength",void 0),s([n({type:Number,json:{write:!0}})],gh.prototype,"maxWorldLength",void 0),gh=wh=s([l("esri.symbols.support.Symbol3DVerticalOffset")],gh);const Sh=gh;var Mh;const xh=j.ofType({base:null,key:"type",typeMap:{text:Ju}});let jh=Mh=class extends ah{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new xh,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return vh(this)}hasVisibleVerticalOffset(){return mh(this)}clone(){return new Mh({styleOrigin:a(this.styleOrigin),symbolLayers:a(this.symbolLayers),thumbnail:a(this.thumbnail),callout:a(this.callout),verticalOffset:a(this.verticalOffset)})}static fromTextSymbol(t){return new Mh({symbolLayers:[Ju.fromTextSymbol(t)]})}};s([n({type:Sh,json:{write:!0}})],jh.prototype,"verticalOffset",void 0),s([n(bh)],jh.prototype,"callout",void 0),s([n({json:{read:!1,write:!1}})],jh.prototype,"styleOrigin",void 0),s([n({type:xh})],jh.prototype,"symbolLayers",void 0),s([Gi({LabelSymbol3D:"label-3d"},{readOnly:!0})],jh.prototype,"type",void 0),jh=Mh=s([l("esri.symbols.LabelSymbol3D")],jh);const Oh=jh;var Ph;const _h=j.ofType({base:null,key:"type",typeMap:{line:Nu,path:$u}}),Nh=j.ofType({base:null,key:"type",typeMap:{line:Nu,path:$u}});let Ih=Ph=class extends ah{constructor(t){super(t),this.symbolLayers=new _h,this.type="line-3d"}clone(){return new Ph({styleOrigin:a(this.styleOrigin),symbolLayers:a(this.symbolLayers),thumbnail:a(this.thumbnail)})}static fromSimpleLineSymbol(t){return new Ph({symbolLayers:[Nu.fromSimpleLineSymbol(t)]})}};s([n({type:_h,json:{type:Nh}})],Ih.prototype,"symbolLayers",void 0),s([Gi({LineSymbol3D:"line-3d"},{readOnly:!0})],Ih.prototype,"type",void 0),Ih=Ph=s([l("esri.symbols.LineSymbol3D")],Ih);const Dh=Ih;let kh=class extends Ho{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};s([n({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],kh.prototype,"angle",void 0),s([n({type:["simple-marker","picture-marker"],readOnly:!0})],kh.prototype,"type",void 0),s([n({type:Number,cast:el,json:{write:!0}})],kh.prototype,"xoffset",void 0),s([n({type:Number,cast:el,json:{write:!0}})],kh.prototype,"yoffset",void 0),s([n({type:Number,cast:t=>"auto"===t?t:el(t),json:{write:!0}})],kh.prototype,"size",void 0),kh=s([l("esri.symbols.MarkerSymbol")],kh);const Ah=kh;var Ch;const Rh=j.ofType({base:null,key:"type",typeMap:{fill:xa}});let Th=Ch=class extends ah{constructor(t){super(t),this.symbolLayers=new Rh,this.type="mesh-3d"}clone(){return new Ch({styleOrigin:a(this.styleOrigin),symbolLayers:a(this.symbolLayers),thumbnail:a(this.thumbnail)})}};s([n({type:Rh})],Th.prototype,"symbolLayers",void 0),s([Gi({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Th.prototype,"type",void 0),Th=Ch=s([l("esri.symbols.MeshSymbol3D")],Th);const Lh=Th;function Fh(t,e){return function(t){return t&&("service"===t.origin||"portal-item"===t.origin)&&t.layer&&("feature"===t.layer.type||"stream"===t.layer.type)}(e)&&!D(t)&&e.layer.parsedUrl?tt(e.layer.parsedUrl.path,"images",t):_a(t,e)}const Gh={json:{read:{source:["imageData","url"],reader:function(t,e,r){return e.imageData?L({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):Fh(e.url,r)}},write:{writer(t,e,r,i){!function(t,e,r,i){if(C(t)){const s=et(t);e.contentType=s.mediaType,e.imageData=s.data,r&&r.imageData===e.imageData&&r.url&&Da(r.url,e,"url",i)}else Da(t,e,"url",i)}(t,e,this.source,i)}}}},Eh={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,r){const i={};return e.imageData&&(i.imageData=e.imageData),e.contentType&&(i.contentType=e.contentType),e.url&&(i.url=Fh(e.url,r)),i}}}};var Uh;let $h=Uh=class extends Al{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,r,i){if(t&&"string"!=typeof t&&null==t.imageData)return t;const s={};return t&&(s.url=t),e&&(s.outline=e),null!=r&&(s.width=el(r)),null!=i&&(s.height=el(i)),s}clone(){const t=new Uh({color:a(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",a(this.source)),t}hash(){var t;return`${super.hash()}.${null==(t=this.color)?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};s([Gi({esriPFS:"picture-fill"},{readOnly:!0})],$h.prototype,"type",void 0),s([n(Gh)],$h.prototype,"url",void 0),s([n({type:Number,json:{write:!0}})],$h.prototype,"xscale",void 0),s([n({type:Number,json:{write:!0}})],$h.prototype,"yscale",void 0),s([n({type:Number,cast:el,json:{write:!0}})],$h.prototype,"width",void 0),s([n({type:Number,cast:el,json:{write:!0}})],$h.prototype,"height",void 0),s([n({type:Number,cast:el,json:{write:!0}})],$h.prototype,"xoffset",void 0),s([n({type:Number,cast:el,json:{write:!0}})],$h.prototype,"yoffset",void 0),s([n(Eh)],$h.prototype,"source",void 0),$h=Uh=s([l("esri.symbols.PictureFillSymbol")],$h);const zh=$h;var qh;let Bh=qh=class extends Ah{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,r){if(t&&"string"!=typeof t&&null==t.imageData)return t;const i={};return t&&(i.url=t),null!=e&&(i.width=el(e)),null!=r&&(i.height=el(r)),i}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new qh({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",a(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};s([n({json:{write:!1}})],Bh.prototype,"color",void 0),s([Gi({esriPMS:"picture-marker"},{readOnly:!0})],Bh.prototype,"type",void 0),s([n(Gh)],Bh.prototype,"url",void 0),s([n(Eh)],Bh.prototype,"source",void 0),s([n({type:Number,cast:el,json:{write:!0}})],Bh.prototype,"height",void 0),s([ot("height",["height","size"])],Bh.prototype,"readHeight",null),s([n({type:Number,cast:el,json:{write:!0}})],Bh.prototype,"width",void 0),s([n({json:{write:!1}})],Bh.prototype,"size",void 0),Bh=qh=s([l("esri.symbols.PictureMarkerSymbol")],Bh);const Wh=Bh;var Hh;const Jh=j.ofType({base:null,key:"type",typeMap:{icon:tu,object:Gu,text:Ju}}),Vh=j.ofType({base:null,key:"type",typeMap:{icon:tu,object:Gu}});let Qh=Hh=class extends ah{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Jh,this.type="point-3d"}writeSymbolLayers(t,e,r,i){const s=t.filter((t=>"text"!==t.type));if(i&&i.messages&&s.length<t.length){const e=t.find((t=>"text"===t.type));i.messages.push(new v("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:e}))}e[r]=s.map((t=>t.write({},i))).toArray()}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return vh(this)}hasVisibleVerticalOffset(){return mh(this)}clone(){return new Hh({verticalOffset:a(this.verticalOffset),callout:a(this.callout),styleOrigin:a(this.styleOrigin),symbolLayers:a(this.symbolLayers),thumbnail:a(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new Hh({symbolLayers:[tu.fromSimpleMarkerSymbol(t)]})}static fromPictureMarkerSymbol(t){return new Hh({symbolLayers:[tu.fromPictureMarkerSymbol(t)]})}static fromCIMSymbol(t){var e,r;return"CIMPointSymbol"!==(null==(e=t.data)||null==(r=e.symbol)?void 0:r.type)?null:new Hh(t.data.symbol.callout?{symbolLayers:[tu.fromCIMSymbol(t)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[tu.fromCIMSymbol(t)]})}static fromTextSymbol(t){return new Hh({symbolLayers:[Ju.fromTextSymbol(t)]})}};s([n({type:Sh,json:{write:!0}})],Qh.prototype,"verticalOffset",void 0),s([n(bh)],Qh.prototype,"callout",void 0),s([n({type:Jh,json:{type:Vh,origins:{"web-scene":{type:Vh}}}})],Qh.prototype,"symbolLayers",void 0),s([lt("web-scene","symbolLayers")],Qh.prototype,"writeSymbolLayers",null),s([Gi({PointSymbol3D:"point-3d"},{readOnly:!0})],Qh.prototype,"type",void 0),Qh=Hh=s([l("esri.symbols.PointSymbol3D")],Qh);const Yh=Qh;var Zh;const Xh=j.ofType({base:null,key:"type",typeMap:{extrude:Sl,fill:xa,icon:tu,line:Nu,object:Gu,text:Ju,water:Zu}}),Kh=j.ofType({base:null,key:"type",typeMap:{extrude:Sl,fill:xa,icon:tu,line:Nu,object:Gu,water:Zu}});let tc=Zh=class extends ah{constructor(t){super(t),this.symbolLayers=new Xh,this.type="polygon-3d"}writeSymbolLayers(t,e,r,i){const s=t.filter((t=>"text"!==t.type));if(i&&i.messages&&s.length<t.length){const e=t.find((t=>"text"===t.type));i.messages.push(new v("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:e}))}e[r]=s.map((t=>t.write({},i))).toArray()}clone(){return new Zh({styleOrigin:a(this.styleOrigin),symbolLayers:a(this.symbolLayers),thumbnail:a(this.thumbnail)})}static fromJSON(t){const e=new Zh;if(e.read(t),2===e.symbolLayers.length&&"fill"===e.symbolLayers.getItemAt(0).type&&"line"===e.symbolLayers.getItemAt(1).type){const r=e.symbolLayers.getItemAt(0),s=e.symbolLayers.getItemAt(1);!s.enabled||t.symbolLayers&&t.symbolLayers[1]&&!1===t.symbolLayers[1].enable||(r.outline={size:s.size,color:i(s.material)?s.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Zh({symbolLayers:[xa.fromSimpleFillSymbol(t)]})}};s([n({type:Xh,json:{type:Kh}})],tc.prototype,"symbolLayers",void 0),s([lt("web-scene","symbolLayers")],tc.prototype,"writeSymbolLayers",null),s([Gi({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],tc.prototype,"type",void 0),tc=Zh=s([l("esri.symbols.PolygonSymbol3D")],tc);const ec=tc;var rc;const ic=new b({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let sc=rc=class extends Al{constructor(...t){super(...t),this.color=new zo([0,0,0,.25]),this.outline=new Dl,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,r){if(t&&"string"!=typeof t)return t;const i={};return t&&(i.style=t),e&&(i.outline=e),r&&(i.color=r),i}clone(){return new rc({color:a(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};s([n()],sc.prototype,"color",void 0),s([n()],sc.prototype,"outline",void 0),s([Gi({esriSFS:"simple-fill"},{readOnly:!0})],sc.prototype,"type",void 0),s([n({type:ic.apiValues,json:{read:ic.read,write:ic.write}})],sc.prototype,"style",void 0),sc=rc=s([l("esri.symbols.SimpleFillSymbol")],sc);const nc=sc;var oc;const lc=new b({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ac=oc=class extends Ah{constructor(...t){super(...t),this.color=new zo([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Dl}normalizeCtorArgs(t,e,r,i){if(t&&"string"!=typeof t)return t;const s={};return t&&(s.style=t),null!=e&&(s.size=el(e)),r&&(s.outline=r),i&&(s.color=i),s}writeColor(t,e){t&&"x"!==this.style&&"cross"!==this.style&&(e.color=t.toJSON()),null===t&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new oc({angle:this.angle,color:a(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==(t=this.outline)?void 0:t.hash()}`}};s([n()],ac.prototype,"color",void 0),s([lt("color")],ac.prototype,"writeColor",null),s([Gi({esriSMS:"simple-marker"},{readOnly:!0})],ac.prototype,"type",void 0),s([n()],ac.prototype,"size",void 0),s([n({type:lc.apiValues,json:{read:lc.read,write:lc.write}})],ac.prototype,"style",void 0),s([n({type:String,json:{write:!0}})],ac.prototype,"path",null),s([n({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Dl}},json:{default:null,write:!0}})],ac.prototype,"outline",void 0),ac=oc=s([l("esri.symbols.SimpleMarkerSymbol")],ac);const uc=ac;var hc;let cc=hc=class extends Ho{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Pa,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment=null,this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,r){if(t&&"string"!=typeof t)return t;const i={};return t&&(i.text=t),e&&(i.font=e),r&&(i.color=r),i}writeLineWidth(t,e,r,i){i&&"string"!=typeof i||(e[r]=t)}castLineWidth(t){return el(t)}writeLineHeight(t,e,r,i){i&&"string"!=typeof i||(e[r]=t)}clone(){return new hc({angle:this.angle,backgroundColor:a(this.backgroundColor),borderLineColor:a(this.borderLineColor),borderLineSize:this.borderLineSize,color:a(this.color),font:this.font&&this.font.clone(),haloColor:a(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};s([n({type:zo,json:{write:!0}})],cc.prototype,"backgroundColor",void 0),s([n({type:zo,json:{write:!0}})],cc.prototype,"borderLineColor",void 0),s([n({type:Number,json:{write:!0}})],cc.prototype,"borderLineSize",void 0),s([n({type:Pa,json:{write:!0}})],cc.prototype,"font",void 0),s([n({type:["left","right","center","justify"],json:{write:!0}})],cc.prototype,"horizontalAlignment",void 0),s([n({type:Boolean,json:{write:!0}})],cc.prototype,"kerning",void 0),s([n({type:zo,json:{write:!0}})],cc.prototype,"haloColor",void 0),s([n({type:Number,cast:el,json:{write:!0}})],cc.prototype,"haloSize",void 0),s([n({type:Boolean,json:{write:!0}})],cc.prototype,"rightToLeft",void 0),s([n({type:Boolean,json:{write:!0}})],cc.prototype,"rotated",void 0),s([n({type:String,json:{write:!0}})],cc.prototype,"text",void 0),s([Gi({esriTS:"text"},{readOnly:!0})],cc.prototype,"type",void 0),s([n({type:["baseline","top","middle","bottom"],json:{write:!0}})],cc.prototype,"verticalAlignment",void 0),s([n({type:Number,cast:el,json:{write:!0}})],cc.prototype,"xoffset",void 0),s([n({type:Number,cast:el,json:{write:!0}})],cc.prototype,"yoffset",void 0),s([n({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],cc.prototype,"angle",void 0),s([n({type:Number,json:{write:!0}})],cc.prototype,"width",void 0),s([n({type:Number})],cc.prototype,"lineWidth",void 0),s([lt("lineWidth")],cc.prototype,"writeLineWidth",null),s([h("lineWidth")],cc.prototype,"castLineWidth",null),s([n({type:Number})],cc.prototype,"lineHeight",void 0),s([lt("lineHeight")],cc.prototype,"writeLineHeight",null),cc=hc=s([l("esri.symbols.TextSymbol")],cc);const dc=cc;var fc;const yc=u.getLogger("esri.symbols.WebStyleSymbol");let pc=fc=class extends Ho{constructor(t){super(t),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(t,e){this.portal=e?e.portal:void 0,super.read(t,e)}clone(){return new fc({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,e){const r=await import("./p-d926c391.js");B(e);const i=r.resolveWebStyleSymbol(this,{portal:this.portal},t,e);return i.catch((t=>{yc.error("#fetchSymbol()","Failed to create symbol from style",t)})),i}};s([n({json:{write:!1}})],pc.prototype,"color",void 0),s([n({type:String,json:{write:!0}})],pc.prototype,"styleName",void 0),s([n({type:Ou,json:{write:!1}})],pc.prototype,"portal",void 0),s([n({type:String,json:{read:Ia,write:Da}})],pc.prototype,"styleUrl",void 0),s([n({type:ih,json:{read:!1}})],pc.prototype,"thumbnail",void 0),s([n({type:String,json:{write:!0}})],pc.prototype,"name",void 0),s([Gi({styleSymbolReference:"web-style"},{readOnly:!0})],pc.prototype,"type",void 0),pc=fc=s([l("esri.symbols.WebStyleSymbol")],pc);const mc=pc;function vc(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function bc(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const wc={base:Ho,key:"type",typeMap:{"simple-fill":nc,"picture-fill":zh,"picture-marker":Wh,"simple-line":Dl,"simple-marker":uc,text:dc,"label-3d":Oh,"line-3d":Dh,"mesh-3d":Lh,"point-3d":Yh,"polygon-3d":ec,"web-style":mc,cim:Qo},errorContext:"symbol"},gc={base:Ho,key:"type",typeMap:{"picture-marker":Wh,"simple-marker":uc,text:dc,"web-style":mc,cim:Qo},errorContext:"symbol"},Sc=rt({types:wc}),Mc={base:Ho,key:"type",typeMap:{"simple-fill":nc,"picture-fill":zh,"picture-marker":Wh,"simple-line":Dl,"simple-marker":uc,text:dc,"line-3d":Dh,"mesh-3d":Lh,"point-3d":Yh,"polygon-3d":ec,"web-style":mc,cim:Qo},errorContext:"symbol"},xc={base:Ho,key:"type",typeMap:{text:dc,"label-3d":Oh},errorContext:"symbol"},jc={base:Ho,key:"type",typeMap:{"line-3d":Dh,"mesh-3d":Lh,"point-3d":Yh,"polygon-3d":ec,"web-style":mc,cim:Qo},errorContext:"symbol"},Oc={base:Ho,key:"type",typeMap:{"label-3d":Oh},errorContext:"symbol"},Pc=y(wc);var _c;let Nc=_c=class extends st{constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:it(),configurable:!0})}normalizeCtorArgs(t,e,r,i){return t&&!t.declaredClass?t:{geometry:t,symbol:e,attributes:r,popupTemplate:i}}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),this._notifyLayer("geometry",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const e of[this.sourceLayer,this.layer])if(e){if("popupTemplate"in e&&e.popupTemplate)return e.popupTemplate;if(t&&"defaultPopupTemplate"in e&&i(e.defaultPopupTemplate))return e.defaultPopupTemplate}return null}getAttribute(t){return this.attributes&&this.attributes[t]}setAttribute(t,e){if(this.attributes){const r=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",r,e,t)}else this.attributes={[t]:e},this._notifyLayer("attributes",void 0,e,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:i(this.geometry)?this.geometry.toJSON():null,symbol:i(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new _c(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:a(this.attributes),geometry:a(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:a(this.symbol),visible:this.visible}}_notifyLayer(t,e,r,i){if(!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:t,oldValue:e,newValue:r};"attributes"===t&&(s.attributeName=i),this.layer.graphicChanged(s)}};s([n({value:null})],Nc.prototype,"attributes",null),s([n({value:null,types:Nr,json:{read:jr}})],Nc.prototype,"geometry",null),s([n({type:Boolean})],Nc.prototype,"isAggregate",void 0),s([n()],Nc.prototype,"layer",void 0),s([n({type:hn})],Nc.prototype,"popupTemplate",void 0),s([n()],Nc.prototype,"sourceLayer",void 0),s([n({value:null,types:wc})],Nc.prototype,"symbol",null),s([n({type:Boolean,value:!0})],Nc.prototype,"visible",null),Nc=_c=s([l("esri.Graphic")],Nc),(Nc||(Nc={})).generateUID=it;const Ic=Nc;function Dc(t){return new kt({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${t.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const kc=Dc(Tt),Ac=Dc(Lt),Cc=Dc(Ft),Rc=new kt({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${Tt.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function Tc(t){return t&&t===Lt?Ac:t&&t===Ft?Cc:kc}function Lc(t){return t&&(jt(t)||t===Ac)?Ac:t&&(Pt(t)||t===Cc)?Cc:kc}function Fc(t){return t&&(jt(t)||t===Ac)?Lt:t&&(Pt(t)||t===Cc)?Ft:Tt}function Gc(t){return xt(t)?Lt:Ot(t)?Ft:Tt}const Ec=39.37,Uc=Tt.radius*Math.PI/200,$c=/UNIT\[([^\]]+)\]\]$/i,zc=ut,qc=/UNIT\[([^\]]+)\]/i,Bc=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Wc=f()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Hc=t=>t*t,Jc=t=>t*t*t,Vc={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Hc(.001)},"square-centimeters":{inBaseUnits:Hc(.01)},"square-decimeters":{inBaseUnits:Hc(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Hc(1e3)},"square-inches":{inBaseUnits:Hc(.0254)},"square-feet":{inBaseUnits:Hc(.3048)},"square-yards":{inBaseUnits:Hc(.9144)},"square-miles":{inBaseUnits:Hc(1609.344)},"square-us-feet":{inBaseUnits:Hc(1200/3937)},acres:{inBaseUnits:.0015625*Hc(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Jc(.001)},"cubic-centimeters":{inBaseUnits:1e3*Jc(.01)},"cubic-decimeters":{inBaseUnits:1e3*Jc(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Jc(1e3)},"cubic-inches":{inBaseUnits:1e3*Jc(.0254)},"cubic-feet":{inBaseUnits:1e3*Jc(.3048)},"cubic-yards":{inBaseUnits:1e3*Jc(.9144)},"cubic-miles":{inBaseUnits:1e3*Jc(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Qc=function(){const t={};for(const e in Vc)for(const r in Vc[e].units)t[r]=e;return t}();function Yc(t){const e=Qc[t];if(e)return e;throw new Error("unknown measure")}function Zc(t,e=null){return e=e||Yc(t),Vc[e].baseUnit===t}function Xc(t,e,r){if(e===r)return t;const i=Yc(e);if(i!==Yc(r))throw new Error("incompatible units");const s=Zc(e,i)?t:function(t,e,r){return t*Vc[r].units[e].inBaseUnits}(t,e,i);return Zc(r,i)?s:function(t,e,r){return t/Vc[r].units[e].inBaseUnits}(s,r,i)}function Kc(t,e,r){return Xc(t,e,"meters")/(r*Math.PI/180)}function td(t){return Wc.fromJSON(t.toLowerCase())||null}function ed(t){if(t&&"object"==typeof t&&!function(t){return!(jt(t)||Pt(t))}(t))return 1;const e=id(t);return e>1e5?1:e}function rd(t){return id(t)>=(t instanceof kt?Fc(t).metersPerDegree:1e5)?"meters":ld(t)}function id(t,e=Tt.metersPerDegree){return sd(t,!0)||e}function sd(t,e=!1){let r,i,s=null;if(null!=t&&("object"==typeof t?(r=t.wkid,i=t.wkt):"number"==typeof t?r=t:"string"==typeof t&&(i=t)),r){if(xt(r))return Lt.metersPerDegree;if(Ot(r))return Ft.metersPerDegree;s=zc.values[zc[r]],!s&&e&&Bc.has(r)&&(s=Uc)}else i&&(ud(i)?s=nd($c.exec(i),s):ad(i)&&(s=nd(qc.exec(i),s)));return s}function nd(t,e){return t&&t[1]?od(t[1]):e}function od(t){return parseFloat(t.split(",")[1])}function ld(t){let e,r,s=null;if(null!=t&&("object"==typeof t?(e=t.wkid,r=t.wkt):"number"==typeof t?e=t:"string"==typeof t&&(r=t)),e)s=zc.units[zc[e]];else if(r){const t=ud(r)?$c:ad(r)?qc:null;if(t){const e=t.exec(r);e&&e[1]&&(s=function(t){const e=/[\\"\\']{1}([^\\"\\']+)/.exec(t);let r=e&&e[1];if(!r||-1===zc.units.indexOf(r)){const e=od(t);r=null;const i=zc.values;for(let t=0;t<i.length;++t)if(Math.abs(e-i[t])<1e-7){r=zc.units[t];break}}return r}(e[1]))}}return i(s)?td(s):null}function ad(t){return/^GEOCCS/i.test(t)}function ud(t){return/^PROJCS/i.test(t)}const hd={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},cd={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},dd=f()(hd),fd=f()(cd);f()({...hd,...cd});export{Co as $,nl as A,pi as B,sl as C,zo as D,ee as E,No as F,Nr as G,mi as H,jr as I,zi as J,vi as K,ii as L,Ie as M,Ii as N,ri as O,Cr as P,Rs as Q,Vt as R,Wi as S,Ki as T,Ds as U,Xs as V,Qs as W,en as X,nc as Y,bi as Z,rl as _,Dr as a,Cn as a$,Bt as a0,Wt as a1,mt as a2,Tt as a3,Ln as a4,Fn as a5,_t as a6,id as a7,Ct as a8,vt as a9,Oc as aA,vr as aB,xr as aC,Vi as aD,Ri as aE,Yr as aF,_r as aG,Or as aH,uu as aI,ed as aJ,tl as aK,fn as aL,yn as aM,vn as aN,dn as aO,mn as aP,ni as aQ,bc as aR,Yh as aS,Dh as aT,Wh as aU,Oh as aV,ah as aW,Sc as aX,bt as aY,ru as aZ,An as a_,Le as aa,ie as ab,ae as ac,Wn as ad,jc as ae,Ho as af,ec as ag,Pc as ah,Vr as ai,Hr as aj,_a as ak,Na as al,mc as am,Lr as an,Qo as ao,Dl as ap,el as aq,td as ar,rd as as,gc as at,wu as au,Da as av,Br as aw,uc as ax,dc as ay,xc as az,Ir as b,Ro as b$,Xc as b0,Kc as b1,mr as b2,Re as b3,kc as b4,wt as b5,St as b6,Mt as b7,Rc as b8,Ac as b9,Ye as bA,Se as bB,Ue as bC,Ee as bD,Do as bE,Ht as bF,Jt as bG,Tr as bH,Fr as bI,Ge as bJ,je as bK,Nt as bL,na as bM,ia as bN,aa as bO,Xl as bP,Yl as bQ,lr as bR,ld as bS,de as bT,Oe as bU,se as bV,$n as bW,Qn as bX,En as bY,Yn as bZ,Zn as b_,Cc as ba,jt as bb,Pt as bc,bn as bd,Ft as be,Lt as bf,Ao as bg,To as bh,Ko as bi,vc as bj,bl as bk,Nn as bl,Sr as bm,Mr as bn,gr as bo,Au as bp,Ea as bq,ih as br,th as bs,Ec as bt,Io as bu,gn as bv,Un as bw,Gn as bx,il as by,wr as bz,Mi as c,sa as c$,no as c0,zn as c1,Hn as c2,_o as c3,uo as c4,Kn as c5,so as c6,Tc as c7,wn as c8,Fc as c9,Wr as cA,la as cB,Ze as cC,qa as cD,ta as cE,ha as cF,ya as cG,_n as cH,pl as cI,Ia as cJ,Ca as cK,Ta as cL,Vn as cM,Xn as cN,xo as cO,oo as cP,Mn as cQ,Go as cR,ut as cS,Gc as cT,Rr as cU,Jn as cV,ko as cW,ea as cX,ra as cY,Kl as cZ,Sn as c_,Lc as ca,gt as cb,to as cc,Ut as cd,sd as ce,ao as cf,ho as cg,po as ch,So as ci,Mo as cj,bo as ck,wo as cl,go as cm,jo as cn,Oo as co,lo as cp,gi as cq,Ni as cr,Lo as cs,eo as ct,Jr as cu,si as cv,Xr as cw,ti as cx,Kr as cy,ei as cz,lt as d,Bn as d0,wi as e,Gi as f,Ws as g,Ic as h,Si as i,Ou as j,kt as k,Qt as l,nu as m,Us as n,ot as o,dd as p,fd as q,kr as r,Ur as s,br as t,zr as u,fr as v,wc as w,hn as x,Mc as y,eu as z}