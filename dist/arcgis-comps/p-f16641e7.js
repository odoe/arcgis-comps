import{p as n}from"./p-2f398ed1.js";import{d as t,m as r,a as o,o as f,l as u,s as e,j as s,p as c,b as i}from"./p-e6fe5d89.js";import{n as a,r as p}from"./p-746a9d8f.js";function m(n,t){return n[0]*t[1]-n[1]*t[0]}function d(n,r,o){return Math.abs((r[0]-n[0])*(o[1]-n[1])-(r[1]-n[1])*(o[0]-n[0]))/t(r,o)}function j(n,t,r,o,i=r){return f(q,o,r),f(w,t,i),function(n,t,r){const o=s(r,w)/c(r);u(n,r,o)}(y,0,q),e(n,i,y)}function h(n,t,u,e){f(q,e,u),f(w,t,u);const i=s(q,w)/c(q);return i>0?r(n,u,q,i):o(n,u)}function l(n,t,o,u){f(q,t,o);const e=u/i(q);return r(n,o,q,e)}function M(t,r){return j(w,r,t.start,t.end),n(w[0],r[0])&&n(w[1],r[1])?[p(r)]:[]}function b(t,r,o){return l(w,o,t,r),n(w[0],o[0])&&n(w[1],o[1])?[p(o)]:[]}function x(n,t){const o=n.start,u=t.start,e=t.end,s=f(q,n.end,o),c=f(v,e,u),i=m(s,c);if(Math.abs(i)<=k)return[];const a=f(w,o,u),p=m(c,a)/i,d=m(s,a)/i;if(p>=0){if(d>=0||1===t.type)return[r(y,o,s,p)]}else if(1===n.type&&(d>=0||1===t.type))return[r(y,o,s,p)];return[]}function g(n,t,o){const u=[],e=f(q,n.end,n.start),i=f(v,n.start,t),a=c(e),p=2*s(e,i),m=p*p-4*a*(c(i)-o*o);if(0===m){const t=-p/(2*a);(1===n.type||t>=0)&&u.push(r(y,n.start,e,t))}else if(m>0){const t=Math.sqrt(m),o=(-p+t)/(2*a);(1===n.type||o>=0)&&u.push(r(y,n.start,e,o));const f=(-p-t)/(2*a);(1===n.type||f>=0)&&u.push(r(w,n.start,e,f))}return u}const k=1e-6,q=a(),v=a(),w=a(),y=a();export{x as M,h as b,j as d,l as j,b as k,M as l,d as m,g as q}