import{u as t,a as n}from"./p-57ae469d.js";import{t as o,E as r}from"./p-9ae46e68.js";import{m as a}from"./p-566b0715.js";async function i(t,n){return await t.load(),f(t,n)}async function f(i,f){const c=[],e=(...t)=>{for(const n of t)o(n)||(Array.isArray(n)?e(...n):r.isCollection(n)?n.forEach((t=>e(t))):a.isLoadable(n)&&c.push(n))};f(e);let s=null;if(await t(c,(async t=>{!1!==(await n(function(t){return"loadAll"in t&&"function"==typeof t.loadAll}(t)?t.loadAll():t.load())).ok||s||(s=t)})),s)throw s.loadError;return i}export{f as i,i as n}