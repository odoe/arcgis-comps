import{aW as p,V as t,A as i,aE as s,cp as r,ai as o,e,d as m,i as a}from"./p-e58503d5.js";import{b as j}from"./p-b79fcce3.js";import{h as d}from"./p-54330161.js";import{h as c}from"./p-1e75ba5c.js";import{d as n,y as l}from"./p-8bc9b36a.js";import{O as b,M as f,x as h,c as u}from"./p-11bb7abb.js";import"./p-53bb6ab4.js";import"./p-93765525.js";import"./p-765e6c28.js";import"./p-a9a30646.js";import"./p-8747982c.js";import"./p-c048b814.js";import"./p-fb38a9d0.js";import"./p-e6fe5d89.js";import"./p-d3105731.js";import"./p-746a9d8f.js";import"./p-6c3025fa.js";import"./p-e273719b.js";import"./p-74de0937.js";import"./p-2f398ed1.js";import"./p-90239435.js";import"./p-7731c620.js";import"./p-5d962998.js";import"./p-612a2c14.js";import"./p-01e5a461.js";import"./p-d443df87.js";import"./p-7ca40eac.js";import"./p-9087b4d3.js";import"./p-c1cd5521.js";import"./p-ca4492df.js";import"./p-9d34911e.js";import"./p-182bb5be.js";import"./p-db87794e.js";import"./p-2db4840f.js";import"./p-bba8b671.js";import"./p-5e833dfc.js";import"./p-7a5bfd29.js";import"./p-a131049b.js";import"./p-a2324023.js";import"./p-dc852195.js";import"./p-7a658388.js";import"./p-f94762ac.js";import"./p-ea916a39.js";import"./p-8a919d07.js";import"./p-efbca0ca.js";import"./p-ff2962f5.js";import"./p-da9e7ba9.js";import"./p-a8f0aa27.js";import"./p-4a96de15.js";import"./p-5032dfbd.js";import"./p-a87cccba.js";import"./p-dae095dd.js";import"./p-0e784e4d.js";import"./p-dbdf15fc.js";import"./p-e0d9ff4c.js";import"./p-08e5f531.js";import"./p-dfc6337f.js";import"./p-9f1c2d50.js";import"./p-6b2eb7a7.js";import"./p-889f7a78.js";import"./p-1f81b35d.js";import"./p-81b9df84.js";import"./p-5ce39624.js";import"./p-e9bae5e9.js";import"./p-b0565d49.js";import"./p-51a17e75.js";import"./p-d208934e.js";import"./p-afac6fb2.js";import"./p-3e39c093.js";import"./p-480e5606.js";import"./p-22c9f19c.js";import"./p-c096b5df.js";import"./p-da33e926.js";import"./p-a24f7752.js";import"./p-ccdb8e80.js";import"./p-4a6dc5e4.js";import"./p-6a92ecb9.js";import"./p-1ab449fc.js";import"./p-a6c8fb32.js";import"./p-0edb3309.js";import"./p-e8160b60.js";import"./p-2e8ad983.js";import"./p-e3270d48.js";import"./p-e44bd0a6.js";import"./p-e654504b.js";import"./p-0eb619a6.js";import"./p-fe68aab5.js";import"./p-c6970847.js";import"./p-de86b3c9.js";import"./p-37d3434c.js";import"./p-120b7410.js";import"./p-b1eff69d.js";import"./p-612de336.js";import"./p-91fe06d4.js";import"./p-ab0e9273.js";import"./p-15a9486c.js";import"./p-2ae44317.js";import"./p-9f58a277.js";import"./p-9e860e7b.js";import"./p-f3659a34.js";import"./p-ca657fcf.js";import"./p-b312c1fd.js";import"./p-b8beb0d3.js";import"./p-2a99994a.js";import"./p-22ccef7d.js";import"./p-6f4b0bc8.js";import"./p-a184d75f.js";import"./p-5f05b534.js";import"./p-7d081d01.js";import"./p-b6fa3228.js";import"./p-f70b836b.js";import"./p-df35b79d.js";import"./p-fea9512d.js";import"./p-f16641e7.js";import"./p-f5813fa9.js";import"./p-d748d513.js";import"./p-2f16d655.js";import"./p-27823887.js";import"./p-724d84bd.js";import"./p-1e473dab.js";import"./p-d57f9971.js";import"./p-a3955219.js";import"./p-8f986f60.js";import"./p-e1b62a0c.js";import"./p-ab86fcff.js";import"./p-4d38e149.js";import"./p-dcdb33cf.js";import"./p-95909347.js";import"./p-3c70d22f.js";import"./p-2c84c65f.js";import"./p-c93d2280.js";import"./p-dd537345.js";import"./p-ca295674.js";import"./p-41f2b2dd.js";import"./p-3bcc4805.js";import"./p-3721667d.js";import"./p-4019eec3.js";const y=new n({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[3.75,3.75],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),w=new l({style:"circle",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),g=new l({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});let v=class extends b{constructor(i){super(i),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type="draw-2d",this._visualElementSymbols={outline:p(i.activeLineSymbol,y),regularVertices:p(i.regularVerticesSymbol,w),activeVertex:p(i.activeVertexSymbol,g),fill:t(i.activeFillSymbol)}}initializeGraphic(p){return i(this._visualElementSymbols.fill)&&(p.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const p=this.view;return new f({view:p,manipulators:this.manipulators,geometryType:h(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new u(p),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new c(this.internalGraphicsLayer)})}onActiveVertexChanged(p){if("point"===this.geometryType)return null;const[t,e]=p,m=new s({x:t,y:e,spatialReference:this.drawOperation.spatialReference});return i(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=m,null):(this._visualElementGraphics.activeVertex=new d({geometry:m,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(S),r((()=>{i(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=o(this._visualElementGraphics.activeVertex))})))}onOutlineChanged(p){const t=p.clone();if("polyline"===t.type){const p=t.paths[t.paths.length-1];p.splice(0,p.length-2)}return i(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=t,null):(this._visualElementGraphics.outline=new d({geometry:t,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(S),r((()=>{i(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=o(this._visualElementGraphics.outline))})))}onRegularVerticesChanged(p){const t=new j({points:p,spatialReference:this.drawOperation.spatialReference});return i(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=t,null):(this._visualElementGraphics.regularVertices=new d({geometry:t,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(S),r((()=>{i(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=o(this._visualElementGraphics.regularVertices))})))}};function S(p,t){var i,s,r,o;return(null!=(i=null==(s=p.attributes)?void 0:s.displayOrder)?i:-1/0)-(null!=(r=null==(o=t.attributes)?void 0:o.displayOrder)?r:-1/0)}e([m()],v.prototype,"activeFillSymbol",void 0),e([m({readOnly:!0})],v.prototype,"type",void 0),e([m({constructOnly:!0,nonNullable:!0})],v.prototype,"view",void 0),v=e([a("esri.views.2d.interactive.draw.DrawGraphicTool2D")],v);export{v as DrawGraphicTool2D}