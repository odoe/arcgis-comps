import"./p-19bc1e3d.js";import"./p-e58503d5.js";import{o as t}from"./p-0bb84768.js";import"./p-53bb6ab4.js";import"./p-2f398ed1.js";import"./p-d3105731.js";class s{constructor(){this._size=[0,0]}dispose(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)}draw(t,s,i){const{width:e,height:o}=s;this._createOrResizeResources(t,e,o);const{context:p,painter:h}=t,{amount:r}=i,a=p.gl,n=this._layerFBOTexture;p.bindFramebuffer(s),s.copyToTexture(0,0,e,o,0,0,n),p.setBlendingEnabled(!0),p.setStencilTestEnabled(!1),p.setDepthTestEnabled(!1),p.setClearColor(0,0,0,0),p.clear(a.COLOR_BUFFER_BIT),h.blitTexture(p,n,9728,r)}_createOrResizeResources(s,i,e){const{context:o}=s;this._layerFBOTexture&&this._size[0]===i&&this._size[1]===e||(this._size[0]=i,this._size[1]=e,this._layerFBOTexture?this._layerFBOTexture.resize(i,e):this._layerFBOTexture=new t(o,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9728,flipped:!1,width:i,height:e}))}}export{s as Opacity}