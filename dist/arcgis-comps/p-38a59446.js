import{bu as e,b as r,W as n}from"./p-5420851c.js";import{a as t,n as o}from"./p-e32e360a.js";import"./p-53bb6ab4.js";async function i(t=null,o){var i,a;if(e.geometryServiceUrl)return e.geometryServiceUrl;if(!t)throw new r("internal:geometry-service-url-not-configured");let l;l="portal"in t?t.portal||n.getDefault():t,await l.load({signal:o});const s=null==(i=l.helperServices)||null==(a=i.geometry)?void 0:a.url;if(!s)throw new r("internal:geometry-service-url-not-configured");return s}async function a(e,n,a=null,l){const s=await i(a,l),c=new t;c.geometries=[e],c.outSpatialReference=n;const u=await o(s,c,{signal:l});if(u&&Array.isArray(u)&&1===u.length)return u[0];throw new r("internal:geometry-service-projection-failed")}export{i as getGeometryServiceURL,a as projectGeometry}