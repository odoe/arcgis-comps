import{w as e,A as t,al as r,z as n,$ as a}from"./p-1ce5adcc.js";import{g as i,c as s}from"./p-0910f78f.js";import{c8 as p,bu as o,dj as l}from"./p-e58503d5.js";import{w as u,A as c,x as f,O as m,p as j,g as b,h as R}from"./p-e392251d.js";import"./p-b79fcce3.js";import"./p-6f4b0bc8.js";import"./p-a184d75f.js";import"./p-5a4bf917.js";import"./p-c048b814.js";import"./p-a131049b.js";import"./p-a9a30646.js";import"./p-a2324023.js";import"./p-5032dfbd.js";import"./p-182bb5be.js";import"./p-db87794e.js";import"./p-01e5a461.js";import"./p-c0f84cd3.js";import"./p-8925cd73.js";import"./p-dfc6337f.js";import"./p-61f47d2b.js";import"./p-53bb6ab4.js";import"./p-612de336.js";import"./p-765e6c28.js";import"./p-480e5606.js";function S(e){return e instanceof o}function d(n,a,R,d,w){return w(n,a,(function(n,a,w){if(w.length<2)return d(new Error("Missing Parameters"));if(null===(w=e(w))[0]&&null===w[1])return p(!1);if(t(w[0]))return w[1]instanceof o?p(new i({parentfeatureset:w[0],relation:R,relationGeom:w[1]})):null===w[1]?p(new s({parentfeatureset:w[0]})):d("Spatial Relation cannot accept this parameter type");if(S(w[0])){if(S(w[1])){let e=null;switch(R){case"esriSpatialRelEnvelopeIntersects":e=b(r(w[0]),r(w[1]));break;case"esriSpatialRelIntersects":e=b(w[0],w[1]);break;case"esriSpatialRelContains":e=j(w[0],w[1]);break;case"esriSpatialRelOverlaps":e=m(w[0],w[1]);break;case"esriSpatialRelWithin":e=f(w[0],w[1]);break;case"esriSpatialRelTouches":e=c(w[0],w[1]);break;case"esriSpatialRelCrosses":e=u(w[0],w[1])}return null!==e?e:l(new Error("Unrecognised Relationship"))}return t(w[1])?p(new i({parentfeatureset:w[1],relation:R,relationGeom:w[0]})):null===w[1]?p(!1):d("Spatial Relation cannot accept this parameter type")}return null!==w[0]?d("Spatial Relation cannot accept this parameter type"):t(w[1])?p(new s({parentfeatureset:w[1]})):w[1]instanceof o||null===w[1]?p(!1):void 0}))}function w(r){"async"===r.mode&&(r.functions.intersects=function(e,t){return d(e,t,"esriSpatialRelIntersects",r.failDefferred,r.standardFunctionAsync)},r.functions.envelopeintersects=function(e,t){return d(e,t,"esriSpatialRelEnvelopeIntersects",r.failDefferred,r.standardFunctionAsync)},r.signatures.push({name:"envelopeintersects",min:"2",max:"2"}),r.functions.contains=function(e,t){return d(e,t,"esriSpatialRelContains",r.failDefferred,r.standardFunctionAsync)},r.functions.overlaps=function(e,t){return d(e,t,"esriSpatialRelOverlaps",r.failDefferred,r.standardFunctionAsync)},r.functions.within=function(e,t){return d(e,t,"esriSpatialRelWithin",r.failDefferred,r.standardFunctionAsync)},r.functions.touches=function(e,t){return d(e,t,"esriSpatialRelTouches",r.failDefferred,r.standardFunctionAsync)},r.functions.crosses=function(e,t){return d(e,t,"esriSpatialRelCrosses",r.failDefferred,r.standardFunctionAsync)},r.functions.relate=function(i,p){return r.standardFunctionAsync(i,p,(function(r,i,p){if(p=e(p),n(p,3,3),S(p[0])&&S(p[1]))return R(p[0],p[1],a(p[2]));if(p[0]instanceof o&&null===p[1])return!1;if(p[1]instanceof o&&null===p[0])return!1;if(t(p[0])&&null===p[1])return new s({parentfeatureset:p[0]});if(t(p[1])&&null===p[0])return new s({parentfeatureset:p[1]});if(t(p[0])&&p[1]instanceof o)return p[0].relate(p[1],a(p[2]));if(t(p[1])&&p[0]instanceof o)return p[1].relate(p[0],a(p[2]));if(null===p[0]&&null===p[1])return!1;throw new Error("Illegal Argument")}))})}export{w as registerFunctions}