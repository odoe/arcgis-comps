import{Q as t}from"./p-e58503d5.js";function i(t,i,s=32774,n=[0,0,0,0]){return{srcRgb:t,srcAlpha:t,dstRgb:i,dstAlpha:i,opRgb:s,opAlpha:s,color:{r:n[0],g:n[1],b:n[2],a:n[3]}}}function s(t,i,s,n,e=32774,h=32774,r=[0,0,0,0]){return{srcRgb:t,srcAlpha:i,dstRgb:s,dstAlpha:n,opRgb:e,opAlpha:h,color:{r:r[0],g:r[1],b:r[2],a:r[3]}}}const n={face:1029,mode:2305},e={face:1028,mode:2305},h=t=>2===t?n:1===t?e:null,r={zNear:0,zFar:1},u={r:!0,g:!0,b:!0,a:!0};function l(t){return w.intern(t)}function o(t){return v.intern(t)}function c(t){return y.intern(t)}function a(t){return C.intern(t)}function f(t){return R.intern(t)}function g(t){return O.intern(t)}function p(t){return B.intern(t)}function d(t){return z.intern(t)}function _(t){return F.intern(t)}class b{constructor(t,i){this.makeKey=t,this.makeRef=i,this.interns=new Map}intern(t){if(!t)return null;const i=this.makeKey(t),s=this.interns;return s.has(i)||s.set(i,this.makeRef(t)),s.get(i)}}function W(t){return"["+t.join(",")+"]"}const w=new b(T,(t=>({__tag:"Blending",...t})));function T(t){return t?W([t.srcRgb,t.srcAlpha,t.dstRgb,t.dstAlpha,t.opRgb,t.opAlpha,t.color.r,t.color.g,t.color.b,t.color.a]):null}const v=new b(S,(t=>({__tag:"Culling",...t})));function S(t){return t?W([t.face,t.mode]):null}const y=new b(A,(t=>({__tag:"PolygonOffset",...t})));function A(t){return t?W([t.factor,t.units]):null}const C=new b(D,(t=>({__tag:"DepthTest",...t})));function D(t){return t?W([t.func]):null}const R=new b(m,(t=>({__tag:"StencilTest",...t})));function m(t){return t?W([t.function.func,t.function.ref,t.function.mask,t.operation.fail,t.operation.zFail,t.operation.zPass]):null}const O=new b(P,(t=>({__tag:"DepthWrite",...t})));function P(t){return t?W([t.zNear,t.zFar]):null}const B=new b(j,(t=>({__tag:"ColorWrite",...t})));function j(t){return t?W([t.r,t.g,t.b,t.a]):null}const z=new b(x,(t=>({__tag:"StencilWrite",...t})));function x(t){return t?W([t.mask]):null}const F=new b((function(t){return t?W([T(t.blending),S(t.culling),A(t.polygonOffset),D(t.depthTest),m(t.stencilTest),P(t.depthWrite),j(t.colorWrite),x(t.stencilWrite)]):null}),(t=>({blending:l(t.blending),culling:o(t.culling),polygonOffset:c(t.polygonOffset),depthTest:a(t.depthTest),stencilTest:f(t.stencilTest),depthWrite:g(t.depthWrite),colorWrite:p(t.colorWrite),stencilWrite:d(t.stencilWrite)})));class M{constructor(t){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=t}setPipeline(t){(this._pipelineInvalid||t!==this._pipeline)&&(this.setBlending(t.blending),this.setCulling(t.culling),this.setPolygonOffset(t.polygonOffset),this.setDepthTest(t.depthTest),this.setStencilTest(t.stencilTest),this.setDepthWrite(t.depthWrite),this.setColorWrite(t.colorWrite),this.setStencilWrite(t.stencilWrite),this._pipeline=t),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}setBlending(t){this._blending=this.setSubState(t,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}setCulling(t){this._culling=this.setSubState(t,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}setPolygonOffset(t){this._polygonOffset=this.setSubState(t,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}setDepthTest(t){this._depthTest=this.setSubState(t,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}setStencilTest(t){this._stencilTest=this.setSubState(t,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}setDepthWrite(t){this._depthWrite=this.setSubState(t,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}setColorWrite(t){this._colorWrite=this.setSubState(t,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}setStencilWrite(t){this._stencilWrite=this.setSubState(t,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}setSubState(t,i,s,n){return(s||t!==i)&&(n(t),this._pipelineInvalid=!0),t}}async function N(i,s){const{data:n}=await t(i,{responseType:"image",...s});return n}const Q=s(770,1,771,771),k=i(1,1),q=i(0,771);function E(t){return 2===t?null:1===t?q:k}function G(t){return 2===t?r:null}const H=5e5,I={factor:-1,units:-2};function J(t){return t?I:null}function K(t){return 3===t||2===t?513:515}export{M as K,N as a,K as b,E as c,I as d,s as e,G as f,_ as g,J as h,n as i,H as j,r as l,e as n,q as o,u as r,h as s,i as t,Q as u}