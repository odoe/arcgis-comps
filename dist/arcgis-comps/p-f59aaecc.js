import"./p-81abd5fc.js";import"./p-9ae46e68.js";import{o as t}from"./p-7c7c5507.js";import"./p-84bf99cb.js";import"./p-566b0715.js";import"./p-fe01b82b.js";class s{constructor(){this._size=[0,0]}dispose(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)}draw(t,s,i){const{width:e,height:o}=s;this._createOrResizeResources(t,e,o);const{context:p,painter:h}=t,{amount:r}=i,a=p.gl,c=this._layerFBOTexture;p.bindFramebuffer(s),s.copyToTexture(0,0,e,o,0,0,c),p.setBlendingEnabled(!0),p.setStencilTestEnabled(!1),p.setDepthTestEnabled(!1),p.setClearColor(0,0,0,0),p.clear(a.COLOR_BUFFER_BIT),h.blitTexture(p,c,9728,r)}_createOrResizeResources(s,i,e){const{context:o}=s;this._layerFBOTexture&&this._size[0]===i&&this._size[1]===e||(this._size[0]=i,this._size[1]=e,this._layerFBOTexture?this._layerFBOTexture.resize(i,e):this._layerFBOTexture=new t(o,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9728,flipped:!1,width:i,height:e}))}}export{s as Opacity}