import{e as t,d as s,i as r,a1 as e,ah as o,Q as n}from"./p-e58503d5.js";import{a as i,v as a}from"./p-c048b814.js";import{e as u,r as c}from"./p-7ca40eac.js";function m(t){return{geometryType:a(t[0]),geometries:t.map((t=>t.toJSON()))}}function h(t,s,r){const e=i(s);return t.map((t=>{const s=e.fromJSON(t);return s.spatialReference=r,s}))}let p=class extends e{constructor(t){super(t),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map((function(t){return t.toJSON()})),s=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=s.spatialReference.wkid||JSON.stringify(s.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:a(s),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};t([s()],p.prototype,"geometries",void 0),t([s({json:{read:{source:"outSR"}}})],p.prototype,"outSpatialReference",void 0),t([s()],p.prototype,"transformation",void 0),t([s()],p.prototype,"transformForward",void 0),p=t([r("esri.rest.support.ProjectParameters")],p);const l=p,f=o(l);async function d(t,s,r){s=f(s);const e=u(t),o={...e.query,f:"json",...s.toJSON()},i=s.outSpatialReference,m=a(s.geometries[0]),p=c(o,r);return n(e.path+"/project",p).then((({data:{geometries:t}})=>h(t,m,i)))}export{l as a,d as n,h as o,m as r}