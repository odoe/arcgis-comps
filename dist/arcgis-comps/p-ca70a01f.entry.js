import{r as t,c as i,g as s}from"./p-53bb6ab4.js";import{e,d as o,i as r,p as a,c as n,S as l,s as d,r as u,o as h,j as k,f as m,z as c,u as b,a as v,l as p,aC as _,$ as g,g as w,M as f}from"./p-e58503d5.js";import{c as B}from"./p-31225789.js";import{u as y}from"./p-eee9ef50.js";import{x as S,c as C,_ as E}from"./p-0f8334dc.js";import{e as I}from"./p-b312c1fd.js";import{s as A}from"./p-da9e7ba9.js";import{t as O}from"./p-2a99994a.js";import{S as U}from"./p-a57a7f49.js";import"./p-2f398ed1.js";import"./p-d3105731.js";import"./p-6ded4c02.js";import"./p-b79fcce3.js";import"./p-c048b814.js";import"./p-7731c620.js";import"./p-5d962998.js";import"./p-78a21eae.js";import"./p-8747982c.js";let j=class extends a{constructor(t){super(t)}get editedBookmark(){const{bookmark:t}=this;return t?this._get("editedBookmark")||t.clone():null}get state(){return this._get("state")}set state(t){this.validationState=void 0,this.loading=void 0,this._set("state",t)}};e([o()],j.prototype,"bookmark",void 0),e([o({readOnly:!0})],j.prototype,"editedBookmark",null),e([o()],j.prototype,"state",null),e([o()],j.prototype,"validationState",void 0),e([o()],j.prototype,"loading",void 0),j=e([r("esri.widgets.Bookmarks.UserState")],j);const M=j,N="esri.widgets.Bookmarks.BookmarksViewModel",V=n.getLogger(N),x=l.ofType(S),T={width:128,height:128,format:"png"},q={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0};let R=class extends(I(u.EventedAccessor)){constructor(t){super(t),this.activeBookmark=null}destroy(){this.view=null,this._set("activeBookmark",null)}set bookmarks(t){void 0!==t?this._override("bookmarks",t):this._clearOverride("bookmarks")}get bookmarks(){return this.get("view.map.bookmarks")||new x}set defaultCreateOptions(t){this._set("defaultCreateOptions",{...q,...t})}get defaultCreateOptions(){return q}set defaultEditOptions(t){this._set("defaultEditOptions",{...q,...t})}get defaultEditOptions(){return q}get state(){const t=this.get("view");return t&&!t.ready?"loading":"ready"}get view(){return this._get("view")}set view(t){t&&"2d"!==t.type&&V.error(new d("view:invalid-view","SceneView is not supported",{view:t})),this._set("view",t)}async createBookmark(t){const{view:i,defaultCreateOptions:s}=this;if(!i){const t=new d("create-bookmark:invalid-view","Cannot create a bookmark without a view.");return V.error(t),Promise.reject(t)}const{takeScreenshot:e,screenshotSettings:o,captureViewpoint:r,captureRotation:a,captureScale:n}={...s,...t},l=e?await this._createThumbnail(o):void 0;return new S({...l&&{thumbnail:l},...r&&{viewpoint:this._createViewpoint({view:i,captureScale:n,captureRotation:a})}})}async editBookmark(t,i){const{view:s,defaultEditOptions:e}=this;if(!s){const t=new d("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");return V.error(t),Promise.reject(t)}const{takeScreenshot:o,screenshotSettings:r,captureViewpoint:a,captureRotation:n,captureScale:l}={...e,...i},u=o?await this._createThumbnail(r):void 0;return u&&(t.thumbnail=u),a&&(t.viewpoint=this._createViewpoint({view:s,captureScale:l,captureRotation:n})),this.emit("bookmark-edit",{bookmark:t}),t}goTo(t){const{view:i}=this;if(!i){const t=new d("go-to:invalid-view","Cannot go to a bookmark without a view");return V.error(t),Promise.reject(t)}const s=null==t?void 0:t.viewpoint;if(!s){const i=new d("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:t});return V.error(i),Promise.reject(i)}this._set("activeBookmark",t);const e=this.callGoTo({target:s});return this.emit("bookmark-select",{bookmark:t}),e.catch((()=>{})).then((()=>this._set("activeBookmark",null))),e}async _createThumbnail(t){const i=await this.view.takeScreenshot({...T,...t});return new B({url:i.dataUrl})}_createViewpoint({view:t,captureRotation:i,captureScale:s}){var e,o;const r=null==(e=t.viewpoint)?void 0:e.clone();return new y({targetGeometry:null==(o=t.extent)?void 0:o.clone(),rotation:i&&(null==r?void 0:r.rotation)||0,scale:s&&(null==r?void 0:r.scale)||0})}};e([o({readOnly:!0})],R.prototype,"activeBookmark",void 0),e([o({type:x})],R.prototype,"bookmarks",null),e([o()],R.prototype,"defaultCreateOptions",null),e([o()],R.prototype,"defaultEditOptions",null),e([o({readOnly:!0})],R.prototype,"state",null),e([o({value:null})],R.prototype,"view",null),R=e([r(N)],R);const F=R,L="data-bookmark-uid",H="esri-bookmarks__authoring-card",P="esri-bookmarks__authoring-form",z={addBookmark:!0,thumbnail:!0},D=/^https:\/\/.*/i;let G=class extends c{constructor(t,i){super(t,i),this._handles=new b,this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._addBookmarkButtonNode=null,this._focusAddBookmarkButton=!1,this._focusEditInputBox=!1,this._focusAddInputBox=!1,this._focusUrlEditInputBox=!1,this._sortable=null,this._sortableNode=null,this._focusSortUid=null,this._selectedSortUid=null,this._sortableSavedItems=null,this._userState=null,this.defaultCreateOptions=null,this.defaultEditOptions=null,this.bookmarks=null,this.disabled=!1,this.editingEnabled=!1,this.headingLevel=2,this.goToOverride=null,this.iconClass="esri-icon-bookmark",this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.view=null,this.viewModel=new F,this.visibleElements={...z}}initialize(){this.own([v(this,"viewModel.bookmarks",(()=>this._bookmarksInitialized())),v(this,"editingEnabled",(()=>this._toggleSorting()))])}destroy(){this._destroySortable(),this._handles.destroy(),this._handles=null,this._editMenu.destroy()}get _editMenuItems(){var t,i;const{messages:s,_userState:e}=this,o=null==e||null==(t=e.editedBookmark)||null==(i=t.thumbnail)?void 0:i.url;return[new C({label:null==s?void 0:s.menu.refreshThumbnail,iconClass:"esri-icon-refresh",clickFunction:()=>this._refreshThumbnail()}),new C({label:D.test(o)?null==s?void 0:s.menu.editImageUrl:null==s?void 0:s.menu.useImageUrl,iconClass:"esri-icon-link",clickFunction:()=>this._startUseImageUrl()}),o?new C({label:null==s?void 0:s.menu.removeThumbnail,iconClass:"esri-icon-erase",clickFunction:()=>this._removeThumbnail()}):null].filter(Boolean)}get _editMenu(){const{_editMenuItems:t,messages:i}=this,s=this._get("_editMenu");s&&s.destroy();const e=new E({iconClass:"esri-icon-handle-horizontal",label:null==i?void 0:i.menu.label});return e.items=t,e}castVisibleElements(t){return{...z,...t}}endAddBookmark(){this._userState=null}goTo(t){return this.viewModel.goTo(t)}render(){const{state:t}=this.viewModel,i="loading"===t?this.renderLoading():this.renderBookmarks();return p("div",{class:this.classes("esri-bookmarks esri-widget--panel","esri-widget",{"esri-widget--disabled":this.disabled})},i)}startAddBookmark(){this._userState=new M({state:"add"}),this._focusAddInputBox=!0,this.scheduleRender()}renderLoading(){return p("div",{class:"esri-bookmarks__loader-container",key:"loader"},p("div",{class:"esri-bookmarks__loader"}))}renderNoBookmarksContainer(){const{messages:t}=this;return p("div",{class:"esri-widget__content--empty",key:"no-bookmarks"},p("span",{"aria-hidden":"true",class:this.classes("esri-widget__no-bookmark-icon","esri-icon-bookmark")}),p(A,{level:this.headingLevel,class:this.classes("esri-widget__heading","esri-bookmarks__no-bookmarks-heading")},null==t?void 0:t.noBookmarksHeading),p("p",{class:"esri-bookmarks__no-bookmarks-description"},null==t?void 0:t.noBookmarksDescription))}renderAddBookmarkLoading(){var t;return p("div",{key:"adding-bookmark",class:"esri-bookmarks__adding-bookmark"},p("span",{"aria-hidden":"true",class:this.classes("esri-icon-loading-indicator","esri-rotating")}),null==(t=this.messages)?void 0:t.addingBookmark)}renderBookmarkItems(t){if(!t)return null;const{_userState:i,editingEnabled:s}=this;return t.map((t=>s&&t&&i&&("edit"===i.state||"edit-thumbnail"===i.state)&&i.bookmark===t?"edit-thumbnail"===i.state?this.renderEditingBookmarkUrl(i.editedBookmark):this.renderEditingBookmark(i.editedBookmark):this.renderBookmark(t))).toArray()}renderBookmarksContainer(t){var i;const{_userState:s,editingEnabled:e}=this,o="add"===(null==s?void 0:s.state),r=e&&!o?this.renderAddBookmarkButton():null,a=e?o&&s.loading?this.renderAddBookmarkLoading():"add"===(null==s?void 0:s.state)?this.renderAddingBookmark():null:null;return[p("ul",{key:"bookmark-list","aria-label":null==(i=this.messages)?void 0:i.widgetLabel,class:this.classes("esri-bookmarks__list",{"esri-bookmarks__list--sortable":this.editingEnabled}),afterCreate:this._sortNodeCreated,afterRemoved:this._destroySortable,"data-node-ref":"_sortableNode",bind:this},this.renderBookmarkItems(t)),r,a]}renderAddBookmarkButton(){var t;return this.visibleElements.addBookmark?p("div",{key:"add-bookmark-item",class:"esri-bookmarks__add-bookmark"},p("button",{class:this.classes("esri-button","esri-button--tertiary","esri-bookmarks__add-bookmark-button"),onclick:this.startAddBookmark,afterCreate:this._storeAddBookmarkButton,afterUpdate:this._storeAddBookmarkButton,"data-node-ref":"_addBookmarkButtonNode",bind:this,type:"button"},p("span",{"aria-hidden":"true",class:this.classes("esri-bookmarks__add-bookmark-icon","esri-icon-plus")}),null==(t=this.messages)?void 0:t.addBookmark)):null}renderBookmarks(){const{bookmarks:t}=this.viewModel,i=t&&t.filter(Boolean),s=i&&i.length,e=s||this.editingEnabled?this.renderBookmarksContainer(i):null;return[s?null:this.renderNoBookmarksContainer(),e]}renderEditContainer(t){const{messagesCommon:i}=this;return p("div",{key:"edit-container"},p("button",{title:null==i?void 0:i.edit,"aria-label":null==i?void 0:i.edit,"data-bookmark":t,onclick:this._showEditBookmarkForm,bind:this,class:"esri-bookmarks__bookmark-edit-button",type:"button"},p("span",{"aria-hidden":"true",class:"esri-icon-edit"})))}renderDragHandle(t){const{messagesCommon:i}=this;return p("div",{role:"button",tabIndex:0,key:"drag-handle",bind:this,class:"esri-bookmarks_bookmark-drag-handle",onkeydown:this._dragHandleKeydown,afterCreate:this._focusDragHandle,afterUpdate:this._focusDragHandle,onblur:this._dragHandleBlur,"aria-pressed":this._selectedSortUid===t.uid?"true":"false","aria-label":null==i?void 0:i.dragHandleLabel,title:null==i?void 0:i.dragHandleTitle,[L]:t.uid},p("span",{"aria-hidden":"true",class:this.classes("esri-bookmarks_bookmark-drag-handle-icon","esri-icon-handle-vertical")}))}renderBookmarkImageIcon(){return p("span",{"aria-hidden":"true",class:this.classes("esri-bookmarks__bookmark-icon","esri-icon-bookmark")})}renderBookmarkImage(t){const{visibleElements:i}=this,{thumbnail:s}=t,e=s&&s.url||"";return i.thumbnail&&e?p("img",{src:e,alt:"",class:"esri-bookmarks__image"}):null}renderBookmarkButton(t){const{messagesCommon:i}=this,{name:s}=t,e=s||(null==i?void 0:i.untitled),o=p("div",{class:"esri-bookmarks__bookmark-image-container"},this.renderBookmarkImage(t)||this.renderBookmarkImageIcon());return p("button",{key:"bookmark-button",class:"esri-bookmarks__bookmark-button",bind:this,"data-bookmark":t,onclick:this._goToBookmark,type:"button"},o,p("span",{class:"esri-bookmarks__bookmark-name"},e))}renderBookmark(t){const{activeBookmark:i}=this.viewModel,s={"esri-bookmarks__bookmark--active":i===t},e=this.editingEnabled?this.renderEditContainer(t):null,o={[L]:t.uid},r=this.editingEnabled?this.renderDragHandle(t):null;return p("li",{key:t,class:this.classes("esri-bookmarks__bookmark",s),...o},r,this.renderBookmarkButton(t),e)}renderEditingBookmarkName(t){const{messages:i,_userState:s}=this,e="name-required"===s.validationState;return p("label",{class:"esri-bookmarks__authoring-label"},null==i?void 0:i.title,e?p("strong",null,null==i?void 0:i.invalidTitle):null,p("input",{required:!0,bind:this,class:this.classes("esri-input",e?"esri-bookmarks__authoring-input--invalid":null),type:"text",value:t.name,afterCreate:this._storeEditInput,afterUpdate:this._focusEditInput,"data-bookmark":t,"data-node-ref":"_editInputNode",placeholder:null==i?void 0:i.titlePlaceholder}))}renderEditingBookmarkUrlActions(){const{messagesCommon:t}=this;return p("div",{class:"esri-bookmarks__authoring-actions"},p("input",{type:"button",value:null==t?void 0:t.back,class:this.classes("esri-button","esri-button--tertiary"),onclick:this._closeUrlEditBookmarkForm,bind:this}),p("input",{class:"esri-button",type:"submit",value:null==t?void 0:t.add}))}renderEditingBookmarkActions(){const{messagesCommon:t}=this,{bookmark:i}=this._userState;return p("div",{class:"esri-bookmarks__authoring-actions"},p("input",{type:"button",value:null==t?void 0:t.delete,class:this.classes("esri-button","esri-button--tertiary","esri-bookmarks__authoring-delete-button"),"data-bookmark":i,onclick:this._deleteBookmark,bind:this}),p("input",{type:"button",value:null==t?void 0:t.cancel,class:this.classes("esri-button","esri-button--tertiary"),onclick:this._closeEditBookmarkForm,bind:this}),p("input",{class:"esri-button",type:"submit",value:null==t?void 0:t.save}))}renderEditingBookmarkUrlInput(t){var i;const{messages:s,_userState:e}=this,o=null==(i=t.thumbnail)?void 0:i.url,r=D.test(o)?o:null,a="absolute-url-required"===e.validationState;return p("label",{class:"esri-bookmarks__authoring-label"},a?p("strong",null,null==s?void 0:s.invalidImageUrl):null,p("input",{required:!0,bind:this,class:this.classes("esri-input",a?"esri-bookmarks__authoring-input--invalid":null),type:"text",value:r,afterCreate:this._storeUrlEditInput,afterUpdate:this._focusUrlEditInput,"data-bookmark":t,"data-node-ref":"_urlEditInputNode",title:null==s?void 0:s.imageUrlTooltip,placeholder:s&&`https://<${s.imageUrlPlaceholder}>`}))}renderEditingBookmarkUrl(t){return p("li",{key:"edit-bookmark-url-form",class:H,[L]:t.uid},p("form",{class:P,onsubmit:this._editBookmarkUrlSubmit,bind:this},this.renderEditingBookmarkUrlInput(t),this.renderEditingBookmarkUrlActions()))}renderEditingBookmark(t){return p("li",{key:"edit-bookmark-form",class:H,[L]:t.uid},p("form",{class:P,onsubmit:this._editBookmarkSubmit,bind:this},p("div",{class:"esri-bookmarks__authoring-container"},p("div",{class:"esri-bookmarks__bookmark-image-container"},this.renderBookmarkImage(t),this._editMenu.render()),this.renderEditingBookmarkName(t)),this.renderEditingBookmarkActions()))}renderAddingBookmarkName(){const{_userState:t,messages:i}=this,s="name-required"===t.validationState;return p("label",{class:"esri-bookmarks__authoring-label"},null==i?void 0:i.title,s?p("strong",null,null==i?void 0:i.invalidTitle):null,p("input",{required:!0,bind:this,class:this.classes("esri-input",s?"esri-bookmarks__authoring-input--invalid":null),type:"text",afterCreate:this._storeAddInput,afterUpdate:this._focusAddInput,"data-node-ref":"_addInputNode",value:"",placeholder:null==i?void 0:i.titlePlaceholder}))}renderAddingBookmarkActions(){const{messagesCommon:t}=this;return p("div",{class:this.classes("esri-bookmarks__authoring-actions")},p("input",{type:"button",value:null==t?void 0:t.cancel,class:this.classes("esri-button","esri-button--tertiary","esri-bookmarks__authoring-cancel-button"),onclick:this._endAddBookmark.bind(this),bind:this}),p("input",{class:"esri-button",type:"submit",value:null==t?void 0:t.add}))}renderAddingBookmark(){return p("div",{key:"add-bookmark-form",class:H},p("form",{class:P,onsubmit:this._addBookmarkSubmit,bind:this},this.renderAddingBookmarkName(),this.renderAddingBookmarkActions()))}_dragHandleBlur(){this._selectedSortUid=null,this.scheduleRender()}_dragHandleKeydown(t){const{_sortableSavedItems:i}=this,s=f(t);if(-1===["ArrowDown","ArrowUp","Escape","Tab"," ","Enter"].indexOf(s))return;const{_sortable:e,_selectedSortUid:o}=this,r=e.toArray(),a=t.target.getAttribute(L),n=r.indexOf(a);if(_(s)){const t=o&&o===a;return this._selectedSortUid=t?null:a,this._sortableSavedItems=t?null:this._sortable.toArray(),void this.scheduleRender()}if("Tab"===s)return this._selectedSortUid=null,void this.scheduleRender();if("Escape"===s&&i)return t.stopPropagation(),this._selectedSortUid=null,this._updateSortItems(i,e,a),void this.scheduleRender();if(-1===n||!o)return;const l="ArrowUp"===s?n-1:n+1;l>=r.length||l<=-1||(function(t,i,s){t.splice(s,0,t.splice(i,1)[0])}(r,n,l),this._updateSortItems(r,e,a))}_updateSortItems(t,i,s){i.sort(t),this._sortBookmarks(i),this._focusSortUid=s,this._selectedSortUid=s}_focusDragHandle(t){const{_focusSortUid:i}=this;t&&i&&t.getAttribute(L)===i&&(t.focus(),this._focusSortUid=null)}_toggleSorting(){const{_sortable:t,_sortableNode:i,editingEnabled:s}=this;if(i)if(t)t.option("disabled",!s);else{const t=U.create(i,{dataIdAttr:L,handle:".esri-bookmarks_bookmark-drag-handle",group:"bookmarks",disabled:!s,onSort:()=>this._sortBookmarks(t)});this._sortable=t}}_sortNodeCreated(t){this._sortableNode=t,this._toggleSorting()}_sortBookmarks(t){const{bookmarks:i}=this.viewModel;if(!i)return;const s=t.toArray();i.sort(((t,i)=>{const e=s.indexOf(t.uid),o=s.indexOf(i.uid);return e>o?1:e<o?-1:0}))}_destroySortable(){const{_sortable:t}=this;t&&t.destroy(),this._sortable=null}_endAddBookmark(){this._focusAddBookmarkButton=!0,this.endAddBookmark()}_bookmarksInitialized(){const t="bookmarks-init",{_handles:i}=this;i.remove(t),i.add(g(this,"viewModel.bookmarks","change",(()=>this._bookmarksChanged())),t)}_bookmarksChanged(){const t="bookmarks-change",{bookmarks:i}=this.viewModel,{_handles:s}=this;s.remove(t);const e=i.map((t=>w(t,["active","name","thumbnail.url"],(()=>this.scheduleRender()))));s.add(e,t),this.scheduleRender()}_showEditBookmarkForm(t){const i=t.currentTarget["data-bookmark"];this._focusEditInputBox=!0,this._userState=new M({bookmark:i,state:"edit"}),this.viewModel.goTo(i),this.scheduleRender()}_closeUrlEditBookmarkForm(){this._focusEditInputBox=!0,this._userState.state="edit"}_closeEditBookmarkForm(){this._userState=null}_addBookmarkSubmit(t){t.preventDefault();const{_addInputNode:i,_userState:s}=this,e=i&&i.value.trim();e?(s.loading=!0,this.viewModel.createBookmark().then((t=>{t.name=e,this.viewModel.bookmarks.add(t),this._endAddBookmark()}))):s.validationState="name-required"}async _editBookmarkAndClose(t,i){await this.viewModel.editBookmark(t,i),this._closeEditBookmarkForm()}_editBookmarkSubmit(t){t.preventDefault();const{_editInputNode:i,_userState:s}=this,e=i&&i.value.trim();e?(s.bookmark.name=e,s.bookmark.thumbnail=s.editedBookmark.thumbnail,this._editBookmarkAndClose(s.bookmark,{takeScreenshot:!1})):s.validationState="name-required"}_storeAddBookmarkButton(t){this._addBookmarkButtonNode=t,this._focusAddBookmark()}_storeEditInput(t){this._editInputNode=t,this._focusEditInput()}_storeAddInput(t){this._addInputNode=t,this._focusAddInput()}_storeUrlEditInput(t){this._urlEditInputNode=t,this._focusUrlEditInput()}_focusUrlEditInput(){this._urlEditInputNode&&this._focusUrlEditInputBox&&(this._focusUrlEditInputBox=!1,this._urlEditInputNode.focus())}_focusAddInput(){this._addInputNode&&this._focusAddInputBox&&(this._focusAddInputBox=!1,this._addInputNode.focus())}_focusAddBookmark(){this._addBookmarkButtonNode&&this._focusAddBookmarkButton&&(this._focusAddBookmarkButton=!1,this._addBookmarkButtonNode.focus())}_focusEditInput(){this._editInputNode&&this._focusEditInputBox&&(this._focusEditInputBox=!1,this._editInputNode.focus())}_deleteBookmark(t){this.viewModel.bookmarks.remove(t.currentTarget["data-bookmark"])}_goToBookmark(t){const i=t.currentTarget["data-bookmark"];this.endAddBookmark(),this._closeEditBookmarkForm(),this.viewModel.goTo(i)}async _refreshThumbnail(){const{_userState:t,_editMenu:i,viewModel:s}=this;t.validationState=void 0,await s.editBookmark(this._userState.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1}),i.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_removeThumbnail(){const{_userState:t,_editMenu:i}=this;t.editedBookmark.thumbnail=null,t.validationState=void 0,i.open=!1,this._focusEditInputBox=!0,this.scheduleRender()}_startUseImageUrl(){this._userState.state="edit-thumbnail",this._editMenu.open=!1,this._focusUrlEditInputBox=!0,this.scheduleRender()}_editBookmarkUrlSubmit(t){t.preventDefault();const{_urlEditInputNode:i,_userState:s}=this,e=i.value;D.test(e)?(e&&(s.editedBookmark.thumbnail=new B({url:e})),this._closeUrlEditBookmarkForm()):s.validationState="absolute-url-required"}};e([o({type:M})],G.prototype,"_userState",void 0),e([o({readOnly:!0})],G.prototype,"_editMenuItems",null),e([o({readOnly:!0})],G.prototype,"_editMenu",null),e([h("viewModel.defaultCreateOptions")],G.prototype,"defaultCreateOptions",void 0),e([h("viewModel.defaultEditOptions")],G.prototype,"defaultEditOptions",void 0),e([h("viewModel.bookmarks")],G.prototype,"bookmarks",void 0),e([o()],G.prototype,"disabled",void 0),e([o()],G.prototype,"editingEnabled",void 0),e([o()],G.prototype,"headingLevel",void 0),e([h("viewModel.goToOverride")],G.prototype,"goToOverride",void 0),e([o()],G.prototype,"iconClass",void 0),e([o({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],G.prototype,"label",void 0),e([o(),k("esri/widgets/Bookmarks/t9n/Bookmarks")],G.prototype,"messages",void 0),e([o(),k("esri/t9n/common")],G.prototype,"messagesCommon",void 0),e([o(),k("esri/core/t9n/Units")],G.prototype,"messagesUnits",void 0),e([o()],G.prototype,"uiStrings",void 0),e([h("viewModel.view")],G.prototype,"view",void 0),e([o({type:F}),O(["select-bookmark","bookmark-edit","bookmark-select"])],G.prototype,"viewModel",void 0),e([o()],G.prototype,"visibleElements",void 0),e([m("visibleElements")],G.prototype,"castVisibleElements",null),e([o()],G.prototype,"endAddBookmark",null),e([o()],G.prototype,"startAddBookmark",null),G=e([r("esri.widgets.Bookmarks")],G);const K=G;let W=class{constructor(s){t(this,s),this.loaded=i(this,"loaded",7),this.position="bottom-left"}validateView(t){t&&(this.widget.view=t,"arcgis-expand"!==this.el.parentElement.tagName.toLowerCase()&&this.widget.view.ui.add(this.widget,this.position))}componentWillLoad(){const t=new K({container:this.el});this.widget=t,this.view&&(t.view=this.view),this.loaded.emit(!0)}get el(){return s(this)}static get watchers(){return{view:["validateView"]}}};W.style="@import url('https://js.arcgis.com/next/esri/themes/light/main.css');";export{W as arcgis_bookmarks}