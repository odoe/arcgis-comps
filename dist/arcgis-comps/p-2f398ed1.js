import{n as t,a as n,t as r}from"./p-d3105731.js";function a(t){const n=t[0],r=t[1],a=t[2];return Math.sqrt(n*n+r*r+a*a)}function u(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function e(t,n,r,a){return t[0]=n,t[1]=r,t[2]=a,t}function o(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}function c(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function s(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function h(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}function M(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}function f(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function l(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t}function d(t,n){const r=n[0]-t[0],a=n[1]-t[1],u=n[2]-t[2];return Math.sqrt(r*r+a*a+u*u)}function m(t,n){const r=n[0]-t[0],a=n[1]-t[1],u=n[2]-t[2];return r*r+a*a+u*u}function q(t){const n=t[0],r=t[1],a=t[2];return n*n+r*r+a*a}function p(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function v(t,n){const r=n[0],a=n[1],u=n[2];let e=r*r+a*a+u*u;return e>0&&(e=1/Math.sqrt(e),t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e),t}function N(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function _(t,n,r){const a=n[0],u=n[1],e=n[2],o=r[0],c=r[1],s=r[2];return t[0]=u*s-e*c,t[1]=e*o-a*s,t[2]=a*c-u*o,t}function g(t,n,r,a){const u=n[0],e=n[1],o=n[2];return t[0]=u+a*(r[0]-u),t[1]=e+a*(r[1]-e),t[2]=o+a*(r[2]-o),t}function b(t,n,r){const a=n[0],u=n[1],e=n[2];return t[0]=r[0]*a+r[4]*u+r[8]*e+r[12],t[1]=r[1]*a+r[5]*u+r[9]*e+r[13],t[2]=r[2]*a+r[6]*u+r[10]*e+r[14],t}function y(t,n,r){const a=n[0],u=n[1],e=n[2];return t[0]=a*r[0]+u*r[3]+e*r[6],t[1]=a*r[1]+u*r[4]+e*r[7],t[2]=a*r[2]+u*r[5]+e*r[8],t}function A(t,n,r){const a=r[0],u=r[1],e=r[2],o=n[0],c=n[1],s=n[2];let i=u*s-e*c,h=e*o-a*s,M=a*c-u*o,f=u*M-e*h,l=e*i-a*M,d=a*h-u*i;const m=2*r[3];return i*=m,h*=m,M*=m,f*=2,l*=2,d*=2,t[0]=o+i+f,t[1]=c+h+l,t[2]=s+M+d,t}function x(t,n,r,a){const u=[],e=[];return u[0]=n[0]-r[0],u[1]=n[1]-r[1],u[2]=n[2]-r[2],e[0]=u[0]*Math.cos(a)-u[1]*Math.sin(a),e[1]=u[0]*Math.sin(a)+u[1]*Math.cos(a),e[2]=u[2],t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}const D=t(),L=t();function z(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function j(t,r){if(t===r)return!0;const a=t[0],u=t[1],e=t[2],o=r[0],c=r[1],s=r[2];return Math.abs(a-o)<=n*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(u-c)<=n*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(e-s)<=n*Math.max(1,Math.abs(e),Math.abs(s))}function w(t,n,r){const a=r[0]-n[0],u=r[1]-n[1],e=r[2]-n[2];let o=a*a+u*u+e*e;return o>0?(o=1/Math.sqrt(o),t[0]=a*o,t[1]=u*o,t[2]=e*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const E=c,O=d,Q=m,F=a,k=q,B=Object.freeze({__proto__:null,length:a,copy:u,set:e,add:o,subtract:c,multiply:s,divide:i,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},min:h,max:M,round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:f,scaleAndAdd:l,distance:d,squaredDistance:m,squaredLength:q,negate:p,inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:v,dot:N,cross:_,lerp:g,hermite:function(t,n,r,a,u,e){const o=e*e,c=o*(2*e-3)+1,s=o*(e-2)+e,i=o*(e-1),h=o*(3-2*e);return t[0]=n[0]*c+r[0]*s+a[0]*i+u[0]*h,t[1]=n[1]*c+r[1]*s+a[1]*i+u[1]*h,t[2]=n[2]*c+r[2]*s+a[2]*i+u[2]*h,t},bezier:function(t,n,r,a,u,e){const o=1-e,c=o*o,s=e*e,i=c*o,h=3*e*c,M=3*s*o,f=s*e;return t[0]=n[0]*i+r[0]*h+a[0]*M+u[0]*f,t[1]=n[1]*i+r[1]*h+a[1]*M+u[1]*f,t[2]=n[2]*i+r[2]*h+a[2]*M+u[2]*f,t},random:function(t,n){n=n||1;const a=2*r()*Math.PI,u=2*r()-1,e=Math.sqrt(1-u*u)*n;return t[0]=Math.cos(a)*e,t[1]=Math.sin(a)*e,t[2]=u*n,t},transformMat4:b,transformMat3:y,transformQuat:A,rotateX:function(t,n,r,a){const u=[],e=[];return u[0]=n[0]-r[0],u[1]=n[1]-r[1],u[2]=n[2]-r[2],e[0]=u[0],e[1]=u[1]*Math.cos(a)-u[2]*Math.sin(a),e[2]=u[1]*Math.sin(a)+u[2]*Math.cos(a),t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},rotateY:function(t,n,r,a){const u=[],e=[];return u[0]=n[0]-r[0],u[1]=n[1]-r[1],u[2]=n[2]-r[2],e[0]=u[2]*Math.sin(a)+u[0]*Math.cos(a),e[1]=u[1],e[2]=u[2]*Math.cos(a)-u[0]*Math.sin(a),t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},rotateZ:x,angle:function(t,n){u(D,t),u(L,n),v(D,D),v(L,L);const r=N(D,L);return r>1?0:r<-1?Math.PI:Math.acos(r)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:z,equals:j,direction:w,sub:E,mul:s,div:i,dist:O,sqrDist:Q,len:F,sqrLen:k});function C(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function G(t,n,r,a,u){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t}function H(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function I(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function K(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t[3]=n[3]*r[3],t}function P(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t[3]=n[3]/r[3],t}function R(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function U(t,n){const r=n[0]-t[0],a=n[1]-t[1],u=n[2]-t[2],e=n[3]-t[3];return Math.sqrt(r*r+a*a+u*u+e*e)}function V(t,n){const r=n[0]-t[0],a=n[1]-t[1],u=n[2]-t[2],e=n[3]-t[3];return r*r+a*a+u*u+e*e}function W(t){const n=t[0],r=t[1],a=t[2],u=t[3];return Math.sqrt(n*n+r*r+a*a+u*u)}function X(t){const n=t[0],r=t[1],a=t[2],u=t[3];return n*n+r*r+a*a+u*u}function Y(t,n){const r=n[0],a=n[1],u=n[2],e=n[3];let o=r*r+a*a+u*u+e*e;return o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=a*o,t[2]=u*o,t[3]=e*o),t}function Z(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function $(t,n,r,a){const u=n[0],e=n[1],o=n[2],c=n[3];return t[0]=u+a*(r[0]-u),t[1]=e+a*(r[1]-e),t[2]=o+a*(r[2]-o),t[3]=c+a*(r[3]-c),t}function J(t,n,r){const a=n[0],u=n[1],e=n[2],o=n[3];return t[0]=r[0]*a+r[4]*u+r[8]*e+r[12]*o,t[1]=r[1]*a+r[5]*u+r[9]*e+r[13]*o,t[2]=r[2]*a+r[6]*u+r[10]*e+r[14]*o,t[3]=r[3]*a+r[7]*u+r[11]*e+r[15]*o,t}function S(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function T(t,r){const a=t[0],u=t[1],e=t[2],o=t[3],c=r[0],s=r[1],i=r[2],h=r[3];return Math.abs(a-c)<=n*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-s)<=n*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-i)<=n*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-h)<=n*Math.max(1,Math.abs(o),Math.abs(h))}const tt=Object.freeze({__proto__:null,copy:C,set:G,add:H,subtract:I,multiply:K,divide:P,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t[3]=Math.min(n[3],r[3]),t},max:function(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t[3]=Math.max(n[3],r[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:R,scaleAndAdd:function(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t},distance:U,squaredDistance:V,length:W,squaredLength:X,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:Y,dot:Z,lerp:$,random:function(t,n){let a,u,e,o,c,s;n=n||1;do{a=2*r()-1,u=2*r()-1,c=a*a+u*u}while(c>=1);do{e=2*r()-1,o=2*r()-1,s=e*e+o*o}while(s>=1);const i=Math.sqrt((1-c)/s);return t[0]=n*a,t[1]=n*u,t[2]=n*e*i,t[3]=n*o*i,t},transformMat4:J,transformQuat:function(t,n,r){const a=n[0],u=n[1],e=n[2],o=r[0],c=r[1],s=r[2],i=r[3],h=i*a+c*e-s*u,M=i*u+s*a-o*e,f=i*e+o*u-c*a,l=-o*a-c*u-s*e;return t[0]=h*i+l*-o+M*-s-f*-c,t[1]=M*i+l*-c+f*-o-h*-s,t[2]=f*i+l*-s+h*-c-M*-o,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:S,equals:T,sub:I,mul:K,div:P,dist:U,sqrDist:V,len:W,sqrLen:X}),nt=new Float32Array(1);function rt(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function at(t,n,r){return Math.min(Math.max(t,n),r)}function ut(t){return 0==(t&t-1)}function et(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function ot(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))}function ct(t,n,r){return t+(n-t)*r}function st(t){return t*Math.PI/180}function it(t){return 180*t/Math.PI}function ht(t,n=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),n)}function Mt(t){return Math.acos(at(t,-1,1))}function ft(t){return Math.asin(at(t,-1,1))}function lt(t,n,r=1e-6){if(isNaN(t)||isNaN(n))return!1;if(t===n)return!0;const a=Math.abs(t-n),u=Math.abs(t),e=Math.abs(n);if(0===t||0===n||u<1e-12&&e<1e-12){if(a>.01*r)return!1}else if(a/(u+e)>r)return!1;return!0}function dt(t,n,r=1e-6){return!isNaN(t)&&!isNaN(n)&&(t>n?t-n:n-t)<=r}function mt(t){return qt(Math.max(-_t,Math.min(t,_t)))}function qt(t){return nt[0]=t,nt[0]}function pt(t,n,r){const a=at((r-t)/(n-t),0,1);return a*a*(3-2*a)}function vt(t,n){const r=a(t);return e(n,r,ft(t[2]/r),Math.atan2(t[1]/r,t[0]/r)),n}function Nt(t,n,r){return G(t,n[0],n[1],n[2],n[3]*r)}const _t=qt(34028234663852886e22);export{vt as $,H as A,C as B,h as C,M as D,S as E,z as F,j as G,w as H,b as I,E as J,tt as K,y as L,st as M,$ as N,pt as O,A as P,V as Q,s as R,O as S,B as T,ht as U,l as V,ut as W,Q as X,F as Y,k as Z,_,v as a,i as a0,Z as a1,W as a2,X as a3,Y as a4,T as a5,et as a6,x as a7,ot as a8,Nt as a9,ft as b,c,f as d,at as e,J as f,m as g,G as h,q as i,mt as j,ct as k,Mt as l,it as m,R as n,e as o,dt as p,d as q,u as r,a as s,rt as t,o as u,p as v,_t as w,lt as x,g as y,N as z}