import"./p-19bc1e3d.js";import{o as e}from"./p-0bb84768.js";function a(a,t,n="nearest",u=!1){var r;const o=!(u&&"u8"===t.pixelType),i=o?5126:5121,l=null==t.pixels||0===t.pixels.length?null:o?t.getAsRGBAFloat():t.getAsRGBA(),c=null==(r=a.capabilities.textureFloat)?void 0:r.textureFloatLinear;return new e(a,{width:t.width,height:t.height,target:3553,pixelFormat:6408,internalFormat:"webgl2"===a.webglVersion&&o?34836:6408,samplingMode:!c||"bilinear"!==n&&"cubic"!==n?9728:9729,dataType:i,wrapMode:33071,flipped:!1},l)}function t(a,t){const n=4*t.size[0],u=t.size[1],r={width:n,height:u,target:3553,pixelFormat:6408,internalFormat:"webgl2"===a.webglVersion?34836:6408,dataType:5126,samplingMode:9728,wrapMode:33071,flipped:!1},o=new Float32Array(n*u*4);let i=0;for(let e=0;e<t.coefficients.length;e++)o[i++]=t.coefficients[e],e%3==2&&(o[i++]=1);return new e(a,r,o)}function n(a,t){return new e(a,{width:t.length/4,height:1,target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,flipped:!1},t)}function u(e,a,t,n=1,u=!0,r=!1){return{u_flipY:u,u_isFloatTexture:r,u_applyTransform:!!e,u_opacity:n,u_transformSpacing:e?e.spacing:null,u_transformGridSize:e?e.size:null,u_targetImageSize:a,u_srcImageSize:t}}function r(e,a){return{u_colormapOffset:a||0,u_colormapMaxIndex:e?e.length/4-1:null}}function o(e,a){return{u_scale:e,u_offset:a}}function i(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function l(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function c(e,a){const t=e.gl,n=a.glName,u=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=new Map;let o;for(let e=0;e<u;e++)o=t.getActiveUniform(n,e),o&&r.set(o.name,{location:t.getUniformLocation(n,o.name),info:o});return r}function s(e,a,t){Object.keys(t).forEach((n=>{const u=a.get(n)||a.get(n+"[0]");u&&function(e,a,t,n){if(null===n||null==t)return!1;const{info:u}=n;switch(u.type){case 5126:u.size>1?e.setUniform1fv(a,t):e.setUniform1f(a,t);break;case 35664:e.setUniform2fv(a,t);break;case 35665:e.setUniform3fv(a,t);break;case 35666:e.setUniform4fv(a,t);break;case 35675:e.setUniformMatrix3fv(a,t);break;case 35676:e.setUniformMatrix4fv(a,t);break;case 5124:u.size>1?e.setUniform1iv(a,t):e.setUniform1i(a,t);break;case 35670:e.setUniform1i(a,t?1:0);break;case 35667:case 35671:e.setUniform2iv(a,t);break;case 35668:case 35672:e.setUniform3iv(a,t);break;case 35669:case 35673:e.setUniform4iv(a,t);break;default:;}}(e,n,t[n],u)}))}function f(e,a,t,n){t.length===n.length&&(n.some((e=>null==e))||t.some((e=>null==e))||t.forEach(((t,u)=>{a.setUniform1i(t,u),e.bindTexture(n[u],u)})))}export{s as c,l as f,f as g,t as i,i as l,c as m,a as n,u as o,n as r,r as s,o as u}