import{t as n}from"./p-9ae46e68.js";import{aJ as o,a2 as t}from"./p-566b0715.js";function f(f,i,e){if(n(i)||n(e)||e.vcsWkid||t(i,e))return null;const r=o(i)/o(e);if(1===r)return null;switch(f){case"point":case"esriGeometryPoint":return n=>function(n,o){n&&null!=n.z&&(n.z*=o)}(n,r);case"polyline":case"esriGeometryPolyline":return n=>function(n,o){if(n)for(const t of n.paths)for(const n of t)n.length>2&&(n[2]*=o)}(n,r);case"polygon":case"esriGeometryPolygon":return n=>function(n,o){if(n)for(const t of n.rings)for(const n of t)n.length>2&&(n[2]*=o)}(n,r);case"multipoint":case"esriGeometryMultipoint":return n=>function(n,o){if(n)for(const t of n.points)t.length>2&&(t[2]*=o)}(n,r);default:return null}}function i(n,o,t){if(null==n.hasM||n.hasZ)for(const n of o)for(const o of n)o.length>2&&(o[2]*=t)}function e(n,t,f){if(!n&&!t||!f)return;const i=o(f);r(n,f,i),r(t,f,i)}function r(n,o,t){if(n)for(const f of n)s(f.geometry,o,t)}function s(f,e,r){if(n(f)||!f.spatialReference||t(f.spatialReference,e))return;const s=o(f.spatialReference)/r;if(1!==s)if("x"in f)null!=f.z&&(f.z*=s);else if("rings"in f)i(f,f.rings,s);else if("paths"in f)i(f,f.paths,s);else if("points"in f&&(null==f.hasM||f.hasZ))for(const n of f.points)n.length>2&&(n[2]*=s)}export{e as l,f as t}