import{w as e,A as t,am as r,z as n,$ as a}from"./p-4ddfade5.js";import{g as i,c as s}from"./p-e3799f3b.js";import{bE as p,cg as l}from"./p-9ae46e68.js";import{a8 as o}from"./p-566b0715.js";import{w as u,A as c,x as f,O as m,p as j,g as R,h as b}from"./p-0cc8e004.js";import"./p-a184d75f.js";import"./p-023ccb69.js";import"./p-8e03c038.js";import"./p-fe01b82b.js";import"./p-32462343.js";import"./p-4003c7ae.js";import"./p-b2d0e2de.js";import"./p-db87794e.js";import"./p-9dcf03f7.js";import"./p-2a252a78.js";import"./p-dfc6337f.js";import"./p-b74f39e0.js";import"./p-84bf99cb.js";import"./p-5a0fe1d0.js";import"./p-4681e856.js";function S(e){return e instanceof o}function d(n,a,b,d,w){return w(n,a,(function(n,a,w){if(w.length<2)return d(new Error("Missing Parameters"));if(null===(w=e(w))[0]&&null===w[1])return p(!1);if(t(w[0]))return w[1]instanceof o?p(new i({parentfeatureset:w[0],relation:b,relationGeom:w[1]})):null===w[1]?p(new s({parentfeatureset:w[0]})):d("Spatial Relation cannot accept this parameter type");if(S(w[0])){if(S(w[1])){let e=null;switch(b){case"esriSpatialRelEnvelopeIntersects":e=R(r(w[0]),r(w[1]));break;case"esriSpatialRelIntersects":e=R(w[0],w[1]);break;case"esriSpatialRelContains":e=j(w[0],w[1]);break;case"esriSpatialRelOverlaps":e=m(w[0],w[1]);break;case"esriSpatialRelWithin":e=f(w[0],w[1]);break;case"esriSpatialRelTouches":e=c(w[0],w[1]);break;case"esriSpatialRelCrosses":e=u(w[0],w[1])}return null!==e?e:l(new Error("Unrecognised Relationship"))}return t(w[1])?p(new i({parentfeatureset:w[1],relation:b,relationGeom:w[0]})):null===w[1]?p(!1):d("Spatial Relation cannot accept this parameter type")}return null!==w[0]?d("Spatial Relation cannot accept this parameter type"):t(w[1])?p(new s({parentfeatureset:w[1]})):w[1]instanceof o||null===w[1]?p(!1):void 0}))}function w(r){"async"===r.mode&&(r.functions.intersects=function(e,t){return d(e,t,"esriSpatialRelIntersects",r.failDefferred,r.standardFunctionAsync)},r.functions.envelopeintersects=function(e,t){return d(e,t,"esriSpatialRelEnvelopeIntersects",r.failDefferred,r.standardFunctionAsync)},r.signatures.push({name:"envelopeintersects",min:"2",max:"2"}),r.functions.contains=function(e,t){return d(e,t,"esriSpatialRelContains",r.failDefferred,r.standardFunctionAsync)},r.functions.overlaps=function(e,t){return d(e,t,"esriSpatialRelOverlaps",r.failDefferred,r.standardFunctionAsync)},r.functions.within=function(e,t){return d(e,t,"esriSpatialRelWithin",r.failDefferred,r.standardFunctionAsync)},r.functions.touches=function(e,t){return d(e,t,"esriSpatialRelTouches",r.failDefferred,r.standardFunctionAsync)},r.functions.crosses=function(e,t){return d(e,t,"esriSpatialRelCrosses",r.failDefferred,r.standardFunctionAsync)},r.functions.relate=function(i,p){return r.standardFunctionAsync(i,p,(function(r,i,p){if(p=e(p),n(p,3,3),S(p[0])&&S(p[1]))return b(p[0],p[1],a(p[2]));if(p[0]instanceof o&&null===p[1])return!1;if(p[1]instanceof o&&null===p[0])return!1;if(t(p[0])&&null===p[1])return new s({parentfeatureset:p[0]});if(t(p[1])&&null===p[0])return new s({parentfeatureset:p[1]});if(t(p[0])&&p[1]instanceof o)return p[0].relate(p[1],a(p[2]));if(t(p[1])&&p[0]instanceof o)return p[1].relate(p[0],a(p[2]));if(null===p[0]&&null===p[1])return!1;throw new Error("Illegal Argument")}))})}export{w as registerFunctions}