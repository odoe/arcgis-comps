import{c as n,s as t,_ as r,o as e,u as o,d as i,S as s}from"./p-2f398ed1.js";import{n as f}from"./p-d3105731.js";import{s as u}from"./p-3c70d22f.js";import{d as c}from"./p-e6fe5d89.js";import{v as a}from"./p-1c99992b.js";function l(n,t,r){const e=c(n,t),o=c(t,r),i=c(r,n),s=(e+o+i)/2,f=s*(s-e)*(s-o)*(s-i);return f<=0?0:Math.sqrt(f)}function p(e,o,i){return n(w,o,e),n(m,i,e),t(r(w,w,m))/2}new u(a),new u((()=>({p0:null,p1:null,p2:null})));const w=f(),m=f();let y=(()=>{const n=new Uint32Array(131072);for(let t=0;t<n.length;++t)n[t]=t;return n})();const A=new Uint16Array([0]),U=(()=>{const n=new Uint16Array(65536);for(let t=0;t<n.length;++t)n[t]=t;return n})();function d(n){if(1===n)return A;if(n<U.length)return new Uint16Array(U.buffer,0,n);if(n>y.length){const t=Math.max(2*y.length,n);y=new Uint32Array(t);for(let n=0;n<y.length;n++)y[n]=n}return new Uint32Array(y.buffer,0,n)}function j(n){if(1===n)return new Uint16Array(A);if(n<U.length)return new Uint16Array(U.slice(0,n));if(n>y.length){const t=new Uint32Array(n);for(let n=0;n<t.length;n++)t[n]=n;return t}return new Uint32Array(y.slice(0,n))}function z(n,t,r){if(!n)return!1;const{size:s,data:f}=n;e(r,0,0,0),e(k,0,0,0);let u=0,c=0;for(let n=0;n<t.length-2;n+=3){const a=t[n+0]*s,l=t[n+1]*s,w=t[n+2]*s;e(b,f[a+0],f[a+1],f[a+2]),e(x,f[l+0],f[l+1],f[l+2]),e(g,f[w+0],f[w+1],f[w+2]);const m=p(b,x,g);m?(o(b,b,x),o(b,b,g),i(b,b,1/3*m),o(r,r,b),u+=m):(o(k,k,b),o(k,k,x),o(k,k,g),c+=3)}return!(0===c&&0===u||(0!==u?(i(r,r,1/u),0):0===c||(i(r,k,1/c),0)))}function h(n,t,r){if(!n||!t)return!1;const{size:o,data:s}=n;e(r,0,0,0);let f=-1,u=0;for(let n=0;n<t.length;n++){const e=t[n]*o;f!==e&&(r[0]+=s[e+0],r[1]+=s[e+1],r[2]+=s[e+2],u++),f=e}return u>1&&i(r,r,1/u),u>0}function M(n,t,r,f){if(!n)return!1;const{size:u,data:c}=n;e(f,0,0,0),e(k,0,0,0);let a=0,l=0;const p=t?t.length-1:c.length/u-1,w=p+(r?2:0);for(let n=0;n<w;n+=2){const r=n<p?n:p,e=n<p?n+1:0,w=(t?t[r]:r)*u,m=(t?t[e]:e)*u;b[0]=c[w+0],b[1]=c[w+1],b[2]=c[w+2],x[0]=c[m+0],x[1]=c[m+1],x[2]=c[m+2],i(b,o(b,b,x),.5);const y=s(b,x);y>0?(o(f,f,i(b,b,y)),a+=y):(o(k,k,b),l++)}return 0!==a?(i(f,f,1/a),!0):0!==l&&(i(f,k,1/l),!0)}const b=f(),x=f(),g=f(),k=f();export{j as a,l as b,M as g,h,d as l,z as u}