import{a7 as n,al as t,t as r,_ as u,m as e,ae as l,r as o}from"./p-9ae46e68.js";import{a3 as s,a2 as i,a6 as c,E as f,M as a,v as h,b2 as d,b3 as w,a7 as p,b4 as M,b5 as m,b6 as g,b7 as b,b8 as y,b9 as v,ba as P,bb as A,bc as k,bd as x,$ as G,be as I,bf as j,bg as E,bh as R,F as T}from"./p-566b0715.js";import{r as _,c as C,o as F}from"./p-138c2b2c.js";let N,S=null;function U(){return!!S}function Z(){return N||(N=import("./p-80d464d6.js").then((n=>n.p)).then((({default:n})=>n({locateFile:n=>t(`esri/geometry/support/${n}`)}))).then((n=>{X(n)})),N)}var z,D,L;!function(n){function t(n,t,r){S.ensureCache.prepare();const u=tn(r),e=r===u,l=S.ensureFloat64(u),o=S._pe_geog_to_proj(S.getPointer(n),t,l);return o&&rn(r,t,l,e),o}function r(n,t,r){return u(n,t,r,0)}function u(n,t,r,u){S.ensureCache.prepare();const e=tn(r),l=r===e,o=S.ensureFloat64(e),s=S._pe_proj_to_geog_center(S.getPointer(n),t,o,u);return s&&rn(r,t,o,l),s}n.geogToProj=t,n.projGeog=function(n,u,e,l){switch(l){case D.PE_TRANSFORM_P_TO_G:return r(n,u,e);case D.PE_TRANSFORM_G_TO_P:return t(n,u,e)}return 0},n.projToGeog=r,n.projToGeogCenter=u}(z||(z={})),function(n){n.init=function(){n.PE_BUFFER_MAX=S.PeDefs.prototype.PE_BUFFER_MAX,n.PE_NAME_MAX=S.PeDefs.prototype.PE_NAME_MAX,n.PE_MGRS_MAX=S.PeDefs.prototype.PE_MGRS_MAX,n.PE_USNG_MAX=S.PeDefs.prototype.PE_USNG_MAX,n.PE_DD_MAX=S.PeDefs.prototype.PE_DD_MAX,n.PE_DDM_MAX=S.PeDefs.prototype.PE_DDM_MAX,n.PE_DMS_MAX=S.PeDefs.prototype.PE_DMS_MAX,n.PE_UTM_MAX=S.PeDefs.prototype.PE_UTM_MAX,n.PE_PARM_MAX=S.PeDefs.prototype.PE_PARM_MAX,n.PE_TYPE_NONE=S.PeDefs.prototype.PE_TYPE_NONE,n.PE_TYPE_GEOGCS=S.PeDefs.prototype.PE_TYPE_GEOGCS,n.PE_TYPE_PROJCS=S.PeDefs.prototype.PE_TYPE_PROJCS,n.PE_TYPE_GEOGTRAN=S.PeDefs.prototype.PE_TYPE_GEOGTRAN,n.PE_TYPE_COORDSYS=S.PeDefs.prototype.PE_TYPE_COORDSYS,n.PE_TYPE_UNIT=S.PeDefs.prototype.PE_TYPE_UNIT,n.PE_TYPE_LINUNIT=S.PeDefs.prototype.PE_TYPE_LINUNIT,n.PE_STR_OPTS_NONE=S.PeDefs.prototype.PE_STR_OPTS_NONE,n.PE_STR_AUTH_NONE=S.PeDefs.prototype.PE_STR_AUTH_NONE,n.PE_STR_AUTH_TOP=S.PeDefs.prototype.PE_STR_AUTH_TOP,n.PE_STR_NAME_CANON=S.PeDefs.prototype.PE_STR_NAME_CANON,n.PE_PARM_X0=S.PeDefs.prototype.PE_PARM_X0,n.PE_PARM_ND=S.PeDefs.prototype.PE_PARM_ND,n.PE_TRANSFORM_1_TO_2=S.PeDefs.prototype.PE_TRANSFORM_1_TO_2,n.PE_TRANSFORM_2_TO_1=S.PeDefs.prototype.PE_TRANSFORM_2_TO_1,n.PE_TRANSFORM_P_TO_G=S.PeDefs.prototype.PE_TRANSFORM_P_TO_G,n.PE_TRANSFORM_G_TO_P=S.PeDefs.prototype.PE_TRANSFORM_G_TO_P,n.PE_HORIZON_RECT=S.PeDefs.prototype.PE_HORIZON_RECT,n.PE_HORIZON_POLY=S.PeDefs.prototype.PE_HORIZON_POLY,n.PE_HORIZON_LINE=S.PeDefs.prototype.PE_HORIZON_LINE,n.PE_HORIZON_DELTA=S.PeDefs.prototype.PE_HORIZON_DELTA}}(D||(D={})),function(n){const t={},r={},u=n=>{if(n){const t=n.getType();switch(t){case D.PE_TYPE_GEOGCS:n=S.castObject(n,S.PeGeogcs);break;case D.PE_TYPE_PROJCS:n=S.castObject(n,S.PeProjcs);break;case D.PE_TYPE_GEOGTRAN:n=S.castObject(n,S.PeGeogtran);break;default:t&D.PE_TYPE_UNIT&&(n=S.castObject(n,S.PeUnit))}}return n};function e(n,r){let e=null,l=t[n];if(l||(l={},t[n]=l),l.hasOwnProperty(String(r)))e=l[r];else{const t=S.PeFactory.prototype.factoryByType(n,r);S.compare(t,S.NULL)||(e=t,l[r]=e)}return e=u(e),e}n.initialize=function(){S.PeFactory.prototype.initialize(null)},n.coordsys=function(n){return e(D.PE_TYPE_COORDSYS,n)},n.factoryByType=e,n.fromString=function(n,t){let e=null,l=r[n];if(l||(l={},r[n]=l),l.hasOwnProperty(t))e=l[t];else{const r=S.PeFactory.prototype.fromString(n,t);S.compare(r,S.NULL)||(e=r,l[t]=e)}return e=u(e),e},n.geogcs=function(n){return e(D.PE_TYPE_GEOGCS,n)},n.geogtran=function(n){return e(D.PE_TYPE_GEOGTRAN,n)},n.getCode=function(n){return S.PeFactory.prototype.getCode(n)},n.projcs=function(n){return e(D.PE_TYPE_PROJCS,n)},n.unit=function(n){return e(D.PE_TYPE_UNIT,n)}}(L||(L={}));let $=null;var K,O,V,q,B,H,J,Q,W;function X(n){function t(n,t,r){n[t]=r(n[t])}S=n,D.init(),K.init(),B.init(),J.init(),Q.init(),$=class extends S.PeGCSExtent{destroy(){S.destroy(this)}};const r=[S.PeDatum,S.PeGeogcs,S.PeGeogtran,S.PeObject,S.PeParameter,S.PePrimem,S.PeProjcs,S.PeSpheroid,S.PeUnit];for(const n of r)t(n.prototype,"getName",(n=>function(){return n.call(this,new Array(D.PE_NAME_MAX))}));for(const n of[S.PeGeogtran,S.PeProjcs])t(n.prototype,"getParameters",(n=>function(){const t=new Array(D.PE_PARM_MAX);let r=n.call(this);for(let n=0;n<t.length;n++){const u=S.getValue(r,"*");t[n]=u?S.wrapPointer(u,S.PeParameter):null,r+=Int32Array.BYTES_PER_ELEMENT}return t}));t(S.PeHorizon.prototype,"getCoord",(n=>function(){const t=this.getSize();if(!t)return null;const r=[];return rn(r,t,n.call(this)),r})),t(S.PeGTlistExtendedEntry.prototype,"getEntries",(n=>{const t=S._pe_getPeGTlistExtendedGTsSize();return function(){let r=null;const u=n.call(this);if(!S.compare(u,S.NULL)){r=[u];const n=this.getSteps();if(n>1){const e=S.getPointer(u);for(let u=1;u<n;u++)r.push(S.wrapPointer(e+t*u,S.PeGTlistExtendedGTs))}}return r}}));const u=S._pe_getPeHorizonSize(),e=n=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(n))return t.get(n);let r=null;const e=n.call(this);if(!S.compare(e,S.NULL)){r=[e];const n=e.getNump();if(n>1){const t=S.getPointer(e);for(let e=1;e<n;e++)r.push(S.wrapPointer(t+u*e,S.PeHorizon))}}return t.set(n,r),r};t(S.PeProjcs.prototype,"horizonGcsGenerate",e),t(S.PeProjcs.prototype,"horizonPcsGenerate",e),S.PeObject.prototype.toString=function(n=D.PE_STR_OPTS_NONE){S.ensureCache.prepare();const t=S.getPointer(this),r=S.ensureInt8(new Array(D.PE_BUFFER_MAX));return S.UTF8ToString(S._pe_object_to_string_ext(t,n,r))}}function Y(n){if(!n)return;const t=S.getClass(n);if(!t)return;const r=S.getCache(t);if(!r)return;const u=S.getPointer(n);u&&delete r[u]}function nn(n,t){const r=[],u=new Array(t);for(let t=0;t<n;t++)r.push(S.ensureInt8(u));return r}function tn(n){let t;return Array.isArray(n[0])?(t=[],n.forEach((n=>{t.push(n[0],n[1])}))):t=n,t}function rn(n,t,r,u=!1){if(u)for(let u=0;u<2*t;u++)n[u]=S.getValue(r+u*Float64Array.BYTES_PER_ELEMENT,"double");else{const u=0===n.length;for(let e=0;e<t;e++)u&&(n[e]=new Array(2)),n[e][0]=S.getValue(r,"double"),n[e][1]=S.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}!function(n){let t;n.init=function(){n.PE_GTLIST_OPTS_COMMON=S.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=S._pe_getPeGTlistExtendedEntrySize()},n.getGTlist=function(n,r,u,e,l,o){let s=null;const i=new S.PeInteger(o);try{const c=S.PeGTlistExtended.prototype.getGTlist(n,r,u,e,l,i);if((o=i.val)&&(s=[c],o>1)){const n=S.getPointer(c);for(let r=1;r<o;r++)s.push(S.wrapPointer(n+t*r,S.PeGTlistExtendedEntry))}}finally{S.destroy(i)}return s}}(K||(K={})),(O||(O={})).destroy=function(n){if(n&&n.length){for(const t of n)Y(t),t.getEntries().forEach((n=>{Y(n);const t=n.getGeogtran();Y(t),t.getParameters().forEach(Y),[t.getGeogcs1(),t.getGeogcs2()].forEach((n=>{Y(n);const t=n.getDatum();Y(t),Y(t.getSpheroid()),Y(n.getPrimem()),Y(n.getUnit())}))}));S.PeGTlistExtendedEntry.prototype.Delete(n[0])}},(V||(V={})).geogToGeog=function(n,t,r,u,e){S.ensureCache.prepare();const l=tn(r),o=r===l,s=S.ensureFloat64(l);let i=0;u&&(i=S.ensureFloat64(u));const c=S._pe_geog_to_geog(S.getPointer(n),t,s,i,e);return c&&rn(r,t,s,o),c},function(n){const t=(n,t,r,u,e,l)=>{let o,s;switch(S.ensureCache.prepare(),n){case"dd":o=S._pe_geog_to_dd,s=D.PE_DD_MAX;break;case"ddm":o=S._pe_geog_to_ddm,s=D.PE_DDM_MAX;break;case"dms":o=S._pe_geog_to_dms,s=D.PE_DMS_MAX}let i=0;t&&(i=S.getPointer(t));const c=tn(u),f=S.ensureFloat64(c),a=nn(r,s),h=o(i,r,f,e,S.ensureInt32(a));if(h)for(let n=0;n<r;n++)l[n]=S.UTF8ToString(a[n]);return h},r=(n,t,r,u,e)=>{let l;switch(S.ensureCache.prepare(),n){case"dd":l=S._pe_dd_to_geog;break;case"ddm":l=S._pe_ddm_to_geog;break;case"dms":l=S._pe_dms_to_geog}let o=0;t&&(o=S.getPointer(t));const s=u.map((n=>S.ensureString(n))),i=S.ensureInt32(s),c=S.ensureFloat64(new Array(2*r)),f=l(o,r,i,c);return f&&rn(e,r,c),f};n.geog_to_dms=function(n,r,u,e,l){return t("dms",n,r,u,e,l)},n.dms_to_geog=function(n,t,u,e){return r("dms",n,t,u,e)},n.geog_to_ddm=function(n,r,u,e,l){return t("ddm",n,r,u,e,l)},n.ddm_to_geog=function(n,t,u,e){return r("ddm",n,t,u,e)},n.geog_to_dd=function(n,r,u,e,l){return t("dd",n,r,u,e,l)},n.dd_to_geog=function(n,t,u,e){return r("dd",n,t,u,e)}}(q||(q={})),function(n){n.init=function(){n.PE_MGRS_STYLE_NEW=S.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,n.PE_MGRS_STYLE_OLD=S.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,n.PE_MGRS_STYLE_AUTO=S.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,n.PE_MGRS_180_ZONE_1_PLUS=S.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,n.PE_MGRS_ADD_SPACES=S.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},n.geog_to_mgrs_extended=function(n,t,r,u,e,l,o){S.ensureCache.prepare();let s=0;n&&(s=S.getPointer(n));const i=tn(r),c=S.ensureFloat64(i),f=nn(t,D.PE_MGRS_MAX),a=S.ensureInt32(f),h=S._pe_geog_to_mgrs_extended(s,t,c,u,e,l,a);if(h)for(let n=0;n<t;n++)o[n]=S.UTF8ToString(f[n]);return h},n.mgrs_to_geog_extended=function(n,t,r,u,e){S.ensureCache.prepare();let l=0;n&&(l=S.getPointer(n));const o=r.map((n=>S.ensureString(n))),s=S.ensureInt32(o),i=S.ensureFloat64(new Array(2*t)),c=S._pe_mgrs_to_geog_extended(l,t,s,u,i);return c&&rn(e,t,i),c}}(B||(B={})),function(n){n.geog_to_usng=function(n,t,r,u,e,l,o){S.ensureCache.prepare();let s=0;n&&(s=S.getPointer(n));const i=tn(r),c=S.ensureFloat64(i),f=nn(t,D.PE_MGRS_MAX),a=S.ensureInt32(f),h=S._pe_geog_to_usng(s,t,c,u,e,l,a);if(h)for(let n=0;n<t;n++)o[n]=S.UTF8ToString(f[n]);return h},n.usng_to_geog=function(n,t,r,u){S.ensureCache.prepare();let e=0;n&&(e=S.getPointer(n));const l=r.map((n=>S.ensureString(n))),o=S.ensureInt32(l),s=S.ensureFloat64(new Array(2*t)),i=S._pe_usng_to_geog(e,t,o,s);return i&&rn(u,t,s),i}}(H||(H={})),function(n){n.init=function(){n.PE_UTM_OPTS_NONE=S.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,n.PE_UTM_OPTS_ADD_SPACES=S.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,n.PE_UTM_OPTS_NS=S.PeNotationUtm.prototype.PE_UTM_OPTS_NS},n.geog_to_utm=function(n,t,r,u,e){S.ensureCache.prepare();let l=0;n&&(l=S.getPointer(n));const o=tn(r),s=S.ensureFloat64(o),i=nn(t,D.PE_UTM_MAX),c=S.ensureInt32(i),f=S._pe_geog_to_utm(l,t,s,u,c);if(f)for(let n=0;n<t;n++)e[n]=S.UTF8ToString(i[n]);return f},n.utm_to_geog=function(n,t,r,u,e){S.ensureCache.prepare();let l=0;n&&(l=S.getPointer(n));const o=r.map((n=>S.ensureString(n))),s=S.ensureInt32(o),i=S.ensureFloat64(new Array(2*t)),c=S._pe_utm_to_geog(l,t,s,u,i);return c&&rn(e,t,i),c}}(J||(J={})),function(n){const t=new Map;n.init=function(){n.PE_PCSINFO_OPTION_NONE=S.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,n.PE_PCSINFO_OPTION_DOMAIN=S.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,n.PE_POLE_OUTSIDE_BOUNDARY=S.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,n.PE_POLE_POINT=S.PePCSInfo.prototype.PE_POLE_POINT},n.generate=function(r,u=n.PE_PCSINFO_OPTION_DOMAIN){let e,l;return t.has(r)&&(l=t.get(r),l[u]&&(e=l[u])),e||(e=S.PePCSInfo.prototype.generate(r,u),l||(l=[],t.set(r,l)),l[u]=e),e}}(Q||(Q={})),(W||(W={})).version_string=function(){return S.PeVersion.prototype.version_string()};const un=Object.freeze({__proto__:null,get _pe(){return S},isLoaded:U,isSupported:function(){return!!n("esri-wasm")},load:Z,get PeCSTransformations(){return z},get PeDefs(){return D},get PeFactory(){return L},get PeGCSExtent(){return $},get PeGTlistExtended(){return K},get PeGTlistExtendedEntry(){return O},get PeGTTransformations(){return V},get PeNotationDms(){return q},get PeNotationMgrs(){return B},get PeNotationUsng(){return H},get PeNotationUtm(){return J},get PePCSInfo(){return Q},get PeVersion(){return W},_init:X}),en=s.radius,ln=s.eccentricitySquared,on={a1:en*ln,a2:en*ln*en*ln,a3:en*ln*ln/2,a4:en*ln*en*ln*2.5,a5:en*ln+en*ln*ln/2,a6:1-ln};let sn=0;class cn{constructor(n=null){this.uid=sn++,n?(this._wkt=void 0!==n.wkt?n.wkt:null,this._wkid=void 0!==n.wkid?n.wkid:-1,this._isInverse=void 0!==n.isInverse&&!0===n.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(n){const t=new cn;return t._wkt=n.wkt,t._wkid=n.wkid,t._isInverse=n.isInverse,t}get wkt(){return this._wkt}set wkt(n){this._wkt=n,this.uid=sn++}get wkid(){return this._wkid}set wkid(n){this._wkid=n,this.uid=sn++}get isInverse(){return this._isInverse}set isInverse(n){this._isInverse=n,this.uid=sn++}getInverse(){const n=new cn;return n._wkt=this.wkt,n._wkid=this._wkid,n._isInverse=!this.isInverse,n}}class fn{constructor(n){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,n&&n.steps)for(const t of n.steps)this.steps.push(t instanceof cn?t:new cn({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}static cacheKey(n,t){return[null!=n.wkid?n.wkid.toString():"-1",null!=n.wkt?n.wkt.toString():"",null!=t.wkid?t.wkid.toString():"-1",null!=t.wkt?t.wkt.toString():""].join(",")}static fromGE(n){const t=new fn;let r="";for(const u of n.steps){const n=cn.fromGE(u);t.steps.push(n),r+=n.uid.toString()+","}return t._cached_projection={},t._gtlistentry=null,t._chain=r,t}getInverse(){const n=new fn;n.steps=[];for(let t=this.steps.length-1;t>=0;t--)n.steps.push(this.steps[t].getInverse());return n}getGTListEntry(){let n="";for(const t of this.steps)n+=t.uid.toString()+",";return n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n),this._gtlistentry}assignCachedGe(n,t,r){this._cached_projection[fn.cacheKey(n,t)]=r}getCachedGeTransformation(n,t){let r="";for(const n of this.steps)r+=n.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=r);const u=this._cached_projection[fn.cacheKey(n,t)];return void 0===u?null:u}}let an=null,hn=null,dn=null,wn={};function pn(){return!!an&&U()}function Mn(n){return r(dn)&&(dn=Promise.all([Z(),import("./p-27823887.js").then((n=>n.g)),import("./p-6bb3815f.js")])),dn.then((([,t,{hydratedAdapter:r}])=>{l(n),hn=r,an=t.default,an._enableProjection(un)}))}function mn(n,t,r=null){return Array.isArray(n)?0===n.length?[]:gn(hn,n,n[0].spatialReference,t,r):gn(hn,[n],n.spatialReference,t,r)[0]}function gn(n,t,e,l,o=null){if(r(e)||r(l))return t;if(vn(e,l,o))return t.map((n=>u(function(n,t,r){return n?"x"in n?function(n,t,r,u){st[0]=n.x,st[1]=n.y;const e=n.z;return st[2]=void 0!==e?e:0,In(st,t,0,st,u,0,1)?(r.x=st[0],r.y=st[1],r.spatialReference=u,void 0===e?(r.z=void 0,r.hasZ=!1):(r.z=st[2],r.hasZ=!0),void 0===n.m?(r.m=void 0,r.hasM=!1):(r.m=n.m,r.hasM=!0),r):null}(n,t,new f,r):"xmin"in n?function(n,t,r,u){const{xmin:e,ymin:l,xmax:o,ymax:s,hasZ:i,hasM:c}=n;return Gn(e,l,i?n.zmin:0,t,st,u)?(r.xmin=st[0],r.ymin=st[1],i&&(r.zmin=st[2]),Gn(o,s,i?n.zmax:0,t,st,u)?(r.xmax=st[0],r.ymax=st[1],i&&(r.zmax=st[2]),c&&(r.mmin=n.mmin,r.mmax=n.mmax),r.spatialReference=u,r):null):null}(n,t,new a,r):"rings"in n?kn(n,t,new h,r,0):"paths"in n?function(n,t,r,u){const{paths:e,hasZ:l,hasM:o}=n,s=[];return jn(e,l,o,t,s,u,0)?(r.paths=s,r.spatialReference=u,r.hasZ=l,r.hasM=o,r):null}(n,t,new d,r):"points"in n?function(n,t,r,u){const{points:e,hasZ:l,hasM:o}=n,s=[],i=e.length,c=[];for(const n of e)c.push(n[0],n[1],l?n[2]:0);if(!In(c,t,0,c,u,0,i))return null;for(let n=0;n<i;++n){const t=3*n,r=c[t],u=c[t+1];s.push(l&&o?[r,u,c[t+2],e[n][3]]:l?[r,u,c[t+2]]:o?[r,u,e[n][2]]:[r,u])}return r.points=s,r.spatialReference=u,r.hasZ=l,r.hasM=o,r}(n,t,new w,r):null:null}(n,e,l))));if(r(o)){const n=fn.cacheKey(e,l);void 0!==wn[n]?o=wn[n]:(o=bn(e,l,null),r(o)&&(o=new fn),wn[n]=o)}if(r(an))throw new yn;return an._project(n,t,e,l,o)}function bn(n,t,u=null){if(r(an))throw new yn;if(r(n)||r(t))return null;const e=an._getTransformation(hn,n,t,u,null==u?void 0:u.spatialReference);return null!==e?fn.fromGE(e):null}class yn extends e{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function vn(n,t,r){return!r&&(!!i(n,t)||c(n)&&c(t)&&!!Wn(n,t,tt))}async function Pn(n,t,r,u){if(!pn())if(Array.isArray(n)){for(const{source:t,dest:r,geographicTransformation:e}of n)if(!vn(t,r,e))return Mn(u)}else if(!vn(n,t,r))return Mn(u)}function An(n,t,r=t.spatialReference,u=0){return o(r)&&o(kn(n,n.spatialReference,t,r,u))}function kn(n,t,r,u,e){const{rings:l,hasZ:o,hasM:s}=n,i=[];return jn(l,o,s,t,i,u,e)?(r.rings=i,r.spatialReference=u,r.hasZ=o,r.hasM=s,r):null}function xn(n,t,r,u=0){st[0]=n.x,st[1]=n.y;const e=n.z;return st[2]=void 0!==e?e:u,In(st,n.spatialReference,0,t,r,0,1)}function Gn(n,t,r,u,e,l){return et[0]=n,et[1]=t,et[2]=r,In(et,u,0,e,l,0,1)}function In(n,t,u,e,l,o,s=1){const i=Wn(t,l,tt);if(r(i))return!1;if(i===Cn){if(n===e&&u===o)return!0;const t=u+3*s;for(let r=u,l=o;r<t;r++,l++)e[l]=n[r];return!0}const c=u+3*s;for(let t=u,r=o;t<c;t+=3,r+=3)i(n,t,e,r);return!0}function jn(n,t,r,u,e,l,o=0){const s=new Array;for(const r of n)for(const n of r)s.push(n[0],n[1],t?n[2]:o);if(!In(s,u,0,s,l,0,s.length/3))return!1;let i=0;e.length=0;for(const u of n){const n=new Array;for(const e of u)t&&r?n.push([s[i++],s[i++],s[i++],e[3]]):t?n.push([s[i++],s[i++],s[i++]]):r?(n.push([s[i++],s[i++],e[2]]),i++):(n.push([s[i++],s[i++]]),i++);e.push(n)}return!0}function En(n,t,u,e){if(r(n)||r(e))return!1;const l=_n(n,Yn),o=_n(e,nt);if(l===o&&!Rn(o)&&(0!==l||i(n,e)))return _(u),C(u,u,t),!0;if(Rn(o)){const n=Qn[l][11],e=Qn[11][o];return!r(n)&&!r(e)&&(n(t,0,lt,0),e(lt,0,ot,0),Tn(rt*lt[0],rt*lt[1],u),u[12]=ot[0],u[13]=ot[1],u[14]=ot[2],!0)}if(!(3!==o&&12!==o||2!==l&&1!==l&&3!==l)){const n=Qn[l][11],e=Qn[11][o];return!r(n)&&!r(e)&&(n(t,0,lt,0),e(lt,0,ot,0),1===l?function(n,t,r){Tn(rt*lt[0],rt*lt[1],r),F(r,r)}(0,0,u):_(u),u[12]=ot[0],u[13]=ot[1],u[14]=ot[2],!0)}return!1}function Rn(n){return 1===n||7===n||9===n}function Tn(n,t,r){const u=Math.sin(n),e=Math.cos(n),l=Math.sin(t),o=Math.cos(t),s=r;return s[0]=-u,s[4]=-l*e,s[8]=o*e,s[12]=0,s[1]=e,s[5]=-l*u,s[9]=o*u,s[13]=0,s[2]=0,s[6]=o,s[10]=l,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function _n(n,t){return t.spatialReference===n?t.spatialReferenceId:(t.spatialReference=n,"metersPerUnit"in t&&(t.metersPerUnit=p(n,1)),t.spatialReferenceId=n.wkt===M.wkt?1:m(n)?2:g(n)?3:b(n)?12:n.wkt===y.wkt?4:4490===n.wkid?5:n.wkt===v.wkt?7:n.wkt===P.wkt?9:A(n)?8:k(n)?10:0)}function Cn(n,t,r,u){n!==r&&(r[u++]=n[t++],r[u++]=n[t++],r[u]=n[t])}function Fn(n,t,r,u){r[u++]=ut*(n[t++]/s.radius),r[u++]=ut*(Math.PI/2-2*Math.atan(Math.exp(-n[t++]/s.radius))),r[u]=n[t]}function Nn(n,t,r,u){!function(n,t,r,u,e){const l=.4999999*Math.PI,o=T(rt*n[t+1],-l,l),s=Math.sin(o);r[u++]=rt*n[t]*e.radius,r[u++]=e.halfSemiMajorAxis*Math.log((1+s)/(1-s)),r[u]=n[t+2]}(n,t,r,u,s)}const Sn=s.radius*Math.PI/180,Un=180/(s.radius*Math.PI);function Zn(n,t,r,u){r[u]=n[t]*Sn,r[u+1]=n[t+1]*Sn,r[u+2]=n[t+2]}function zn(n,t,r,u){r[u]=n[t]*Un,r[u+1]=n[t+1]*Un,r[u+2]=n[t+2]}function Dn(n,t,r,u,e){const l=e+n[t+2],o=rt*n[t+1],s=rt*n[t],i=Math.cos(o);r[u++]=Math.cos(s)*i*l,r[u++]=Math.sin(s)*i*l,r[u]=Math.sin(o)*l}function Ln(n,t,r,u){Dn(n,t,r,u,I.radius)}function $n(n,t,r,u){Dn(n,t,r,u,j.radius)}function Kn(n,t,r,u){Dn(n,t,r,u,s.radius)}function On(n,t,r,u,e){const l=n[t],o=n[t+1],s=n[t+2],i=Math.sqrt(l*l+o*o+s*s),c=R(s/(0===i?1:i)),f=Math.atan2(o,l);r[u++]=ut*f,r[u++]=ut*c,r[u]=i-e}function Vn(n,t,r,u){On(n,t,r,u,I.radius)}function qn(n,t,r,u){On(n,t,r,u,j.radius)}function Bn(n,t,r,u){On(n,t,r,u,s.radius)}function Hn(n,t,r,u){!function(n,t,r,u,e){const l=rt*n[t],o=rt*n[t+1],s=n[t+2],i=Math.sin(o),c=Math.cos(o),f=e.radius/Math.sqrt(1-e.eccentricitySquared*i*i);r[u++]=(f+s)*c*Math.cos(l),r[u++]=(f+s)*c*Math.sin(l),r[u++]=(f*(1-e.eccentricitySquared)+s)*i}(n,t,r,u,s)}function Jn(n,t,r,u){const e=on,l=n[t],o=n[t+1],i=n[t+2];let c,f,a,h,d,w,p,M,m,g,b,y,v,P,A,k,x,G,I,j,E;c=Math.abs(i),f=l*l+o*o,a=Math.sqrt(f),h=f+i*i,d=Math.sqrt(h),j=Math.atan2(o,l),w=i*i/h,p=f/h,P=e.a2/d,A=e.a3-e.a4/d,p>.3?(M=c/d*(1+p*(e.a1+P+w*A)/d),I=Math.asin(M),g=M*M,m=Math.sqrt(1-g)):(m=a/d*(1-w*(e.a5-P-p*A)/d),I=Math.acos(m),g=1-m*m,M=Math.sqrt(g)),b=1-s.eccentricitySquared*g,y=s.radius/Math.sqrt(b),v=e.a6*y,P=a-y*m,A=c-v*M,x=m*P+M*A,k=m*A-M*P,G=k/(v/b+x),I+=G,E=x+k*G/2,i<0&&(I=-I),r[u++]=ut*j,r[u++]=ut*I,r[u]=E}const Qn={2:{5:null,8:null,10:null,11:Cn,6:Cn,1:Kn,7:null,9:null,0:null,3:Nn,12:Zn,2:Cn,4:Hn},5:{5:Cn,8:null,10:null,11:Cn,6:Cn,1:Kn,7:null,9:null,0:null,3:null,12:Zn,2:null,4:Hn},8:{5:null,8:Cn,10:null,11:Cn,6:null,1:null,7:$n,9:null,0:null,3:null,12:null,2:null,4:null},10:{5:null,8:null,10:Cn,11:Cn,6:null,1:null,7:null,9:Ln,0:null,3:null,12:null,2:null,4:null},3:{5:null,8:null,10:null,11:Fn,6:Fn,1:function(n,t,r,u){Fn(n,t,r,u),Kn(r,u,r,u)},7:null,9:null,0:null,3:Cn,12:function(n,t,r,u){Fn(n,t,r,u),Zn(r,u,r,u)},2:Fn,4:function(n,t,r,u){Fn(n,t,r,u),Hn(r,u,r,u)}},4:{5:Jn,8:null,10:null,11:Jn,6:Jn,1:function(n,t,r,u){Jn(n,t,r,u),Kn(r,u,r,u)},7:null,9:null,0:null,3:function(n,t,r,u){Jn(n,t,r,u),Nn(r,u,r,u)},12:function(n,t,r,u){Jn(n,t,r,u),Zn(r,u,r,u)},2:Jn,4:Cn},1:{5:Bn,8:null,10:null,11:Bn,6:Bn,1:Cn,7:null,9:null,0:null,3:function(n,t,r,u){Bn(n,t,r,u),Nn(r,u,r,u)},12:function(n,t,r,u){Bn(n,t,r,u),Zn(r,u,r,u)},2:Bn,4:function(n,t,r,u){Bn(n,t,r,u),Hn(r,u,r,u)}},7:{5:null,8:qn,10:null,11:qn,6:null,1:null,7:Cn,9:null,0:null,3:null,12:null,2:null,4:null},9:{5:null,8:null,10:Vn,11:Vn,6:null,1:null,7:null,9:Cn,0:null,3:null,12:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:Cn,3:null,12:null,2:null,4:null},11:{5:Cn,8:Cn,10:Cn,11:Cn,6:Cn,1:Kn,7:$n,9:Ln,0:null,3:Nn,12:Zn,2:Cn,4:Hn},6:{5:null,8:null,10:null,11:Cn,6:Cn,1:Kn,7:null,9:null,0:null,3:null,12:Zn,2:Cn,4:Hn},12:{5:zn,8:null,10:null,11:zn,6:zn,1:function(n,t,r,u){zn(n,t,r,u),Kn(r,u,r,u)},7:null,9:null,0:null,3:function(n,t,r,u){zn(n,t,r,u),Nn(r,u,r,u)},12:Cn,2:zn,4:function(n,t,r,u){zn(n,t,r,u),Hn(r,u,r,u)}}};function Wn(n,t,u=Xn()){return r(n)||r(t)?null:function(n,t,u){if(r(n)||r(t)||u.source.spatialReference===n&&u.dest.spatialReference===t)return u;const e=_n(n,u.source),l=_n(t,u.dest);return u.projector=0===e&&0===l?i(n,t)?Cn:null:Qn[e][l],u}(n,t,u).projector}function Xn(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Cn}}const Yn={spatialReference:null,spatialReferenceId:0},nt={spatialReference:null,spatialReferenceId:0},tt=Xn(),rt=E(1),ut=G(1),et=x(),lt=x(),ot=x(),st=x();export{pn as H,Mn as J,mn as O,gn as Q,bn as Y,An as h,Pn as r,fn as s,vn as t,En as v,xn as w,In as x}