import{cv as n,cz as t,cy as r,cw as u,cx as e,W as o,g as c}from"./p-7b6f6c18.js";const l=(n,t,r)=>[t,r],f=(n,t,r)=>[t,r,n[2]],s=(n,t,r)=>[t,r,n[2],n[3]];function i(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:o(n.extent)?[n.extent.xmin,n.extent.ymax]:[0,0]}:null}function a({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function p({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function w(n,t,r){const u=[];let e,o,c,l;for(let f=0;f<r.length;f++){const s=r[f];f>0?(c=a(n,s[0]),l=p(n,s[1]),c===e&&l===o||(u.push(t(s,c-e,l-o)),e=c,o=l)):(e=a(n,s[0]),o=p(n,s[1]),u.push(t(s,e,o)))}return u.length>0?u:null}function y({scale:n,translate:t},r){return r*n[0]+t[0]}function g({scale:n,translate:t},r){return t[1]-r*n[1]}function h(n,t,r){const u=new Array(r.length);if(!r.length)return u;const[e,o]=n.scale;let c=y(n,r[0][0]),l=g(n,r[0][1]);u[0]=t(r[0],c,l);for(let n=1;n<r.length;n++){const f=r[n];c+=f[0]*e,l-=f[1]*o,u[n]=t(f,c,l)}return u}function m(n,t,r){const u=new Array(r.length);for(let e=0;e<r.length;e++)u[e]=h(n,t,r[e]);return u}function x(n,t,r,u,e){return t.x=a(n,r.x),t.y=p(n,r.y),t!==r&&(u&&(t.z=r.z),e&&(t.m=r.m)),t}function A(o,c){return o&&c?n(c)?x(o,{},c,!1,!1):t(c)?function(n,t,r,u,e){const o=function(n,t,r,u){const e=[],o=r?u?s:f:u?f:l;for(let r=0;r<t.length;r++){const u=w(n,o,t[r]);u&&u.length>=2&&e.push(u)}return e.length?e:null}(n,r.paths,u,e);return o?(t.paths=o,t):null}(o,{},c,!1,!1):r(c)?function(n,t,r,u,e){const o=function(n,t,r,u){const e=[],o=r?u?s:f:u?f:l;for(let r=0;r<t.length;r++){const u=w(n,o,t[r]);u&&u.length>=3&&e.push(u)}return e.length?e:null}(n,r.rings,u,e);return o?(t.rings=o,t):null}(o,{},c,!1,!1):u(c)?function(n,t,r,u,e){return t.points=function(n,t,r,u){return w(n,r?u?s:f:u?f:l,t)}(n,r.points,u,e),t}(o,{},c,!1,!1):e(c)?function(n,t,r){return t.xmin=a(n,r.xmin),t.ymin=p(n,r.ymin),t.xmax=a(n,r.xmax),t.ymax=p(n,r.ymax),t}(o,{},c):null:null}function L(n,t,r,u,e){return o(r)&&(t.points=function(n,t,r,u){return h(n,r?u?s:f:u?f:l,t)}(n,r.points,u,e)),t}function M(n,t,r,u,e){return c(r)||(t.x=y(n,r.x),t.y=g(n,r.y),t!==r&&(u&&(t.z=r.z),e&&(t.m=r.m))),t}function b(n,t,r,u,e){return o(r)&&(t.rings=function(n,t,r,u){return m(n,r?u?s:f:u?f:l,t)}(n,r.rings,u,e)),t}function j(n,t,r,u,e){return o(r)&&(t.paths=function(n,t,r,u){return m(n,r?u?s:f:u?f:l,t)}(n,r.paths,u,e)),t}export{b as B,j as C,x as O,A as U,L as q,i as s,M as v}