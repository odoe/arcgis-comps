import{v as e,e as t,d as s,c as i,i as r,bb as n,H as o,o as l,ad as a,b2 as u}from"./p-9ae46e68.js";import{l as d,P as h,N as p}from"./p-94f8dc11.js";import c from"./p-4fcbc3c5.js";import{D as y,ap as b,Y as m,ai as v,f as w,aj as f}from"./p-566b0715.js";import{v as g,p as j}from"./p-bb07d873.js";import{a as S}from"./p-fe01b82b.js";var x;const N=e.getLogger("esri.renderers.support.AttributeColorInfo");let H=x=class extends S{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(N.error(".field: field must be a string value"),null):n(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new x({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};t([s({type:y,json:{type:[Number],write:!0}})],H.prototype,"color",void 0),t([s({type:String,json:{write:!0}})],H.prototype,"field",void 0),t([i("field")],H.prototype,"castField",null),t([s({type:String,json:{write:!0}})],H.prototype,"label",void 0),t([s({type:String,json:{write:!0}})],H.prototype,"valueExpression",void 0),t([s({type:String,json:{write:!0}})],H.prototype,"valueExpressionTitle",void 0),H=x=t([r("esri.renderers.support.AttributeColorInfo")],H);const R=H;var q;let D=q=class extends S{constructor(){super(...arguments),this.unit=null}clone(){return new q({unit:this.unit})}};t([s({type:String,json:{write:!0}})],D.prototype,"unit",void 0),D=q=t([r("esri.renderers.support.DotDensityLegendOptions")],D);const O=D;var V;let A=V=class extends(g(j)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new y([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new b,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new m({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new V({attributes:o(this.attributes),backgroundColor:o(this.backgroundColor),dotBlendingEnabled:o(this.dotBlendingEnabled),dotShape:o(this.dotShape),dotSize:o(this.dotSize),dotValue:o(this.dotValue),legendOptions:o(this.legendOptions),outline:o(this.outline),referenceScale:o(this.referenceScale),visualVariables:o(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||""))}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const s of this.attributes)s.valueExpression&&await v(e,t,s.valueExpression),s.field&&e.add(s.field)}};t([s({type:[R],json:{write:!0}})],A.prototype,"attributes",void 0),t([s({type:y,json:{write:!0}})],A.prototype,"backgroundColor",void 0),t([s({type:Boolean}),l("dotBlendingEnabled")],A.prototype,"blendDots",void 0),t([s({type:Boolean,json:{write:!0}})],A.prototype,"dotBlendingEnabled",void 0),t([s({type:String,json:{write:!1}})],A.prototype,"dotShape",void 0),t([s({type:Number,json:{write:!1}})],A.prototype,"dotSize",void 0),t([s({type:O,json:{write:!0}})],A.prototype,"legendOptions",void 0),t([s({type:b,json:{default:null,write:!0}})],A.prototype,"outline",void 0),t([s({type:Number,json:{write:!0}})],A.prototype,"dotValue",void 0),t([s({type:Number}),l("dotValue")],A.prototype,"referenceDotValue",void 0),t([s({type:Number,json:{write:!0}})],A.prototype,"referenceScale",void 0),t([s({type:Number,json:{write:!0}})],A.prototype,"seed",void 0),t([w({dotDensity:"dot-density"})],A.prototype,"type",void 0),A=V=t([r("esri.renderers.DotDensityRenderer")],A);const C=A;var I;let E=I=class extends S{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new I({color:this.color,ratio:this.ratio})}};t([s({type:y,json:{write:!0}})],E.prototype,"color",void 0),t([s({type:Number,json:{write:!0}})],E.prototype,"ratio",void 0),E=I=t([r("esri.renderers.support.HeatmapColorStop")],E);const P=E;var $;let k=$=class extends j{constructor(e){super(e),this.blurRadius=10,this.colorStops=[new P({ratio:0,color:new y("rgba(255, 140, 0, 0)")}),new P({ratio:.75,color:new y("rgba(255, 140, 0, 1)")}),new P({ratio:.9,color:new y("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const s=this.field;s&&"string"==typeof s&&f(e,t,s)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new $({blurRadius:this.blurRadius,colorStops:o(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};t([s({type:Number,json:{write:!0}})],k.prototype,"blurRadius",void 0),t([s({type:[P],json:{write:!0}})],k.prototype,"colorStops",void 0),t([s({type:String,json:{write:!0}})],k.prototype,"field",void 0),t([s({type:Number,json:{write:{overridePolicy:(e,t,s)=>({enabled:null==s})}}})],k.prototype,"fieldOffset",void 0),t([s({type:Number,json:{write:!0}})],k.prototype,"maxPixelIntensity",void 0),t([s({type:Number,json:{write:!0}})],k.prototype,"minPixelIntensity",void 0),t([w({heatmap:"heatmap"})],k.prototype,"type",void 0),k=$=t([r("esri.renderers.HeatmapRenderer")],k);const F=k;var B;let M=B=class extends(g(j)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map((s=>s.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new B({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:o(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};t([s({type:String,json:{write:!0}})],M.prototype,"description",void 0),t([s({type:String,json:{write:!0}})],M.prototype,"label",void 0),t([s(d)],M.prototype,"symbol",void 0),t([w({simple:"simple"})],M.prototype,"type",void 0),M=B=t([r("esri.renderers.SimpleRenderer")],M);const J=M,z={key:"type",base:j,typeMap:{heatmap:F,simple:J,"unique-value":h,"class-breaks":p,"dot-density":C,dictionary:c},errorContext:"renderer"},T={key:"type",base:j,typeMap:{simple:J,"unique-value":h,"class-breaks":p},errorContext:"renderer"};function L(e,t){return Y(e,null,t)}const U=a({types:z});function Y(e,t,s){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(s&&s.messages&&s.messages.push(new u("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:s})),null):U(e,t,s):null}export{P as i,z as m,T as n,Y as o,J as p,L as t}