import { aW as c, V as e, A as r, aE as b, cp as n, ai as l$1, e as e$1, d as d$1, i as i$1 } from './messageBundle-f75b4090.js';
import { b as m } from './geometry-7e07b1ba.js';
import { h as h$1 } from './Graphic-3961df6c.js';
import { h } from './SnappingVisualizer2D-d43b012b.js';
import { d, y } from './symbols-b414aa72.js';
import { O, M, x, c as c$1 } from './drawSurfaces-747daa60.js';
import './index-b157fcf2.js';
import './PopupTemplate-6e5ecad2.js';
import './opacityUtils-5e864561.js';
import './enumeration-d3301938.js';
import './Identifiable-da047c47.js';
import './jsonUtils-13b1f6fd.js';
import './screenUtils-9bb7e30c.js';
import './vec2-5672471e.js';
import './common-d5b993de.js';
import './vec2f64-35868783.js';
import './settings-67f5d541.js';
import './Color-d1b9b54f.js';
import './colorUtils-37750ea3.js';
import './mathUtils-e16f9389.js';
import './arcgis-editor-c0835cea.js';
import './HandleOwner-88326c19.js';
import './reactiveUtils-8f9c3a3d.js';
import './screenUtils-49015526.js';
import './unitUtils-38774114.js';
import './executeQueryJSON-97747696.js';
import './utils-ab350511.js';
import './query-87b92407.js';
import './normalizeUtils-25a1ce55.js';
import './pbfQueryUtils-18f884ce.js';
import './pbf-6bd45926.js';
import './OptimizedFeature-44d5df5b.js';
import './OptimizedFeatureSet-27736f1f.js';
import './queryZScale-f42386f8.js';
import './zscale-faf9ffc2.js';
import './Query-d6335b3a.js';
import './TimeExtent-a024c0d8.js';
import './Field-bfaa8af9.js';
import './fieldType-66a19d8a.js';
import './FeatureSet-58481609.js';
import './Symbol-cad56b52.js';
import './aaBoundingBox-876621e6.js';
import './aaBoundingRect-9468599b.js';
import './persistableUrlUtils-40bbec67.js';
import './Portal-c5cfa317.js';
import './TopFeaturesQuery-cc717439.js';
import './Heading-960a88b2.js';
import './widget-c014d189.js';
import './QueryTask-23c14fd1.js';
import './featureConversionUtils-cbd79ea2.js';
import './Task-21abc82a.js';
import './FeatureLayer-91daf6b1.js';
import './UniqueValueRenderer-3c55992d.js';
import './VisualVariablesMixin-0befdf7b.js';
import './colorRamps-22c88e98.js';
import './ColorStop-d4fc22fe.js';
import './sizeVariableUtils-4d3662df.js';
import './visualVariableUtils-26c41ea6.js';
import './lengthUtils-f033d4fe.js';
import './diffUtils-849b3672.js';
import './jsonUtils-ade233cd.js';
import './styleUtils-cb28c5ef.js';
import './DictionaryRenderer-bea76550.js';
import './LRUCache-d5842b88.js';
import './MemCache-78a9f000.js';
import './jsonUtils-aa645e92.js';
import './MultiOriginJSONSupport-cb4804f4.js';
import './HeightModelInfo-1a6d7a08.js';
import './Layer-b50ea610.js';
import './workers-c4ad1958.js';
import './APIKeyMixin-d7a9a0ad.js';
import './ArcGISService-49a9bda6.js';
import './arcgisLayerUrl-49ef2818.js';
import './BlendLayer-38b8abf7.js';
import './mat4-f34c6460.js';
import './CustomParametersMixin-758e21ed.js';
import './labelingInfo-1bb19962.js';
import './OperationalLayer-d609e521.js';
import './ElevationInfo-be94499b.js';
import './LabelClass-47fb4a25.js';
import './labelUtils-8999bd11.js';
import './defaultsJSON-0b68054b.js';
import './OrderedLayer-7fa2fd9d.js';
import './PortalLayer-290979fa.js';
import './asyncUtils-fe35d349.js';
import './PortalItem-155284f3.js';
import './RefreshableLayer-f4d1c27c.js';
import './ScaleRangeLayer-584ce37b.js';
import './TemporalLayer-5a7f466a.js';
import './TimeInfo-44dec2e0.js';
import './FeatureType-aa59abbf.js';
import './fieldProperties-d7b323c6.js';
import './FieldsIndex-2a111e7e.js';
import './LayerFloorInfo-c2959bac.js';
import './styleUtils-61c488eb.js';
import './popupUtils-c3247ec1.js';
import './utils-c84cc443.js';
import './ItemCache-5d2cf877.js';
import './utils-f8425723.js';
import './Queue-a7e7a3e5.js';
import './layerViewUtils-4127a8cf.js';
import './GoTo-148cc420.js';
import './accessibleHandler-feb312a0.js';
import './vmEvent-6b909beb.js';
import './InputField-3a8ab041.js';
import './luxon-ec6026e9.js';
import './_commonjsHelpers-80e09147.js';
import './GraphicsLayer-86475574.js';
import './GraphicsCollection-58a35288.js';
import './drapedUtils-4802ed0b.js';
import './hitTestSelectUtils-779b69ca.js';
import './geodesicUtils-32a18b56.js';
import './geodesicConstants-54cb88d4.js';
import './geometry2dUtils-4e41c21e.js';
import './SnappingContext-78e35b42.js';
import './PointSnappingHint-bb0669ef.js';
import './geometryEngine-49b64dd5.js';
import './geometryEngineBase-c9e4973e.js';
import './hydrated-4c196e62.js';
import './mat2d-13076132.js';
import './mat2df64-30d0a354.js';
import './quat-2d7a417b.js';
import './quatf64-b9feea68.js';
import './dehydratedFeatureComparison-789e4e87.js';
import './EditGeometryOperations-2cb8256d.js';
import './vec4f64-2ec4ac08.js';
import './plane-f3c19202.js';
import './sphere-c3d60863.js';
import './vectorStacks-9205ea46.js';
import './mat4f64-677a419d.js';
import './projection-f3d8779d.js';
import './drawUtils-b1c3abcd.js';
import './Scheduler-3464f717.js';
import './debugFlags-e9d86cce.js';
import './dehydratedFeatures-7a1dd0b3.js';
import './byteSizeEstimations-b3396570.js';
import './quantizationUtils-e08f723c.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const t=new d({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[3.75,3.75],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),l=new y({style:"circle",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),i=new y({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let E=class extends O{constructor(e$1){super(e$1),this._visualElementGraphics={outline:null,regularVertices:null,activeVertex:null},this.activeFillSymbol=null,this.type="draw-2d",this._visualElementSymbols={outline:c(e$1.activeLineSymbol,t),regularVertices:c(e$1.regularVerticesSymbol,l),activeVertex:c(e$1.activeVertexSymbol,i),fill:e(e$1.activeFillSymbol)};}initializeGraphic(e){return r(this._visualElementSymbols.fill)&&(e.symbol=this._visualElementSymbols.fill),null}makeDrawOperation(){const e=this.view;return new M({view:e,manipulators:this.manipulators,geometryType:x(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new c$1(e),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new h(this.internalGraphicsLayer)})}onActiveVertexChanged(e){if("point"===this.geometryType)return null;const[r$1,s]=e,n$1=new b({x:r$1,y:s,spatialReference:this.drawOperation.spatialReference});return r(this._visualElementGraphics.activeVertex)?(this._visualElementGraphics.activeVertex.geometry=n$1,null):(this._visualElementGraphics.activeVertex=new h$1({geometry:n$1,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(_),n((()=>{r(this._visualElementGraphics.activeVertex)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=l$1(this._visualElementGraphics.activeVertex));})))}onOutlineChanged(e){const r$1=e.clone();if("polyline"===r$1.type){const e=r$1.paths[r$1.paths.length-1];e.splice(0,e.length-2);}return r(this._visualElementGraphics.outline)?(this._visualElementGraphics.outline.geometry=r$1,null):(this._visualElementGraphics.outline=new h$1({geometry:r$1,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.outline),this.internalGraphicsLayer.graphics.sort(_),n((()=>{r(this._visualElementGraphics.outline)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.outline),this._visualElementGraphics.outline=l$1(this._visualElementGraphics.outline));})))}onRegularVerticesChanged(e){const r$1=new m({points:e,spatialReference:this.drawOperation.spatialReference});return r(this._visualElementGraphics.regularVertices)?(this._visualElementGraphics.regularVertices.geometry=r$1,null):(this._visualElementGraphics.regularVertices=new h$1({geometry:r$1,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(_),n((()=>{r(this._visualElementGraphics.regularVertices)&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=l$1(this._visualElementGraphics.regularVertices));})))}};function _(e,i){var t,r,s,a;return (null!=(t=null==(r=e.attributes)?void 0:r.displayOrder)?t:-1/0)-(null!=(s=null==(a=i.attributes)?void 0:a.displayOrder)?s:-1/0)}e$1([d$1()],E.prototype,"activeFillSymbol",void 0),e$1([d$1({readOnly:!0})],E.prototype,"type",void 0),e$1([d$1({constructOnly:!0,nonNullable:!0})],E.prototype,"view",void 0),E=e$1([i$1("esri.views.2d.interactive.draw.DrawGraphicTool2D")],E);

export { E as DrawGraphicTool2D };
