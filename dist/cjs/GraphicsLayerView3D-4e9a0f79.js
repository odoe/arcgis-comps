'use strict';

const request = require('./messageBundle-8be88d04.js');
const LayerView3D = require('./LayerView3D-d92910a3.js');
const Graphics3DFrustumVisibility = require('./Graphics3DFrustumVisibility-760fbf68.js');
const Graphics3DGraphicLikeLayerView = require('./Graphics3DGraphicLikeLayerView-faa52695.js');
const ColorMaterial = require('./ColorMaterial-61b9182b.js');
const projectExtentUtils = require('./projectExtentUtils-f4c6117a.js');
const LayerView = require('./LayerView-2bc30c9f.js');
require('./index-fde8502c.js');
require('./symbols-29b793e5.js');
require('./enumeration-f235fe07.js');
require('./opacityUtils-f2e4b347.js');
require('./geometry-ef17530a.js');
require('./Symbol-f0556e23.js');
require('./Color-7d915caa.js');
require('./colorUtils-e70dbab5.js');
require('./mathUtils-af6066f0.js');
require('./common-41a349f2.js');
require('./screenUtils-d911ae62.js');
require('./aaBoundingBox-c372701a.js');
require('./aaBoundingRect-56648c00.js');
require('./persistableUrlUtils-c611d652.js');
require('./Portal-8d16604d.js');
require('./Texture-16b1a373.js');
require('./mat3-1d3e0d51.js');
require('./quatf64-e7a7f39e.js');
require('./mat4-f68486bc.js');
require('./mat4f64-fc3339e5.js');
require('./quat-17613ceb.js');
require('./vec3f32-5485293e.js');
require('./vec4f64-d3fa6cd2.js');
require('./sphere-ef7f801f.js');
require('./vectorStacks-f48a010a.js');
require('./vec2f64-60b3c97e.js');
require('./Texture-95d9d662.js');
require('./FramebufferObject-435e1736.js');
require('./BlendLayer-6a2ab430.js');
require('./Util-5c6af8a4.js');
require('./vec2-d000a8cb.js');
require('./utils-2d48ea24.js');
require('./doublePrecisionUtils-26ddcbaf.js');
require('./geometryDataUtils-0be35629.js');
require('./lineSegment-a86bf7bd.js');
require('./BufferView-b78db189.js');
require('./OrderIndependentTransparency-866eb67c.js');
require('./vec2f32-29a5eecf.js');
require('./InterleavedLayout-4132788d.js');
require('./types-bcd9caf5.js');
require('./asyncUtils-cd78b718.js');
require('./byteSizeEstimations-d2f2ce40.js');
require('./projection-b19710fa.js');
require('./unitUtils-083cb8d0.js');
require('./geodesicConstants-047d586a.js');
require('./dehydratedFeatures-a58f1b86.js');
require('./quantizationUtils-d1d9c03e.js');
require('./jsonUtils-b6068079.js');
require('./Field-b92c6f4a.js');
require('./fieldType-32f95259.js');
require('./featureConversionUtils-df21e951.js');
require('./OptimizedFeature-cd4fe3c6.js');
require('./OptimizedFeatureSet-b5737d2b.js');
require('./earcut-d5562923.js');
require('./vec33-1fc512be.js');
require('./visualVariableUtils-1740874b.js');
require('./Graphic-0aff6059.js');
require('./PopupTemplate-a0b855f8.js');
require('./Identifiable-a4f50f85.js');
require('./lengthUtils-179eaf12.js');
require('./sizeVariableUtils-9012516e.js');
require('./triangulationUtils-15ab4328.js');
require('./deduplicate-91c52f8d.js');
require('./intersectorUtils-0e8a6b4b.js');
require('./boundedPlane-f1094694.js');
require('./plane-0816c6c9.js');
require('./mathUtils-87b1f941.js');
require('./objectResourceUtils-58283911.js');
require('./devEnvironmentUtils-aafb5541.js');
require('./DefaultMaterial_COLOR_GAMMA-1f86519d.js');
require('./compilerUtils-56e51ed2.js');
require('./Version-55b8a4e7.js');
require('./utils-71e85012.js');
require('./ItemCache-149fdb6e.js');
require('./MemCache-7f5503ec.js');
require('./utils-fb318f28.js');
require('./callExpressionWithFeature-7cea2968.js');
require('./MeshComponent-0dd8a7d1.js');
require('./screenshotUtils-176d2414.js');
require('./projection-ea955486.js');
require('./glUtil-9df223c0.js');
require('./Scheduler-72cbcf2a.js');
require('./reactiveUtils-ef5dccea.js');
require('./debugFlags-5e6b0151.js');
require('./heightModelInfoUtils-9cedab45.js');
require('./HeightModelInfo-06fd3d80.js');
require('./arcgisLayerUrl-5174d661.js');
require('./diffUtils-df69757f.js');
require('./Layer-31cde361.js');
require('./Query-354911d3.js');
require('./TimeExtent-8b558884.js');
require('./Graphics3DScaleVisibility-7783d850.js');
require('./UniqueValueRenderer-1c485e9f.js');
require('./VisualVariablesMixin-a105fcfa.js');
require('./colorRamps-d0c2cb9d.js');
require('./ColorStop-ce63948c.js');
require('./jsonUtils-62d28b73.js');
require('./styleUtils-2b475600.js');
require('./DictionaryRenderer-a0dce499.js');
require('./LRUCache-38fdf18d.js');
require('./jsonUtils-fc4080da.js');
require('./rendererConversion-536e1699.js');
require('./LabelClass-4b91d60e.js');
require('./labelUtils-73814dda.js');
require('./defaultsJSON-0cdf7a99.js');
require('./optimizedFeatureQueryEngineAdapter-32c6c975.js');
require('./centroid-d874c2ee.js');
require('./PooledRBush-793d5c9f.js');
require('./quickselect-d3f68f5a.js');
require('./ElevationInfo-d3e3d64f.js');
require('./layerViewUtils-96bae70b.js');
require('./Graphics3DObjectStates-d741bf09.js');
require('./HandleOwner-9c4c158c.js');
require('./floatRGBA-aa45f7cb.js');
require('./geometryServiceUtils-8e2c66dc.js');
require('./project-dab29fc8.js');
require('./utils-8a0a0870.js');

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const l=1.2;let g=class extends(LayerView3D.p(LayerView.u)){constructor(){super(...arguments),this.type="graphics-3d",this.frustumVisibility=new Graphics3DFrustumVisibility.c,this.slicePlaneEnabled=!1,this.drapeSourceType=1,this.suspendResumeExtent=null,this.fullExtentInLocalViewSpatialReference=null;}initialize(){this._set("graphics3d",new Graphics3DGraphicLikeLayerView.E({owner:this,layer:this.layer,scaleVisibilityEnabled:!0})),this.graphics3d.setup(),this.frustumVisibility.setup(this),this.setupSuspendResumeExtent(),this.updatingHandles.add(this,"fullOpacity",(()=>this.graphics3d.graphicsCore.opacityChange())),this.handles.add(this.layer.on("graphic-update",(i=>this.graphics3d.graphicsCore.graphicUpdateHandler(i)))),this.addResolvingPromise(projectExtentUtils.l(this).then((i=>this.fullExtentInLocalViewSpatialReference=i))),this.layer.internal?this.notifyChange("updating"):this.handles.add(request.d$2(this.view,"basemapTerrain.ready",(()=>this.notifyChange("updating"))));}destroy(){this.frustumVisibility&&(this.frustumVisibility.destroy(),this._set("frustumVisibility",null)),this.graphics3d&&(this.graphics3d.destroy(),this._set("graphics3d",null));}get legendEnabled(){return this.canResume()&&!this.frustumVisibility.suspended}get suspendInfo(){var i;const e={};return request.r(this.graphics3d.scaleVisibility)&&this.graphics3d.scaleVisibility.suspended&&(e.outsideScaleRange=!0),e.outsideOfView=!(null==(i=this.frustumVisibility)||!i.suspended),e}async fetchPopupFeatures(i,e){return request.r(e)?e.clientGraphics:null}notifyGraphicGeometryChanged(i){this.graphics3d.graphicsCore.notifyGraphicGeometryChanged(i);}notifyGraphicVisibilityChanged(i){this.graphics3d.graphicsCore.notifyGraphicVisibilityChanged(i);}get graphics3DGraphics(){return this.graphics3d.graphicsCore.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphics3d?this.graphics3d.graphicsCore.graphics3DGraphicsByObjectID:null}get symbolUpdateType(){return this.graphics3d.graphicsCore.symbolUpdateType}getGraphicFromGraphicUid(i){return this.graphics3d.getGraphicFromGraphicUid(i)}whenGraphicBounds(i,s){return this.graphics3d.whenGraphicBounds(i,s)}computeAttachmentOrigin(i,s){return this.graphics3d?this.graphics3d.graphicsCore.computeAttachmentOrigin(i,s):null}getSymbolLayerSize(i,s){return this.graphics3d.getSymbolLayerSize(i,s)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(i){return this.graphics3d.maskOccludee(i)}highlight(i){return this.graphics3d.highlight(i)}get updatePolicy(){var i;return (null==(i=this.graphics3d)?void 0:i.graphicsCore.effectiveUpdatePolicy)||1}canResume(){var i;return super.canResume()&&!(null!=(i=this.graphics3d)&&i.suspended)}isUpdating(){var i,s;return !(!(this.graphics3d&&this.graphics3d.updating||this.frustumVisibility&&this.frustumVisibility.updating)&&(this.layer.internal||null!=(i=this.view)&&null!=(s=i.basemapTerrain)&&s.ready))}setupSuspendResumeExtent(){const i=()=>{this.suspendResumeExtent=ColorMaterial.F(this.graphics3d.graphicsCore.computedExtent,this.suspendResumeExtent,l,this.graphics3d.graphicsCore.extentPadding),this.frustumVisibility.setExtent(this.suspendResumeExtent);};request.i$1(this.graphics3d.graphicsCore,"computedExtent",(()=>i()),!0),request.f(this.graphics3d.graphicsCore,"extentPadding",(()=>i()),!0);}get performanceInfo(){return {displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:this.graphics3d.elevationAlignment.updating,visibilityFrustum:!this.frustumVisibility.suspended}}};request.e([request.d({aliasOf:"layer.graphics"})],g.prototype,"loadedGraphics",void 0),request.e([request.d({readOnly:!0})],g.prototype,"suspended",void 0),request.e([request.d({readOnly:!0})],g.prototype,"legendEnabled",null),request.e([request.d({readOnly:!0})],g.prototype,"updating",void 0),request.e([request.d()],g.prototype,"layer",void 0),request.e([request.d({readOnly:!0})],g.prototype,"frustumVisibility",void 0),request.e([request.d({readOnly:!0})],g.prototype,"graphics3d",void 0),request.e([request.d({type:Boolean})],g.prototype,"slicePlaneEnabled",void 0),request.e([request.d({readOnly:!0})],g.prototype,"suspendInfo",null),g=request.e([request.i("esri.views.3d.layers.GraphicsLayerView3D")],g);const y=g;

exports.default = y;
